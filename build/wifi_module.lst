ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"wifi_module.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.Set_WiFi_Control_Variables,"ax",%progbits
  18              		.align	1
  19              		.global	Set_WiFi_Control_Variables
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	Set_WiFi_Control_Variables:
  26              	.LFB276:
  27              		.file 1 "Middlewares/ST/STM32_SPWF0xSy/wifi_module.c"
   1:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
   2:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  ******************************************************************************
   3:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  * @file    wifi_module.c
   4:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  * @author  Central LAB
   5:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  * @version V2.1.0
   6:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  * @date    17-May-2016
   7:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  * @brief   Enable Wi-Fi functionality using AT cmd set
   8:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  ******************************************************************************
   9:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  * @attention
  10:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  *
  11:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  * <h2><center>&copy; COPYRIGHT(c) 2015 STMicroelectronics</center></h2>
  12:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  *
  13:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  * Redistribution and use in source and binary forms, with or without modification,
  14:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  * are permitted provided that the following conditions are met:
  15:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  *   1. Redistributions of source code must retain the above copyright notice,
  16:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  *      this list of conditions and the following disclaimer.
  17:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  *   2. Redistributions in binary form must reproduce the above copyright notice,
  18:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  *      this list of conditions and the following disclaimer in the documentation
  19:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  *      and/or other materials provided with the distribution.
  20:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  *   3. Neither the name of STMicroelectronics nor the names of its contributors
  21:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  *      may be used to endorse or promote products derived from this software
  22:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  *      without specific prior written permission.
  23:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  *
  24:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  25:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  26:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  27:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  28:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  29:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  30:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  31:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 2


  32:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  33:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  34:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  *
  35:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  ******************************************************************************
  36:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  */
  37:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /* Includes ------------------------------------------------------------------*/
  38:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #include "wifi_module.h"
  39:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #include "wifi_globals.h"
  40:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
  41:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /** @addtogroup MIDDLEWARES
  42:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @{
  43:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */ 
  44:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
  45:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /** @defgroup  NUCLEO_WIFI_MODULE
  46:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   * @brief Wi-Fi driver modules
  47:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   * @{
  48:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   */
  49:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
  50:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /** @defgroup NUCLEO_WIFI_MODULE_Private_Defines
  51:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   * @{
  52:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   */
  53:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
  54:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
  55:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   * @}
  56:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   */
  57:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
  58:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /** @addtogroup NUCLEO_WIFI_MODULE_Private_Variables
  59:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   * @{
  60:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   */
  61:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
  62:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** wifi_instances_t wifi_instances;
  63:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /*
  64:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef SPWF04
  65:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** extern wifi_bool wind_55_in_Q;
  66:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
  67:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
  68:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /***********All Buffers**************/
  69:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
  70:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #if defined (__CC_ARM)
  71:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** size_t strnlen (const char* s, size_t maxlen);
  72:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
  73:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** size_t strnlen (const char* s, size_t maxlen)
  74:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   {
  75:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     size_t len = 0;
  76:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     while ((len <= maxlen) && (*s))
  77:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       {
  78:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           s++;
  79:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           len++;
  80:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       }
  81:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     return len;
  82:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   }
  83:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
  84:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
  85:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef WIFI_USE_VCOM
  86:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
  87:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** uint8_t console_send_char[1];
  88:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** DMA_HandleTypeDef DMA_UART_RX;
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 3


  89:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** DMA_HandleTypeDef DMA_WIFI_UART;
  90:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
  91:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void UART_DMA_Init(void)
  92:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {  
  93:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
  94:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /*## -1- Enable DMA clock #################################################*/
  95:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   CONSOLE_UART_DMAx_CLK_ENABLE();
  96:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef USE_STM32F4XX_NUCLEO
  97:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /*##-2- Select the DMA functional Parameters ###############################*/
  98:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.Channel = WIFI_CONSOLE_DMA_CHANNEL;
  99:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.Direction = DMA_PERIPH_TO_MEMORY;          /* M2M transfer mode                *
 100:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.PeriphInc = DMA_PINC_DISABLE;               /* Peripheral increment mode Enable 
 101:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.MemInc = DMA_MINC_DISABLE;                  /* Memory increment mode Enable     
 102:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE; /* Peripheral data alignment : Word *
 103:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;    /* memory data alignment : Word     *
 104:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.Mode = DMA_NORMAL;                         // Normal DMA mode DMA_NORMAL, DMA_CI
 105:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.Priority = DMA_PRIORITY_MEDIUM;              /* priority level : DMA_PRIORITY_ME
 106:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.FIFOMode = DMA_FIFOMODE_DISABLE;
 107:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.FIFOThreshold = DMA_FIFO_THRESHOLD_FULL;
 108:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.MemBurst = DMA_MBURST_INC4;
 109:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.PeriphBurst = DMA_PBURST_INC4;
 110:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 111:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /*##-3- Select the DMA instance to be used for the transfer : #*/
 112:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Instance = WIFI_CONSOLE_DMA_STREAM;
 113:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 114:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef USE_STM32L4XX_NUCLEO
 115:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.Request             = WIFI_CONSOLE_DMA_REQUEST;
 116:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     
 117:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.Direction           = DMA_PERIPH_TO_MEMORY;
 118:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.PeriphInc           = DMA_PINC_DISABLE;
 119:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.MemInc              = DMA_MINC_DISABLE;
 120:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 121:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.MemDataAlignment    = DMA_MDATAALIGN_BYTE;
 122:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.Mode                = DMA_CIRCULAR;//DMA_NORMAL;
 123:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.Priority            = DMA_PRIORITY_MEDIUM;
 124:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 125:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /*##-3- Select the DMA instance to be used for the transfer */
 126:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Instance = WIFI_CONSOLE_DMA_CHANNEL;
 127:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif  
 128:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef USE_STM32L0XX_NUCLEO
 129:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.Request             = WIFI_CONSOLE_DMA_REQUEST;
 130:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     
 131:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.Direction           = DMA_PERIPH_TO_MEMORY;
 132:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.PeriphInc           = DMA_PINC_DISABLE;
 133:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.MemInc              = DMA_MINC_DISABLE;
 134:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 135:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.MemDataAlignment    = DMA_MDATAALIGN_BYTE;
 136:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.Mode                = DMA_CIRCULAR;//DMA_NORMAL;
 137:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.Priority            = DMA_PRIORITY_MEDIUM;
 138:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 139:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /*##-3- Select the DMA instance to be used for the transfer */
 140:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Instance = WIFI_CONSOLE_DMA_CHANNEL;
 141:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 142:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef USE_STM32F1xx_NUCLEO  
 143:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   //DMA_UART_RX.Init.             = WIFI_CONSOLE_DMA_REQUEST;
 144:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     
 145:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.Direction           = DMA_PERIPH_TO_MEMORY;
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 4


 146:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.PeriphInc           = DMA_PINC_DISABLE;
 147:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.MemInc              = DMA_MINC_DISABLE;
 148:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 149:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.MemDataAlignment    = DMA_MDATAALIGN_BYTE;
 150:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.Mode                = DMA_CIRCULAR;//DMA_NORMAL;
 151:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Init.Priority            = DMA_PRIORITY_MEDIUM;
 152:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 153:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /*##-3- Select the DMA instance to be used for the transfer */
 154:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_UART_RX.Instance = WIFI_CONSOLE_DMA_CHANNEL;
 155:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 156:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /*##-4- Initialize the DMA stream ##########################################*/
 157:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if (HAL_DMA_Init(&DMA_UART_RX) != HAL_OK)
 158:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   {
 159:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     /* Initialization Error */
 160:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     Error_Handler();
 161:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   }
 162:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 163:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /*##-5- Configure NVIC for DMA transfer complete/error interrupts ##########*/
 164:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* Set Interrupt Group Priority */
 165:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   HAL_NVIC_SetPriority(WIFI_CONSOLE_DMA_IRQn, 0, 0);
 166:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 167:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* Enable the DMA Channel global Interrupt */
 168:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   HAL_NVIC_EnableIRQ(WIFI_CONSOLE_DMA_IRQn);
 169:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 170:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #if defined (USE_STM32F4XX_NUCLEO) || defined (USE_STM32F1xx_NUCLEO)
 171:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   uint32_t      DmaSrcAddr  = (uint32_t) USART2_BASE + 0x04U; //&UartMsgHandle.Instance->DR; //cons
 172:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 173:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #if defined (USE_STM32L0XX_NUCLEO) || defined (USE_STM32L4XX_NUCLEO)
 174:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   uint32_t      DmaSrcAddr  = (uint32_t) USART2_BASE + 0x24U;
 175:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 176:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 177:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   uint32_t      DmaDestAddr = (uint32_t) console_send_char;
 178:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 179:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifndef USE_STM32F1xx_NUCLEO  
 180:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   LL_DMA_ConfigAddresses(WIFI_CONSOLE_DMA, 
 181:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                          WIFI_CONSOLE_LL_DMA, 
 182:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                          DmaSrcAddr,
 183:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                          DmaDestAddr,
 184:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                          LL_DMA_DIRECTION_PERIPH_TO_MEMORY
 185:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                         );
 186:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #else
 187:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_ConfigAddress(&DMA_UART_RX, DmaSrcAddr, DmaDestAddr, 1);
 188:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __HAL_DMA_ENABLE_IT(&DMA_UART_RX, DMA_IT_TC);
 189:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __HAL_DMA_ENABLE(&DMA_UART_RX);
 190:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 191:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 192:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifndef USE_STM32F1xx_NUCLEO   
 193:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   LL_DMA_SetDataLength(WIFI_CONSOLE_DMA, WIFI_CONSOLE_LL_DMA, 1);
 194:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   LL_DMA_EnableIT_TC(WIFI_CONSOLE_DMA, WIFI_CONSOLE_LL_DMA);
 195:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef USE_STM32F4XX_NUCLEO    
 196:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   LL_DMA_EnableStream(WIFI_CONSOLE_DMA, WIFI_CONSOLE_LL_DMA);
 197:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 198:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef USE_STM32L4XX_NUCLEO
 199:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   LL_DMA_EnableChannel(WIFI_CONSOLE_DMA, WIFI_CONSOLE_LL_DMA);
 200:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 201:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef USE_STM32L0XX_NUCLEO
 202:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   LL_DMA_EnableChannel(WIFI_CONSOLE_DMA, WIFI_CONSOLE_LL_DMA);
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 5


 203:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 204:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 205:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 206:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** //================================================================================================
 207:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /*## -1- Enable DMA clock #################################################*/
 208:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WIFI_UART_DMAx_CLK_ENABLE();
 209:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef USE_STM32F4XX_NUCLEO
 210:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /*##-2- Select the DMA functional Parameters ###############################*/
 211:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.Channel = WIFI_UART_DMA_CHANNEL;
 212:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.Direction = DMA_PERIPH_TO_MEMORY;          /* M2M transfer mode               
 213:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.PeriphInc = DMA_PINC_DISABLE;               /* Peripheral increment mode Enabl
 214:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.MemInc = DMA_MINC_DISABLE;                  /* Memory increment mode Enable   
 215:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE; /* Peripheral data alignment : Word
 216:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;    /* memory data alignment : Word    
 217:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.Mode = DMA_NORMAL;                         // Normal DMA mode DMA_NORMAL, DMA_
 218:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.Priority = DMA_PRIORITY_MEDIUM;              /* priority level : DMA_PRIORITY_
 219:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.FIFOMode = DMA_FIFOMODE_DISABLE;
 220:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.FIFOThreshold = DMA_FIFO_THRESHOLD_FULL;
 221:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.MemBurst = DMA_MBURST_INC4;
 222:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.PeriphBurst = DMA_PBURST_INC4;
 223:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 224:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /*##-3- Select the DMA instance to be used for the transfer */
 225:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Instance = WIFI_UART_DMA_STREAM;
 226:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 227:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef USE_STM32L4XX_NUCLEO
 228:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /*##-2- Select the DMA functional Parameters ###############################*/
 229:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.Request             = WIFI_UART_DMA_REQUEST;
 230:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     
 231:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.Direction           = DMA_PERIPH_TO_MEMORY;
 232:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.PeriphInc           = DMA_PINC_DISABLE;
 233:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.MemInc              = DMA_MINC_DISABLE;
 234:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 235:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.MemDataAlignment    = DMA_MDATAALIGN_BYTE;
 236:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.Mode                = DMA_CIRCULAR;//DMA_NORMAL;
 237:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.Priority            = DMA_PRIORITY_MEDIUM;
 238:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 239:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /*##-3- Select the DMA instance to be used for the transfer : DMA2_Stream0 #*/
 240:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Instance = WIFI_UART_DMA_CHANNEL;
 241:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif   
 242:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef USE_STM32L0XX_NUCLEO
 243:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.Request             = WIFI_UART_DMA_REQUEST;
 244:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     
 245:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.Direction           = DMA_PERIPH_TO_MEMORY;
 246:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.PeriphInc           = DMA_PINC_DISABLE;
 247:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.MemInc              = DMA_MINC_DISABLE;
 248:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 249:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.MemDataAlignment    = DMA_MDATAALIGN_BYTE;
 250:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.Mode                = DMA_CIRCULAR;//DMA_NORMAL;
 251:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.Priority            = DMA_PRIORITY_MEDIUM;
 252:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 253:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /*##-3- Select the DMA instance to be used for the transfer : DMA2_Stream0 #*/
 254:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Instance = WIFI_UART_DMA_CHANNEL;
 255:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 256:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef USE_STM32F1xx_NUCLEO  
 257:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   //DMA_WIFI_UART.Init.             = WIFI_UART_DMA_REQUEST;
 258:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     
 259:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.Direction           = DMA_PERIPH_TO_MEMORY;
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 6


 260:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.PeriphInc           = DMA_PINC_DISABLE;
 261:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.MemInc              = DMA_MINC_DISABLE;
 262:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 263:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.MemDataAlignment    = DMA_MDATAALIGN_BYTE;
 264:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.Mode                = DMA_CIRCULAR;//DMA_NORMAL;
 265:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Init.Priority            = DMA_PRIORITY_MEDIUM;
 266:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 267:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /*##-3- Select the DMA instance to be used for the transfer */
 268:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_WIFI_UART.Instance = WIFI_UART_DMA_CHANNEL;
 269:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif  
 270:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /*##-4- Initialize the DMA stream ##########################################*/
 271:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if (HAL_DMA_Init(&DMA_WIFI_UART) != HAL_OK)
 272:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   {
 273:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     /* Initialization Error */
 274:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     Error_Handler();
 275:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   }
 276:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 277:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /*##-5- Configure NVIC for DMA transfer complete/error interrupts ##########*/
 278:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* Set Interrupt Group Priority */
 279:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   HAL_NVIC_SetPriority(WIFI_UART_DMA_IRQn, 0, 0);
 280:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 281:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* Enable the DMA Channel global Interrupt */
 282:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   HAL_NVIC_EnableIRQ(WIFI_UART_DMA_IRQn);
 283:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 284:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #if defined (USE_STM32F4XX_NUCLEO) || defined (USE_STM32F1xx_NUCLEO)
 285:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DmaSrcAddr  = (uint32_t) USART1_BASE + 0x04U; //&UartMsgHandle.Instance->DR; //console_input_char
 286:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 287:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #if defined (USE_STM32L0XX_NUCLEO) || defined (USE_STM32L4XX_NUCLEO)
 288:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DmaSrcAddr  = (uint32_t) USART1_BASE + 0x24U;
 289:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 290:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 291:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DmaDestAddr = (uint32_t) WiFi_Counter_Variables.uart_byte;
 292:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 293:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifndef USE_STM32F1xx_NUCLEO  
 294:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   LL_DMA_ConfigAddresses(WIFI_UART_DMA, 
 295:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                          WIFI_UART_LL_DMA, 
 296:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                          DmaSrcAddr,
 297:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                          DmaDestAddr,
 298:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                          LL_DMA_DIRECTION_PERIPH_TO_MEMORY
 299:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                         );
 300:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #else
 301:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   DMA_ConfigAddress(&DMA_WIFI_UART, DmaSrcAddr, DmaDestAddr, 1);
 302:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __HAL_DMA_ENABLE_IT(&DMA_WIFI_UART, DMA_IT_TC);
 303:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __HAL_DMA_ENABLE(&DMA_WIFI_UART);
 304:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 305:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 306:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifndef USE_STM32F1xx_NUCLEO
 307:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   LL_DMA_SetDataLength(WIFI_UART_DMA, WIFI_UART_LL_DMA, 1);
 308:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   LL_DMA_EnableIT_TC(WIFI_UART_DMA, WIFI_UART_LL_DMA);
 309:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef USE_STM32F4XX_NUCLEO 
 310:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   LL_DMA_EnableStream(WIFI_UART_DMA, WIFI_UART_LL_DMA);
 311:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 312:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef USE_STM32L4XX_NUCLEO
 313:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   LL_DMA_EnableChannel(WIFI_UART_DMA, WIFI_UART_LL_DMA);
 314:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 315:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef USE_STM32L0XX_NUCLEO
 316:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   LL_DMA_EnableChannel(WIFI_UART_DMA, WIFI_UART_LL_DMA);
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 7


 317:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif  
 318:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 319:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 320:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 321:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void DMA1_TransferComplete()
 322:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 323:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* Process Locked */
 324:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   UartWiFiHandle.Lock = HAL_LOCKED;
 325:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 326:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   UartWiFiHandle.ErrorCode = HAL_UART_ERROR_NONE;
 327:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #if defined (USE_STM32F4XX_NUCLEO) || defined (USE_STM32L4XX_NUCLEO)
 328:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   UartWiFiHandle.gState = HAL_UART_STATE_BUSY_TX;
 329:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 330:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   UartWiFiHandle.pTxBuffPtr = (uint8_t*) console_send_char;
 331:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   UartWiFiHandle.TxXferSize = 1;
 332:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   UartWiFiHandle.TxXferCount = 1;
 333:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 334:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #if defined (USE_STM32L0XX_NUCLEO) || defined (USE_STM32F1xx_NUCLEO)
 335:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* Check if a receive process is ongoing or not */
 336:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     if(UartWiFiHandle.State == HAL_UART_STATE_BUSY_RX) 
 337:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
 338:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       UartWiFiHandle.State = HAL_UART_STATE_BUSY_TX_RX;
 339:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 340:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     else
 341:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
 342:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       UartWiFiHandle.State = HAL_UART_STATE_BUSY_TX;
 343:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 344:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 345:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   // Process Unlocked
 346:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   UartWiFiHandle.Lock = HAL_UNLOCKED;
 347:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 348:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   // Enable the UART Transmit data register empty Interrupt
 349:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __HAL_UART_ENABLE_IT(&UartWiFiHandle, UART_IT_TXE);
 350:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 351:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef USE_STM32F1xx_NUCLEO
 352:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   //__HAL_DMA_ENABLE_IT(&DMA_UART_RX, DMA_IT_TC);
 353:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   //__HAL_DMA_ENABLE(&DMA_UART_RX);
 354:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #else  
 355:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 356:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef USE_STM32F4XX_NUCLEO
 357:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   LL_DMA_EnableIT_TC(WIFI_CONSOLE_DMA, WIFI_CONSOLE_LL_DMA);
 358:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   LL_DMA_EnableStream(WIFI_CONSOLE_DMA, WIFI_CONSOLE_LL_DMA);
 359:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 360:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef USE_STM32L4XX_NUCLEO
 361:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   //LL_DMA_EnableIT_TC(WIFI_CONSOLE_DMA, WIFI_CONSOLE_LL_DMA);
 362:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   //LL_DMA_EnableChannel(WIFI_CONSOLE_DMA, WIFI_CONSOLE_LL_DMA);
 363:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 364:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 365:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 366:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* Process Unlocked */
 367:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   UartWiFiHandle.Lock = HAL_UNLOCKED;    
 368:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 369:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 370:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void DMA2_TransferComplete()
 371:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 372:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     /* Process Locked */
 373:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   UartMsgHandle->Lock = HAL_LOCKED;  
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 8


 374:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 375:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   UartMsgHandle->ErrorCode = HAL_UART_ERROR_NONE;
 376:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #if defined (USE_STM32F4XX_NUCLEO) || defined (USE_STM32L4XX_NUCLEO)
 377:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   UartMsgHandle->gState = HAL_UART_STATE_BUSY_TX;
 378:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif  
 379:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   UartMsgHandle->pTxBuffPtr = (uint8_t*) WiFi_Counter_Variables.uart_byte;
 380:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   UartMsgHandle->TxXferSize = 1;
 381:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   UartMsgHandle->TxXferCount = 1;
 382:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 383:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #if defined (USE_STM32L0XX_NUCLEO) || defined (USE_STM32F1xx_NUCLEO)  
 384:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* Check if a receive process is ongoing or not */
 385:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     if(UartMsgHandle->State == HAL_UART_STATE_BUSY_RX) 
 386:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
 387:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       UartMsgHandle->State = HAL_UART_STATE_BUSY_TX_RX;
 388:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 389:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     else
 390:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
 391:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       UartMsgHandle->State = HAL_UART_STATE_BUSY_TX;
 392:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 393:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 394:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   // Process Unlocked
 395:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   UartMsgHandle->Lock = HAL_UNLOCKED;
 396:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 397:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   // Enable the UART Transmit data register empty Interrupt
 398:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __HAL_UART_ENABLE_IT(UartMsgHandle, UART_IT_TXE);
 399:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   //HAL_UART_Transmit(UartMsgHandle, (uint8_t*) WiFi_Counter_Variables.uart_byte, 1, 10);
 400:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 401:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef USE_STM32F1xx_NUCLEO
 402:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   //__HAL_DMA_ENABLE_IT(&DMA_WIFI_UART, DMA_IT_TC);
 403:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   //__HAL_DMA_ENABLE(&DMA_WIFI_UART);
 404:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #else  
 405:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 406:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef USE_STM32F4XX_NUCLEO
 407:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   LL_DMA_EnableIT_TC(WIFI_UART_DMA, WIFI_UART_LL_DMA);
 408:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   LL_DMA_EnableStream(WIFI_UART_DMA, WIFI_UART_LL_DMA);
 409:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 410:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef USE_STM32L4XX_NUCLEO
 411:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   //LL_DMA_EnableIT_TC(WIFI_UART_DMA, WIFI_UART_LL_DMA);
 412:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   //LL_DMA_EnableChannel(WIFI_UART_DMA, WIFI_UART_LL_DMA);
 413:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif  
 414:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 415:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 416:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 417:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }    
 418:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 419:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 420:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
 421:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   * @}
 422:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   */
 423:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 424:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /** @defgroup NUCLEO_WIFI_MODULE_Private_Functions
 425:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   * @{
 426:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   */
 427:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 428:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
 429:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   * @brief  WiFi_Module_Init
 430:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   *         Initialize wifi module
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 9


 431:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   * @param  None
 432:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   * @retval None
 433:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   */
 434:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void WiFi_Module_Init(void)
 435:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 436:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef WIFI_USE_VCOM
 437:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   //console_input();
 438:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif  
 439:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 440:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #if defined (USE_STM32L0XX_NUCLEO) && defined (WIFI_USE_VCOM) 
 441:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   //init(&wifi_instances.big_buff, 4096);//Init the ring buffer  
 442:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #else
 443:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   init(&wifi_instances.big_buff, 1024);//Init the ring buffer  
 444:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 445:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 446:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   IO_status_flag.wifi_ready = 0; //reset to get user callback on HW started
 447:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   wifi_connected = 0; //reset to get user callback on WiFi UP
 448:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 449:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifndef WIFI_USE_VCOM
 450:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #if defined (CONSOLE_UART_ENABLED)
 451:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef SPWF01
 452:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Receive_Data();
 453:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #else
 454:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Receive_DMA_Uart_Data();
 455:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 456:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #else  
 457:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   #if defined(SPWF04) //SPWF01 does not have SPI
 458:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     WiFi_SPI_Init(&SpiHandle); 
 459:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     Enable_SPI_Receiving_Path();  
 460:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   #endif
 461:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 462:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 463:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     
 464:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Set_WiFi_Counter_Variables( );
 465:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Set_WiFi_Control_Variables( );
 466:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 467:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef USE_STM32L0XX_NUCLEO
 468:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   event_init(&wifi_instances.event_buff, 10); //max 15 events can be Q'ed (Event Buffer is of size 
 469:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #else
 470:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   event_init(&wifi_instances.event_buff, 50); //max 50 events can be Q'ed (Event Buffer is of size 
 471:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 472:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 473:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifndef WIFI_USE_VCOM
 474:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Start_Timer();  
 475:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   memset(open_sockets,0x00, 8); //init the open socket array
 476:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 477:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(HAL_TIM_Base_Start_IT(&TimHandle) != HAL_OK)//Start the TIM timer
 478:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
 479:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       #if DEBUG_PRINT
 480:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       printf("Error");
 481:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       #endif
 482:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_UART_Error_Handler();
 483:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 484:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 485:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 486:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 487:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 10


 488:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Set_WiFi_Control_Variables
 489:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Sets the default value of some control Variables
 490:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
 491:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
 492:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
 493:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Set_WiFi_Control_Variables(void)
 494:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
  28              		.loc 1 494 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
 495:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   IO_status_flag.enable_dequeue                      = WIFI_TRUE;
  33              		.loc 1 495 0
  34 0000 1B4B     		ldr	r3, .L2
  35 0002 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
  36 0004 42F00802 		orr	r2, r2, #8
  37 0008 1A70     		strb	r2, [r3]
 496:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   IO_status_flag.command_mode                        = WIFI_TRUE;
  38              		.loc 1 496 0
  39 000a 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
  40 000c 42F08002 		orr	r2, r2, #128
  41 0010 1A70     		strb	r2, [r3]
 497:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   IO_status_flag.radio_off                           = WIFI_FALSE;
  42              		.loc 1 497 0
  43 0012 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
  44 0014 6FF38612 		bfc	r2, #6, #1
  45 0018 1A70     		strb	r2, [r3]
 498:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   IO_status_flag.UartReady                           = RESET;
  46              		.loc 1 498 0
  47 001a 0022     		movs	r2, #0
  48 001c 5A74     		strb	r2, [r3, #17]
 499:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   IO_status_flag.Uart2Ready                          = RESET;
  49              		.loc 1 499 0
  50 001e 9A74     		strb	r2, [r3, #18]
 500:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   IO_status_flag.WIND64_count                        = 0;
  51              		.loc 1 500 0
  52 0020 5A60     		str	r2, [r3, #4]
 501:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   IO_status_flag.AT_Response_Received                = WIFI_FALSE;
  53              		.loc 1 501 0
  54 0022 5978     		ldrb	r1, [r3, #1]	@ zero_extendqisi2
  55 0024 62F30001 		bfi	r1, r2, #0, #1
  56 0028 5970     		strb	r1, [r3, #1]
 502:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   IO_status_flag.WiFi_WIND_State                     = Undefine_state;
  57              		.loc 1 502 0
  58 002a FF21     		movs	r1, #255
  59 002c 9975     		strb	r1, [r3, #22]
 503:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   IO_status_flag.client_socket_close_type            = NET_SOCKET;
  60              		.loc 1 503 0
  61 002e 0221     		movs	r1, #2
  62 0030 D974     		strb	r1, [r3, #19]
 504:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   IO_status_flag.client_socket_data_type             = NET_SOCKET;
  63              		.loc 1 504 0
  64 0032 1975     		strb	r1, [r3, #20]
 505:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   IO_status_flag.AT_event_processing                 = WIFI_NO_EVENT;
  65              		.loc 1 505 0
  66 0034 5A75     		strb	r2, [r3, #21]
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 11


 506:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   IO_status_flag.AT_CMD_count                        = 0;
  67              		.loc 1 506 0
  68 0036 DA60     		str	r2, [r3, #12]
 507:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 508:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Control_Variables.switch_by_default_to_command_mode    = WIFI_TRUE;
  69              		.loc 1 508 0
  70 0038 0E4B     		ldr	r3, .L2+4
  71 003a 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 509:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Control_Variables.queue_wifi_wind_message              = WIFI_TRUE;
  72              		.loc 1 509 0
  73 003c 41F00301 		orr	r1, r1, #3
  74 0040 1970     		strb	r1, [r3]
 510:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Control_Variables.enable_timeout_timer                 = WIFI_FALSE;
  75              		.loc 1 510 0
  76 0042 5979     		ldrb	r1, [r3, #5]	@ zero_extendqisi2
  77 0044 62F34511 		bfi	r1, r2, #5, #1
  78 0048 5971     		strb	r1, [r3, #5]
 511:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Control_Variables.broken_message                       = WIFI_FALSE;
  79              		.loc 1 511 0
  80 004a 197A     		ldrb	r1, [r3, #8]	@ zero_extendqisi2
 512:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   //enable SockOn_Server_Closed_Callback when wind:58 received, not when user requests for socket c
 513:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   //WiFi_Control_Variables.packet_payload_data_available = WIFI_FALSE;
 514:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Control_Variables.enable_SockON_Server_Closed_Callback = WIFI_TRUE;
  81              		.loc 1 514 0
  82 004c 9879     		ldrb	r0, [r3, #6]	@ zero_extendqisi2
  83 004e 40F00400 		orr	r0, r0, #4
  84 0052 9871     		strb	r0, [r3, #6]
 515:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Control_Variables.request_complete = WIFI_FALSE;
  85              		.loc 1 515 0
  86 0054 D879     		ldrb	r0, [r3, #7]	@ zero_extendqisi2
  87 0056 62F3C710 		bfi	r0, r2, #7, #1
  88 005a D871     		strb	r0, [r3, #7]
 516:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Control_Variables.runway_buffer_contains_data  = WIFI_FALSE;
 517:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Control_Variables.pending_unused_data = WIFI_FALSE;
 518:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Control_Variables.temporarily_modify_variable_value = WIFI_FALSE;
  89              		.loc 1 518 0
  90 005c 01F0F801 		and	r1, r1, #248
  91 0060 62F3C301 		bfi	r1, r2, #3, #1
  92 0064 1972     		strb	r1, [r3, #8]
 519:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Control_Variables.parsing_wind_56_data = WIFI_FALSE;
  93              		.loc 1 519 0
  94 0066 597A     		ldrb	r1, [r3, #9]	@ zero_extendqisi2
  95 0068 62F38201 		bfi	r1, r2, #2, #1
  96 006c 5972     		strb	r1, [r3, #9]
  97 006e 7047     		bx	lr
  98              	.L3:
  99              		.align	2
 100              	.L2:
 101 0070 00000000 		.word	IO_status_flag
 102 0074 00000000 		.word	WiFi_Control_Variables
 103              		.cfi_endproc
 104              	.LFE276:
 106              		.section	.text.Set_WiFi_Counter_Variables,"ax",%progbits
 107              		.align	1
 108              		.global	Set_WiFi_Counter_Variables
 109              		.syntax unified
 110              		.thumb
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 12


 111              		.thumb_func
 112              		.fpu fpv4-sp-d16
 114              	Set_WiFi_Counter_Variables:
 115              	.LFB277:
 520:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 521:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 522:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
 523:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Set_WiFi_Counter_Variables
 524:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Sets the default value of some counter Variables
 525:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
 526:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
 527:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
 528:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Set_WiFi_Counter_Variables(void)
 529:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 116              		.loc 1 529 0
 117              		.cfi_startproc
 118              		@ args = 0, pretend = 0, frame = 0
 119              		@ frame_needed = 0, uses_anonymous_args = 0
 120 0000 08B5     		push	{r3, lr}
 121              	.LCFI0:
 122              		.cfi_def_cfa_offset 8
 123              		.cfi_offset 3, -8
 124              		.cfi_offset 14, -4
 530:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.no_of_open_client_sockets = 0;
 125              		.loc 1 530 0
 126 0002 174B     		ldr	r3, .L6
 127 0004 DA79     		ldrb	r2, [r3, #7]	@ zero_extendqisi2
 128 0006 6FF3C502 		bfc	r2, #3, #3
 129 000a DA71     		strb	r2, [r3, #7]
 531:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.wind64_DQ_wait            = 0;
 130              		.loc 1 531 0
 131 000c 0021     		movs	r1, #0
 132 000e C3F8AC10 		str	r1, [r3, #172]
 532:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.Socket_Data_Length        = 0;
 133              		.loc 1 532 0
 134 0012 C3F8A010 		str	r1, [r3, #160]
 533:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.number_of_bytes           = 0;
 135              		.loc 1 533 0
 136 0016 C3F8A810 		str	r1, [r3, #168]
 534:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.interim_number_of_bytes   = 0;
 137              		.loc 1 534 0
 138 001a C3F8B810 		str	r1, [r3, #184]
 535:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.sock_total_count          = 0;
 139              		.loc 1 535 0
 140 001e C3F8B010 		str	r1, [r3, #176]
 536:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.pop_buffer_size           = 0;
 141              		.loc 1 536 0
 142 0022 A3F89810 		strh	r1, [r3, #152]	@ movhi
 537:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.epoch_time                = 0;
 143              		.loc 1 537 0
 144 0026 C3F8BC10 		str	r1, [r3, #188]
 538:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.sleep_count               = 0;
 145              		.loc 1 538 0
 146 002a C3F8C410 		str	r1, [r3, #196]
 539:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.standby_time              = 0;
 147              		.loc 1 539 0
 148 002e C3F8C810 		str	r1, [r3, #200]
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 13


 540:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.scanned_ssids             = 0;
 149              		.loc 1 540 0
 150 0032 5973     		strb	r1, [r3, #13]
 541:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.timeout_tick              = 0;
 151              		.loc 1 541 0
 152 0034 C3F8CC10 		str	r1, [r3, #204]
 542:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.UserDataBuff_previous_index =0;
 153              		.loc 1 542 0
 154 0038 A3F89410 		strh	r1, [r3, #148]	@ movhi
 543:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* Default limit for client socket/server socket/web socket write is 4096 bytes. 
 544:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****      This value will be updated with every call to get free_heap_size status variable*/
 545:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.wifi_socket_write_limit   = 4*RINGBUF_SIZE;
 155              		.loc 1 545 0
 156 003c 4FF48052 		mov	r2, #4096
 157 0040 C3F8E420 		str	r2, [r3, #228]
 546:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef SPWF01
 547:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.last_process_buffer_index = 5;
 158              		.loc 1 547 0
 159 0044 0522     		movs	r2, #5
 160 0046 A3F89A20 		strh	r2, [r3, #154]	@ movhi
 548:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #else
 549:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.last_process_buffer_index = 10;
 550:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 551:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 552:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* By default, enable all client socket close callback*/
 553:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   memset(Client_Socket_Close_Callback,0x01,CLIENT_SOCKET_COUNT);
 161              		.loc 1 553 0
 162 004a 064B     		ldr	r3, .L6+4
 163 004c 4FF00132 		mov	r2, #16843009
 164 0050 1A60     		str	r2, [r3]	@ unaligned
 165 0052 5A60     		str	r2, [r3, #4]	@ unaligned
 554:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   memset(dma_buffer,0x00,DMA_BUFFER_SIZE);
 166              		.loc 1 554 0
 167 0054 4FF40062 		mov	r2, #2048
 168 0058 0348     		ldr	r0, .L6+8
 169 005a FFF7FEFF 		bl	memset
 170              	.LVL0:
 171 005e 08BD     		pop	{r3, pc}
 172              	.L7:
 173              		.align	2
 174              	.L6:
 175 0060 00000000 		.word	WiFi_Counter_Variables
 176 0064 00000000 		.word	Client_Socket_Close_Callback
 177 0068 00000000 		.word	dma_buffer
 178              		.cfi_endproc
 179              	.LFE277:
 181              		.section	.text.WiFi_Configuration,"ax",%progbits
 182              		.align	1
 183              		.global	WiFi_Configuration
 184              		.syntax unified
 185              		.thumb
 186              		.thumb_func
 187              		.fpu fpv4-sp-d16
 189              	WiFi_Configuration:
 190              	.LFB278:
 555:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 556:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 14


 557:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
 558:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  WiFi_Configuration
 559:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Default Wifi configuration parameters
 560:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
 561:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
 562:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
 563:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void WiFi_Configuration()
 564:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 191              		.loc 1 564 0
 192              		.cfi_startproc
 193              		@ args = 0, pretend = 0, frame = 0
 194              		@ frame_needed = 0, uses_anonymous_args = 0
 195              		@ link register save eliminated.
 565:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 566:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* Set the network privacy mode 
 567:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     (0=none, 1=WEP, 2=WPA-Personal (TKIP/AES) or WPA2-Personal (TKIP/AES)) */  
 568:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Config_Variables.wifi_mode               =  WiFi_STA_MODE;
 196              		.loc 1 568 0
 197 0000 104B     		ldr	r3, .L9
 198 0002 0122     		movs	r2, #1
 199 0004 1A75     		strb	r2, [r3, #20]
 569:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Config_Variables.wifi_priv_mode          =  WPA_Personal;
 200              		.loc 1 569 0
 201 0006 0221     		movs	r1, #2
 202 0008 83F82010 		strb	r1, [r3, #32]
 570:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Config_Variables.wifi_ssid               =  "SPWF0x" ;
 203              		.loc 1 570 0
 204 000c 0E49     		ldr	r1, .L9+4
 205 000e 5960     		str	r1, [r3, #4]
 571:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Config_Variables.Wifi_Sec_key            =  "12341234";
 206              		.loc 1 571 0
 207 0010 0E49     		ldr	r1, .L9+8
 208 0012 D960     		str	r1, [r3, #12]
 572:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 573:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****    /*Power Management Settings*/
 574:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Config_Variables.sleep_enabled           = 0;//0=disabled, 1=enabled
 209              		.loc 1 574 0
 210 0014 93F82210 		ldrb	r1, [r3, #34]	@ zero_extendqisi2
 211 0018 6FF30001 		bfc	r1, #0, #1
 212 001c 83F82210 		strb	r1, [r3, #34]
 575:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Config_Variables.standby_enabled         = 1;
 213              		.loc 1 575 0
 214 0020 93F82910 		ldrb	r1, [r3, #41]	@ zero_extendqisi2
 215 0024 1143     		orrs	r1, r1, r2
 216 0026 83F82910 		strb	r1, [r3, #41]
 576:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Config_Variables.standby_time            = 10;//in seconds
 217              		.loc 1 576 0
 218 002a 0A21     		movs	r1, #10
 219 002c 5975     		strb	r1, [r3, #21]
 577:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Config_Variables.wifi_powersave          = 1;//0=Active, 1=PS Mode, 2=Fast-PS Mode
 220              		.loc 1 577 0
 221 002e 83F82120 		strb	r2, [r3, #33]
 578:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Config_Variables.wifi_operational_mode   = 11;//11= Doze mode, 12= Quiescent mode
 222              		.loc 1 578 0
 223 0032 0B21     		movs	r1, #11
 224 0034 83F83010 		strb	r1, [r3, #48]
 579:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Config_Variables.wifi_listen_interval    = 0; //Wakeup every n beacon
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 15


 225              		.loc 1 579 0
 226 0038 0021     		movs	r1, #0
 227 003a 83F82A10 		strb	r1, [r3, #42]
 580:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Config_Variables.wifi_beacon_wakeup      = 1;         
 228              		.loc 1 580 0
 229 003e 83F82820 		strb	r2, [r3, #40]
 230 0042 7047     		bx	lr
 231              	.L10:
 232              		.align	2
 233              	.L9:
 234 0044 00000000 		.word	WiFi_Config_Variables
 235 0048 00000000 		.word	.LC0
 236 004c 08000000 		.word	.LC1
 237              		.cfi_endproc
 238              	.LFE278:
 240              		.section	.text.wifi_reset,"ax",%progbits
 241              		.align	1
 242              		.global	wifi_reset
 243              		.syntax unified
 244              		.thumb
 245              		.thumb_func
 246              		.fpu fpv4-sp-d16
 248              	wifi_reset:
 249              	.LFB279:
 581:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 582:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 583:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
 584:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  wifi_reset
 585:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Reset WiFi module using PC12 gpio pin
 586:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
 587:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
 588:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
 589:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void wifi_reset(void)
 590:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 250              		.loc 1 590 0
 251              		.cfi_startproc
 252              		@ args = 0, pretend = 0, frame = 8
 253              		@ frame_needed = 0, uses_anonymous_args = 0
 254 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 255              	.LCFI1:
 256              		.cfi_def_cfa_offset 20
 257              		.cfi_offset 4, -20
 258              		.cfi_offset 5, -16
 259              		.cfi_offset 6, -12
 260              		.cfi_offset 7, -8
 261              		.cfi_offset 14, -4
 262 0002 83B0     		sub	sp, sp, #12
 263              	.LCFI2:
 264              		.cfi_def_cfa_offset 32
 265              	.LBB86:
 591:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   RESET_WAKEUP_GPIO_CLK_ENABLE();
 266              		.loc 1 591 0
 267 0004 0026     		movs	r6, #0
 268 0006 0096     		str	r6, [sp]
 269 0008 244B     		ldr	r3, .L15
 270 000a 1A6B     		ldr	r2, [r3, #48]
 271 000c 42F00402 		orr	r2, r2, #4
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 16


 272 0010 1A63     		str	r2, [r3, #48]
 273 0012 1A6B     		ldr	r2, [r3, #48]
 274 0014 02F00402 		and	r2, r2, #4
 275 0018 0092     		str	r2, [sp]
 276 001a 009A     		ldr	r2, [sp]
 277              	.LBE86:
 278              	.LBB87:
 592:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __GPIOA_CLK_ENABLE();
 279              		.loc 1 592 0
 280 001c 0196     		str	r6, [sp, #4]
 281 001e 1A6B     		ldr	r2, [r3, #48]
 282 0020 42F00102 		orr	r2, r2, #1
 283 0024 1A63     		str	r2, [r3, #48]
 284 0026 1B6B     		ldr	r3, [r3, #48]
 285 0028 03F00103 		and	r3, r3, #1
 286 002c 0193     		str	r3, [sp, #4]
 287 002e 019B     		ldr	r3, [sp, #4]
 288              	.LBE87:
 593:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 594:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   wifi_instances.GPIO_InitStruct.Pin       = WiFi_RESET_GPIO_PIN;
 289              		.loc 1 594 0
 290 0030 1B49     		ldr	r1, .L15+4
 291 0032 4FF48055 		mov	r5, #4096
 292 0036 0D63     		str	r5, [r1, #48]
 595:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   wifi_instances.GPIO_InitStruct.Mode      = GPIO_MODE_OUTPUT_PP;
 293              		.loc 1 595 0
 294 0038 0127     		movs	r7, #1
 295 003a 4F63     		str	r7, [r1, #52]
 596:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   wifi_instances.GPIO_InitStruct.Pull      = GPIO_PULLUP;
 296              		.loc 1 596 0
 297 003c 8F63     		str	r7, [r1, #56]
 597:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   wifi_instances.GPIO_InitStruct.Speed     = GPIO_SPEED_HIGH;
 298              		.loc 1 597 0
 299 003e 0323     		movs	r3, #3
 300 0040 CB63     		str	r3, [r1, #60]
 598:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 599:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   HAL_GPIO_Init(WiFi_RESET_GPIO_PORT, &wifi_instances.GPIO_InitStruct);
 301              		.loc 1 599 0
 302 0042 184C     		ldr	r4, .L15+8
 303 0044 3031     		adds	r1, r1, #48
 304 0046 2046     		mov	r0, r4
 305 0048 FFF7FEFF 		bl	HAL_GPIO_Init
 306              	.LVL1:
 600:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 601:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** //  IO_status_flag.WiFi_WIND_State.WiFiHWStarted = WIFI_FALSE;
 602:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   wifi_connected = 0; //reset wifi_connected to get user callback
 307              		.loc 1 602 0
 308 004c 164B     		ldr	r3, .L15+12
 309 004e 1E70     		strb	r6, [r3]
 603:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** //  memset((void*)&IO_status_flag.WiFi_WIND_State,0x00,sizeof(IO_status_flag.WiFi_WIND_State)); /*r
 604:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   IO_status_flag.WiFi_WIND_State = Undefine_state;
 310              		.loc 1 604 0
 311 0050 FF22     		movs	r2, #255
 312 0052 164B     		ldr	r3, .L15+16
 313 0054 9A75     		strb	r2, [r3, #22]
 605:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 606:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* ===   RESET PIN - PC12   ===*/
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 17


 607:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   HAL_GPIO_WritePin(WiFi_RESET_GPIO_PORT, WiFi_RESET_GPIO_PIN, GPIO_PIN_RESET);
 314              		.loc 1 607 0
 315 0056 3246     		mov	r2, r6
 316 0058 2946     		mov	r1, r5
 317 005a 2046     		mov	r0, r4
 318 005c FFF7FEFF 		bl	HAL_GPIO_WritePin
 319              	.LVL2:
 608:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   HAL_Delay(200);
 320              		.loc 1 608 0
 321 0060 C820     		movs	r0, #200
 322 0062 FFF7FEFF 		bl	HAL_Delay
 323              	.LVL3:
 609:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* ===   SET PIN - PC12   ===*/
 610:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   HAL_GPIO_WritePin(WiFi_RESET_GPIO_PORT, WiFi_RESET_GPIO_PIN, GPIO_PIN_SET);
 324              		.loc 1 610 0
 325 0066 3A46     		mov	r2, r7
 326 0068 2946     		mov	r1, r5
 327 006a 2046     		mov	r0, r4
 328 006c FFF7FEFF 		bl	HAL_GPIO_WritePin
 329              	.LVL4:
 611:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   HAL_Delay(50);
 330              		.loc 1 611 0
 331 0070 3220     		movs	r0, #50
 332 0072 FFF7FEFF 		bl	HAL_Delay
 333              	.LVL5:
 612:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   HAL_GPIO_DeInit(WiFi_RESET_GPIO_PORT, WiFi_RESET_GPIO_PIN);
 334              		.loc 1 612 0
 335 0076 2946     		mov	r1, r5
 336 0078 2046     		mov	r0, r4
 337 007a FFF7FEFF 		bl	HAL_GPIO_DeInit
 338              	.LVL6:
 613:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 614:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   printf("WAITING FOR HARDWARE...\r\n");
 339              		.loc 1 614 0
 340 007e 0C48     		ldr	r0, .L15+20
 341 0080 FFF7FEFF 		bl	puts
 342              	.LVL7:
 615:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifndef WIFI_USE_VCOM
 616:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   while(IO_status_flag.WiFi_WIND_State != WiFiHWStarted)
 343              		.loc 1 616 0
 344 0084 00E0     		b	.L12
 345              	.L13:
 617:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
 618:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       __NOP(); //nothing to do
 346              		.loc 1 618 0
 347              		.syntax unified
 348              	@ 618 "Middlewares/ST/STM32_SPWF0xSy/wifi_module.c" 1
 349 0086 00BF     		nop
 350              	@ 0 "" 2
 351              		.thumb
 352              		.syntax unified
 353              	.L12:
 616:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
 354              		.loc 1 616 0
 355 0088 084B     		ldr	r3, .L15+16
 356 008a 9B7D     		ldrb	r3, [r3, #22]	@ zero_extendqisi2
 357 008c DBB2     		uxtb	r3, r3
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 18


 358 008e 0E2B     		cmp	r3, #14
 359 0090 F9D1     		bne	.L13
 619:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 620:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 621:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****    printf("YAY!\r\n");
 360              		.loc 1 621 0
 361 0092 0848     		ldr	r0, .L15+24
 362 0094 FFF7FEFF 		bl	puts
 363              	.LVL8:
 622:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 364              		.loc 1 622 0
 365 0098 03B0     		add	sp, sp, #12
 366              	.LCFI3:
 367              		.cfi_def_cfa_offset 20
 368              		@ sp needed
 369 009a F0BD     		pop	{r4, r5, r6, r7, pc}
 370              	.L16:
 371              		.align	2
 372              	.L15:
 373 009c 00380240 		.word	1073887232
 374 00a0 00000000 		.word	wifi_instances
 375 00a4 00080240 		.word	1073874944
 376 00a8 00000000 		.word	wifi_connected
 377 00ac 00000000 		.word	IO_status_flag
 378 00b0 00000000 		.word	.LC2
 379 00b4 1C000000 		.word	.LC3
 380              		.cfi_endproc
 381              	.LFE279:
 383              		.section	.text.PowerUp_WiFi_Module,"ax",%progbits
 384              		.align	1
 385              		.global	PowerUp_WiFi_Module
 386              		.syntax unified
 387              		.thumb
 388              		.thumb_func
 389              		.fpu fpv4-sp-d16
 391              	PowerUp_WiFi_Module:
 392              	.LFB280:
 623:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 624:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
 625:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  PowerUp_WiFi_Module
 626:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Power up Wi-Fi module,SET GPIO PA0 pin 
 627:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
 628:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
 629:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
 630:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void PowerUp_WiFi_Module(void)
 631:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 393              		.loc 1 631 0
 394              		.cfi_startproc
 395              		@ args = 0, pretend = 0, frame = 0
 396              		@ frame_needed = 0, uses_anonymous_args = 0
 397 0000 08B5     		push	{r3, lr}
 398              	.LCFI4:
 399              		.cfi_def_cfa_offset 8
 400              		.cfi_offset 3, -8
 401              		.cfi_offset 14, -4
 632:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* ===   SET PIN - PC12   ===*/
 633:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   HAL_GPIO_WritePin(WiFi_RESET_GPIO_PORT, WiFi_RESET_GPIO_PIN, GPIO_PIN_SET);
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 19


 402              		.loc 1 633 0
 403 0002 0122     		movs	r2, #1
 404 0004 4FF48051 		mov	r1, #4096
 405 0008 0148     		ldr	r0, .L19
 406 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
 407              	.LVL9:
 408 000e 08BD     		pop	{r3, pc}
 409              	.L20:
 410              		.align	2
 411              	.L19:
 412 0010 00080240 		.word	1073874944
 413              		.cfi_endproc
 414              	.LFE280:
 416              		.section	.text.Receive_Data,"ax",%progbits
 417              		.align	1
 418              		.global	Receive_Data
 419              		.syntax unified
 420              		.thumb
 421              		.thumb_func
 422              		.fpu fpv4-sp-d16
 424              	Receive_Data:
 425              	.LFB281:
 634:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 635:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 636:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
 637:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Receive_Data
 638:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Receive data from UART port
 639:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
 640:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
 641:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
 642:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Receive_Data(void)
 643:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 426              		.loc 1 643 0
 427              		.cfi_startproc
 428              		@ args = 0, pretend = 0, frame = 0
 429              		@ frame_needed = 0, uses_anonymous_args = 0
 430 0000 08B5     		push	{r3, lr}
 431              	.LCFI5:
 432              		.cfi_def_cfa_offset 8
 433              		.cfi_offset 3, -8
 434              		.cfi_offset 14, -4
 644:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   HAL_GPIO_WritePin(WiFi_USART_RTS_GPIO_PORT, WiFi_USART_RTS_PIN, GPIO_PIN_RESET);//Assert RTS
 435              		.loc 1 644 0
 436 0002 0022     		movs	r2, #0
 437 0004 4FF48051 		mov	r1, #4096
 438 0008 0748     		ldr	r0, .L24
 439 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
 440              	.LVL10:
 645:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(HAL_UART_Receive_IT(&UartWiFiHandle, (uint8_t *)WiFi_Counter_Variables.uart_byte, 1) !=HAL_OK)
 441              		.loc 1 645 0
 442 000e 0122     		movs	r2, #1
 443 0010 0649     		ldr	r1, .L24+4
 444 0012 0748     		ldr	r0, .L24+8
 445 0014 FFF7FEFF 		bl	HAL_UART_Receive_IT
 446              	.LVL11:
 447 0018 20B9     		cbnz	r0, .L21
 646:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 20


 647:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       #if DEBUG_PRINT
 648:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       printf("HAL_UARTx_Receive_IT Error");
 649:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       #endif
 650:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 651:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   else 
 652:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
 653:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Control_Variables.Uartx_Rx_Processing = WIFI_TRUE;
 448              		.loc 1 653 0
 449 001a 064A     		ldr	r2, .L24+12
 450 001c 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 451 001e 43F01003 		orr	r3, r3, #16
 452 0022 5370     		strb	r3, [r2, #1]
 453              	.L21:
 454 0024 08BD     		pop	{r3, pc}
 455              	.L25:
 456 0026 00BF     		.align	2
 457              	.L24:
 458 0028 00000240 		.word	1073872896
 459 002c 4E000000 		.word	WiFi_Counter_Variables+78
 460 0030 00000000 		.word	UartWiFiHandle
 461 0034 00000000 		.word	WiFi_Control_Variables
 462              		.cfi_endproc
 463              	.LFE281:
 465              		.section	.text.Receive_DMA_Uart_Data,"ax",%progbits
 466              		.align	1
 467              		.global	Receive_DMA_Uart_Data
 468              		.syntax unified
 469              		.thumb
 470              		.thumb_func
 471              		.fpu fpv4-sp-d16
 473              	Receive_DMA_Uart_Data:
 474              	.LFB282:
 654:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 655:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 656:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 657:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 658:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
 659:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Receive_DMA_Uart_Data
 660:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Receive data from DMA with UART
 661:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
 662:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
 663:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
 664:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Receive_DMA_Uart_Data(void)
 665:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 475              		.loc 1 665 0
 476              		.cfi_startproc
 477              		@ args = 0, pretend = 0, frame = 0
 478              		@ frame_needed = 0, uses_anonymous_args = 0
 479 0000 08B5     		push	{r3, lr}
 480              	.LCFI6:
 481              		.cfi_def_cfa_offset 8
 482              		.cfi_offset 3, -8
 483              		.cfi_offset 14, -4
 666:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(HAL_UART_Receive_DMA(&UartWiFiHandle, (uint8_t *)dma_buffer, DMA_BUFFER_SIZE) !=HAL_OK)
 484              		.loc 1 666 0
 485 0002 4FF40062 		mov	r2, #2048
 486 0006 0549     		ldr	r1, .L29
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 21


 487 0008 0548     		ldr	r0, .L29+4
 488 000a FFF7FEFF 		bl	HAL_UART_Receive_DMA
 489              	.LVL12:
 490 000e 20B9     		cbnz	r0, .L26
 667:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
 668:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       #if DEBUG_PRINT
 669:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       printf("HAL_UARTx_Receive_IT Error");
 670:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       #endif
 671:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 672:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   else 
 673:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
 674:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Control_Variables.Uartx_Rx_Processing = WIFI_TRUE;
 491              		.loc 1 674 0
 492 0010 044A     		ldr	r2, .L29+8
 493 0012 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 494 0014 43F01003 		orr	r3, r3, #16
 495 0018 5370     		strb	r3, [r2, #1]
 496              	.L26:
 497 001a 08BD     		pop	{r3, pc}
 498              	.L30:
 499              		.align	2
 500              	.L29:
 501 001c 00000000 		.word	dma_buffer
 502 0020 00000000 		.word	UartWiFiHandle
 503 0024 00000000 		.word	WiFi_Control_Variables
 504              		.cfi_endproc
 505              	.LFE282:
 507              		.section	.text.Start_Timer,"ax",%progbits
 508              		.align	1
 509              		.global	Start_Timer
 510              		.syntax unified
 511              		.thumb
 512              		.thumb_func
 513              		.fpu fpv4-sp-d16
 515              	Start_Timer:
 516              	.LFB284:
 675:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 676:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 677:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 678:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
 679:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Period elapsed callback in non blocking mode
 680:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         This timer is used for calling back User registered functions with information
 681:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  htim : TIM handle
 682:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
 683:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
 684:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Wifi_TIM_Handler(TIM_HandleTypeDef *htim)
 685:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 686:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /**********************************************************************
 687:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   *                                                                     *
 688:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   *       Be careful not to make a blocking                             *
 689:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   *       call from this function, see                                  *
 690:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   *       example Socket_Read() and Socket_Close()                      *
 691:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   *                                                                     *
 692:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   **********************************************************************/
 693:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Status_t status = WiFi_MODULE_SUCCESS;
 694:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   HAL_StatusTypeDef HAL_status = HAL_OK;
 695:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 22


 696:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(WiFi_Control_Variables.stop_event_dequeue == WIFI_FALSE)
 697:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   {
 698:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     __disable_irq();
 699:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     wifi_instances.DeQed_wifi_event = pop_eventbuffer_queue(&wifi_instances.event_buff);
 700:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     __enable_irq();
 701:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 702:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     if(wifi_instances.DeQed_wifi_event!=NULL)
 703:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
 704:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       switch(wifi_instances.DeQed_wifi_event->event)
 705:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       {
 706:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         case WIFI_WIND_EVENT:
 707:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           Process_DeQed_Wind_Indication(wifi_instances.DeQed_wifi_event);
 708:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           break;
 709:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 710:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         case WIFI_WEBSOCK_ID_EVENT:                  
 711:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           WiFi_Counter_Variables.Socket_Open_ID = wifi_instances.DeQed_wifi_event->socket_id;
 712:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           open_web_socket[wifi_instances.DeQed_wifi_event->socket_id]  = WIFI_TRUE;
 713:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           IO_status_flag.AT_event_processing = WIFI_NO_EVENT;
 714:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #if defined(CONSOLE_UART_ENABLED)
 715:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             IO_status_flag.AT_Response_Received = WIFI_TRUE;
 716:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.AT_RESPONSE = WiFi_MODULE_SUCCESS;
 717:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #endif
 718:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           break;
 719:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 
 720:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         case WIFI_SOCK_ID_EVENT:
 721:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           /*check ID and update SocketID array*/
 722:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           if(WiFi_Counter_Variables.no_of_open_client_sockets >= 8)  //Max number of clients is 8
 723:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
 724:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             IO_status_flag.AT_Response_Received = WIFI_TRUE;
 725:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.AT_RESPONSE = WiFi_NOT_SUPPORTED;     
 726:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;
 727:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
 728:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           WiFi_Counter_Variables.no_of_open_client_sockets++;
 729:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           open_sockets[wifi_instances.DeQed_wifi_event->socket_id]  = WIFI_TRUE;
 730:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           WiFi_Counter_Variables.Socket_Open_ID = wifi_instances.DeQed_wifi_event->socket_id;
 731:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           IO_status_flag.AT_event_processing = WIFI_NO_EVENT;
 732:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #if defined(CONSOLE_UART_ENABLED)
 733:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             IO_status_flag.AT_Response_Received = WIFI_TRUE;
 734:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.AT_RESPONSE = WiFi_MODULE_SUCCESS;
 735:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #endif
 736:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           break;
 737:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                           
 738:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         case WIFI_SOCK_SERVER_ID_EVENT:
 739:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           /*check ID and update ServerSocketID array*/
 740:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           WiFi_Control_Variables.enable_timeout_timer = WIFI_FALSE;
 741:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           WiFi_Counter_Variables.timeout_tick = 0;
 742:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           if(WiFi_Counter_Variables.no_of_open_server_sockets >= 4)  //Max number of server socket 
 743:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
 744:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             IO_status_flag.AT_Response_Received = WIFI_TRUE;
 745:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.AT_RESPONSE = WiFi_NOT_SUPPORTED;     
 746:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;
 747:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
 748:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           WiFi_Counter_Variables.no_of_open_server_sockets++;
 749:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           open_server_sockets[wifi_instances.DeQed_wifi_event->socket_id]  = WIFI_TRUE;
 750:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           WiFi_Counter_Variables.Server_Socket_Open_ID = wifi_instances.DeQed_wifi_event->socket_id
 751:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           IO_status_flag.AT_event_processing = WIFI_NO_EVENT;
 752:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #if defined(CONSOLE_UART_ENABLED)
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 23


 753:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             IO_status_flag.AT_Response_Received = WIFI_TRUE;
 754:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.AT_RESPONSE = WiFi_MODULE_SUCCESS;
 755:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #endif
 756:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           break;
 757:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 758:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         #ifdef SPWF04
 759:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           case WIFI_TFTP_EVENT:
 760:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             Reset_AT_CMD_Buffer();
 761:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #if defined(CONSOLE_UART_ENABLED)
 762:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               if(WiFi_Counter_Variables.http_ind==1) //by default port number is 69, user port numb
 763:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
 764:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 if(WiFi_Counter_Variables.curr_port_number!=0)
 765:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   sprintf((char*)WiFi_AT_Cmd_Buff,AT_TFTPPUT_REQUEST,WiFi_Counter_Variables.curr_ho
 766:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 else 
 767:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   sprintf((char*)WiFi_AT_Cmd_Buff,AT_TFTPPUT_REQUEST,WiFi_Counter_Variables.curr_ho
 768:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               }
 769:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               else if(WiFi_Counter_Variables.http_ind==0) 
 770:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
 771:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 if(WiFi_Counter_Variables.curr_port_number!=0)
 772:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   sprintf((char*)WiFi_AT_Cmd_Buff,AT_TFTPGET_REQUEST,WiFi_Counter_Variables.curr_ho
 773:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 else 
 774:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   sprintf((char*)WiFi_AT_Cmd_Buff,AT_TFTPGET_REQUEST,WiFi_Counter_Variables.curr_ho
 775:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               }
 776:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 777:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 778:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #else /*SPI Tx*/
 779:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               if(WiFi_Counter_Variables.http_ind==1)
 780:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
 781:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 if(WiFi_Counter_Variables.curr_port_number!=0)
 782:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.TFTPPUT=%s,%d,%s",WiFi_Counter_Variables.cu
 783:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 else
 784:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.TFTPPUT=%s,NULL,%s",WiFi_Counter_Variables.
 785:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               }
 786:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               else if(WiFi_Counter_Variables.http_ind==0)
 787:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
 788:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 if(WiFi_Counter_Variables.curr_port_number!=0)
 789:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.TFTPGET=%s,%d,%s,NULL",WiFi_Counter_Variabl
 790:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 else 
 791:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.TFTPGET=%s,NULL,%s,NULL",WiFi_Counter_Varia
 792:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               }
 793:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 794:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
 795:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code
 796:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #endif
 797:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             if(status == WiFi_MODULE_SUCCESS) 
 798:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
 799:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Counter_Variables.timeout_tick = 0;
 800:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.enable_timeout_timer = WIFI_TRUE;
 801:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.stop_event_dequeue = WIFI_TRUE;
 802:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.Ok_terminated_data_request_pending = WIFI_TRUE;
 803:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               IO_status_flag.AT_event_processing = WIFI_TFTP_EVENT;
 804:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
 805:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             else
 806:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
 807:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #if DEBUG_PRINT
 808:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 printf("\r\n ERROR DURING TFTP COMMAND TRANSFER \r\n");
 809:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #endif
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 24


 810:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
 811:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               IO_status_flag.AT_Response_Received = WIFI_TRUE;
 812:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
 813:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;
 814:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                           
 815:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           case WIFI_MQTT_ID_EVENT:
 816:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             /* MQTT ID received */
 817:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.Socket_Open_ID = wifi_instances.DeQed_wifi_event->socket_id;
 818:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             IO_status_flag.AT_event_processing = WIFI_NO_EVENT;
 819:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             IO_status_flag.AT_Response_Received = WIFI_TRUE;
 820:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.AT_RESPONSE = WiFi_MODULE_SUCCESS;
 821:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;
 822:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 823:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           case WIFI_MQTT_EVENT:
 824:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             Reset_AT_CMD_Buffer();
 825:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             if(mqtt_type == CONNECT || mqtt_type == SUBSCRIBE || mqtt_type == UNSUBSCRIBE || mqtt_t
 826:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
 827:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               if(mqtt_type == CONNECT)
 828:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
 829:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #ifdef CONSOLE_UART_ENABLED
 830:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   sprintf((char*)WiFi_AT_Cmd_Buff,AT_MQTT_CONN,WiFi_Counter_Variables.curr_hostname
 831:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 832:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #else
 833:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.MQTTCONN=%s,%d,NULL,NULL,NULL,NULL,NULL,NUL
 834:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
 835:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   IO_status_flag.AT_event_processing = WIFI_MQTT_CONNECT_EVENT;
 836:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code from run_spi_cmd
 837:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #endif
 838:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               }
 839:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               else if(mqtt_type == SUBSCRIBE)
 840:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
 841:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #ifdef CONSOLE_UART_ENABLED
 842:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   sprintf((char*)WiFi_AT_Cmd_Buff,AT_MQTT_SUB,WiFi_Counter_Variables.curr_path);
 843:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 844:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #else
 845:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.MQTTSUB=0,%s,\r",WiFi_Counter_Variables.cur
 846:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
 847:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code from run_spi_cmd
 848:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   IO_status_flag.AT_event_processing = WIFI_MQTT_EVENT;
 849:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #endif
 850:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               }
 851:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               else if(mqtt_type == UNSUBSCRIBE)
 852:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
 853:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #ifdef CONSOLE_UART_ENABLED
 854:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   sprintf((char*)WiFi_AT_Cmd_Buff,AT_MQTT_UNSUB,WiFi_Counter_Variables.curr_path);
 855:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 856:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #else
 857:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.MQTTUNSUB=0,%s\r",WiFi_Counter_Variables.cu
 858:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
 859:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code from run_spi_cmd
 860:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   IO_status_flag.AT_event_processing = WIFI_MQTT_EVENT;
 861:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #endif
 862:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               }
 863:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               else
 864:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
 865:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #ifdef CONSOLE_UART_ENABLED
 866:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   sprintf((char*)WiFi_AT_Cmd_Buff,AT_MQTT_DISC);
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 25


 867:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 868:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #else
 869:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.MQTTDISC=0");
 870:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
 871:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code from run_spi_cmd
 872:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   IO_status_flag.AT_event_processing = WIFI_MQTT_EVENT;
 873:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #endif
 874:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               }
 875:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                                 
 876:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               if(status != WiFi_MODULE_SUCCESS)
 877:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
 878:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #if DEBUG_PRINT
 879:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   printf("\r\n ERROR During MQTT \r\n");
 880:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #endif
 881:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
 882:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 IO_status_flag.AT_Response_Received = WIFI_TRUE;
 883:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               }
 884:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
 885:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             else if(mqtt_type == PUBLISH)
 886:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
 887:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #ifdef CONSOLE_UART_ENABLED
 888:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 sprintf((char*)WiFi_AT_Cmd_Buff,AT_MQTT_PUB,WiFi_Counter_Variables.curr_path,WiFi_C
 889:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 890:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #else
 891:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.MQTTPUB=0,%s,NULL,NULL,%d %s",WiFi_Counter_Va
 892:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
 893:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code from run_spi_cmd
 894:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #endif
 895:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               if(status != WiFi_MODULE_SUCCESS)
 896:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
 897:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #if DEBUG_PRINT
 898:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   printf("\r\n ERROR During MQTT \r\n");
 899:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #endif
 900:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
 901:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 IO_status_flag.AT_Response_Received = WIFI_TRUE;
 902:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               }
 903:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               else
 904:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
 905:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 Reset_AT_CMD_Buffer();                                
 906:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #if defined(CONSOLE_UART_ENABLED)
 907:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   memcpy((char*)WiFi_AT_Cmd_Buff, (char*)WiFi_Counter_Variables.curr_data, WiFi_Cou
 908:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   status = USART_Transmit_AT_Cmd(WiFi_Counter_Variables.curr_DataLength);
 909:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #else
 910:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   //SPI_Transmit_Manager_Poll(WiFi_AT_Cmd_Buff, WiFi_Counter_Variables.curr_DataLen
 911:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code
 912:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   IO_status_flag.AT_event_processing = WIFI_MQTT_EVENT;
 913:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   IO_status_flag.send_data = WIFI_TRUE;
 914:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   WiFi_Control_Variables.stop_event_dequeue = WIFI_TRUE;
 915:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #endif
 916:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               }
 917:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
 918:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             mqtt_type = NO_TYPE;
 919:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             /* Just to try */
 920:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             Reset_AT_CMD_Buffer();
 921:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;
 922:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                           
 923:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           case WIFI_SMTP_EVENT:
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 26


 924:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             Reset_AT_CMD_Buffer();
 925:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #if defined(CONSOLE_UART_ENABLED)
 926:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               sprintf((char*)WiFi_AT_Cmd_Buff,AT_SEND_MAIL,WiFi_Counter_Variables.curr_hostname,(in
 927:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                       WiFi_Counter_Variables.curr_path,WiFi_Counter_Variables.curr_pURL, WiFi_Count
 928:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 929:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #else
 930:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.SMTP=%s,%lu,NULL,NULL,NULL,NULL,%s,%s,NULL,NULL
 931:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                       WiFi_Counter_Variables.curr_hostname,WiFi_Counter_Variables.curr_port_number,
 932:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                       WiFi_Counter_Variables.curr_pURL, WiFi_Counter_Variables.temp, WiFi_Counter_V
 933:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
 934:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               IO_status_flag.AT_event_processing = WIFI_SMTP_EVENT;
 935:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code from run_spi_cmd
 936:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #endif
 937:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 938:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             if(status != WiFi_MODULE_SUCCESS)
 939:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
 940:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #if DEBUG_PRINT
 941:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 printf("\r\n ERROR During SMTP \r\n");
 942:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #endif
 943:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
 944:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               IO_status_flag.AT_Response_Received = WIFI_TRUE;
 945:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
 946:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             else
 947:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
 948:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               Reset_AT_CMD_Buffer();                                
 949:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #if defined(CONSOLE_UART_ENABLED)
 950:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 memcpy((char*)WiFi_AT_Cmd_Buff, (char*)WiFi_Counter_Variables.curr_data, WiFi_Count
 951:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #if defined (USE_STM32L0XX_NUCLEO) || (USE_STM32F4XX_NUCLEO) || (USE_STM32L4XX_NUCL
 952:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   __disable_irq();
 953:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #endif
 954:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 status = USART_Transmit_AT_Cmd(WiFi_Counter_Variables.curr_DataLength);
 955:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #if defined (USE_STM32L0XX_NUCLEO) || (USE_STM32F4XX_NUCLEO) || (USE_STM32L4XX_NUCL
 956:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   __enable_irq();
 957:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #endif
 958:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #else
 959:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 //SPI_Transmit_Manager_Poll(WiFi_AT_Cmd_Buff, WiFi_Counter_Variables.curr_DataLengt
 960:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code
 961:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 IO_status_flag.AT_event_processing = WIFI_CLIENT_SOCKET_WRITE_EVENT;  /* Check whic
 962:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 IO_status_flag.send_data = WIFI_TRUE;
 963:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.stop_event_dequeue = WIFI_TRUE;
 964:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #endif
 965:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
 966:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;
 967:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 968:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           case WIFI_CLIENT_SOCKET_LIST_EVENT:
 969:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             Reset_AT_CMD_Buffer();
 970:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #if defined(CONSOLE_UART_ENABLED)
 971:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               sprintf((char*)WiFi_AT_Cmd_Buff,AT_LIST_OPEN_CLIENT_SOCKET);
 972:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 973:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 974:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #else
 975:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.SOCKL");
 976:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
 977:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               IO_status_flag.AT_event_processing = WIFI_LIST_EVENT;
 978:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code from run_spi_cmd
 979:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #endif
 980:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 27


 981:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               if(status != WiFi_MODULE_SUCCESS)
 982:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
 983:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #if DEBUG_PRINT
 984:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   printf("\r\n ERROR During LIST \r\n");
 985:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #endif
 986:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
 987:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 IO_status_flag.AT_Response_Received = WIFI_TRUE;
 988:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               }  
 989:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               else
 990:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
 991:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.stop_event_dequeue = WIFI_TRUE;
 992:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.Ok_terminated_data_request_pending = WIFI_TRUE;
 993:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.enable_receive_socket_list_response = WIFI_TRUE;
 994:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               }
 995:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;
 996:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                             
 997:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           case WIFI_CLIENT_WEB_SOCKET_LIST_EVENT:
 998:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             Reset_AT_CMD_Buffer();
 999:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #if defined(CONSOLE_UART_ENABLED)
1000:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               sprintf((char*)WiFi_AT_Cmd_Buff,AT_LIST_OPEN_WEB_CLIENT_SOCKET);
1001:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1002:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
1003:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #else
1004:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.WSOCKL");
1005:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
1006:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               IO_status_flag.AT_event_processing = WIFI_LIST_EVENT;
1007:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code from run_spi_cmd
1008:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #endif
1009:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               
1010:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****              if(status != WiFi_MODULE_SUCCESS)
1011:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
1012:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #if DEBUG_PRINT
1013:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   printf("\r\n ERROR During LIST \r\n");
1014:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #endif
1015:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
1016:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 IO_status_flag.AT_Response_Received = WIFI_TRUE;
1017:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               }
1018:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               else
1019:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
1020:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.stop_event_dequeue = WIFI_TRUE;
1021:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.Ok_terminated_data_request_pending = WIFI_TRUE;
1022:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.enable_receive_socket_list_response = WIFI_TRUE;
1023:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               }
1024:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;
1025:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                             
1026:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           case WIFI_SERVER_SOCKET_LIST_EVENT:
1027:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             Reset_AT_CMD_Buffer();
1028:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #if defined(CONSOLE_UART_ENABLED)
1029:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               sprintf((char*)WiFi_AT_Cmd_Buff,AT_LIST_BOUND_CLIENT_SOCKET);
1030:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
1031:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #else
1032:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.SOCKDL");
1033:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
1034:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               IO_status_flag.AT_event_processing = WIFI_LIST_EVENT;
1035:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code
1036:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #endif
1037:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 28


1038:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             if(status != WiFi_MODULE_SUCCESS)
1039:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1040:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #if DEBUG_PRINT
1041:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 printf("\r\n ERROR During LIST \r\n");
1042:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #endif
1043:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
1044:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               IO_status_flag.AT_Response_Received = WIFI_TRUE;
1045:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               IO_status_flag.AT_event_processing = WIFI_HTTP_EVENT;
1046:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1047:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             else
1048:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1049:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.stop_event_dequeue = WIFI_TRUE;
1050:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.Ok_terminated_data_request_pending = WIFI_TRUE;
1051:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.enable_receive_socket_list_response = WIFI_TRUE;
1052:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1053:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;
1054:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             
1055:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           case WIFI_SERVER_SOCKET_WRITE_EVENT:
1056:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             Reset_AT_CMD_Buffer();
1057:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             
1058:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             /* AT+S.SOCKDW=<id>,<clientID>,len<cr> */
1059:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #if defined(CONSOLE_UART_ENABLED)
1060:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               sprintf((char*)WiFi_AT_Cmd_Buff,AT_SERVER_SOCKET_WRITE, WiFi_Counter_Variables.curr_s
1061:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                       WiFi_Counter_Variables.curr_DataLength);
1062:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
1063:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #else
1064:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.SOCKDW=%d,%d,%d %s", WiFi_Counter_Variables.cur
1065:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                       WiFi_Counter_Variables.curr_DataLength, "DATA");
1066:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
1067:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code
1068:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #endif
1069:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             if(status == WiFi_MODULE_SUCCESS)
1070:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1071:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               Reset_AT_CMD_Buffer();
1072:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #if defined(CONSOLE_UART_ENABLED)
1073:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   WiFi_Control_Variables.stop_event_dequeue = WIFI_TRUE;
1074:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   HAL_status = HAL_UART_Transmit_DMA(&UartWiFiHandle, (uint8_t *)WiFi_Counter_Varia
1075:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #else
1076:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 //SPI_Transmit_Manager_Poll(WiFi_AT_Cmd_Buff, WiFi_Counter_Variables.curr_DataLengt
1077:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code
1078:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 IO_status_flag.AT_event_processing = WIFI_SERVER_SOCKET_WRITE_EVENT;
1079:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 IO_status_flag.send_data = WIFI_TRUE;
1080:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.stop_event_dequeue = WIFI_TRUE;
1081:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 Start_AT_CMD_Timer();
1082:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #endif
1083:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1084:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             if(status != WiFi_MODULE_SUCCESS || HAL_status != HAL_OK)
1085:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1086:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #if DEBUG_PRINT
1087:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 printf("\r\n ERROR In Server Socket Write\r\n");
1088:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #endif
1089:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               IO_status_flag.AT_Response_Received = WIFI_TRUE;
1090:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
1091:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1092:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;
1093:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             
1094:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           case WIFI_CLIENT_WEB_SOCKET_WRITE_EVENT:
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 29


1095:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             Reset_AT_CMD_Buffer();
1096:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1097:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             /* AT+S.WSOCKW=00,11<cr> */
1098:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #if defined(CONSOLE_UART_ENABLED)
1099:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               sprintf((char*)WiFi_AT_Cmd_Buff,AT_WEB_SOCKET_WRITE,0,WiFi_Counter_Variables.curr_Dat
1100:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
1101:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #else
1102:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.WSOCKW=%d,0,0,0,%d %s",0, WiFi_Counter_Variable
1103:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
1104:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code
1105:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #endif
1106:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             if(status == WiFi_MODULE_SUCCESS) 
1107:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1108:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               Reset_AT_CMD_Buffer();   
1109:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1110:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #if defined(CONSOLE_UART_ENABLED)
1111:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.stop_event_dequeue = WIFI_TRUE;
1112:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 HAL_status = HAL_UART_Transmit_DMA(&UartWiFiHandle, (uint8_t *)WiFi_Counter_Variabl
1113:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #else
1114:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   //SPI_Transmit_Manager_Poll(WiFi_AT_Cmd_Buff, WiFi_Counter_Variables.curr_DataLen
1115:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code
1116:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   IO_status_flag.AT_event_processing = WIFI_CLIENT_WEB_SOCKET_WRITE_EVENT;
1117:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   IO_status_flag.send_data = WIFI_TRUE;
1118:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   WiFi_Control_Variables.stop_event_dequeue = WIFI_TRUE;
1119:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   Start_AT_CMD_Timer();
1120:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #endif
1121:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1122:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             if(status != WiFi_MODULE_SUCCESS || HAL_status != HAL_OK)
1123:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1124:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #if DEBUG_PRINT
1125:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 printf("\r\n ERROR In Socket Write\r\n");
1126:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #endif
1127:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               IO_status_flag.AT_Response_Received = WIFI_TRUE;
1128:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
1129:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1130:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;
1131:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1132:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           case WIFI_CLIENT_WEB_SOCKET_OPEN_EVENT:
1133:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             Reset_AT_CMD_Buffer();
1134:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #if defined(CONSOLE_UART_ENABLED)
1135:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 /* AT+S.SOCKON = myserver,1234,t <cr> */  
1136:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 sprintf((char*)WiFi_AT_Cmd_Buff,AT_WEB_SOCKET_OPEN,WiFi_Counter_Variables.curr_host
1137:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
1138:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #else
1139:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 /* AT+S.SOCKON = myserver,1234,t <cr> */  
1140:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 //@TBD: Set "is_secure_socket" only when the socket being opened is TLS/"s"/"domain
1141:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 if((strcmp((char const *)WiFi_Counter_Variables.curr_protocol,"t")!=0) && (strcmp((
1142:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   WiFi_Control_Variables.is_secure_socket = WIFI_TRUE;
1143:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.WSOCKON=%s,%d,NULL,0,NULL,NULL,NULL,NULL,NULL
1144:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
1145:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code from run_spi_cmd
1146:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #endif
1147:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1148:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             if(status != WiFi_MODULE_SUCCESS)
1149:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1150:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #if DEBUG_PRINT
1151:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 printf("\r\n ERROR During Web Socket Open \r\n");
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 30


1152:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #endif
1153:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               IO_status_flag.AT_Response_Received = WIFI_TRUE;
1154:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
1155:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1156:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             else
1157:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1158:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               IO_status_flag.AT_event_processing = WIFI_CLIENT_WEB_SOCKET_OPEN_EVENT;
1159:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Counter_Variables.timeout_tick = 0;
1160:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.enable_timeout_timer = WIFI_TRUE;                             
1161:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1162:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;
1163:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1164:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           case WIFI_CLIENT_WEB_SOCKET_CLOSE_EVENT:
1165:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             if(open_web_socket[wifi_instances.DeQed_wifi_event->socket_id])
1166:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1167:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               Reset_AT_CMD_Buffer();
1168:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               //@TBD: Do a SOCK.R (Read) before closing the socket
1169:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                #if defined(CONSOLE_UART_ENABLED)
1170:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 /* AT+S.WSOCKC=<socket_id><status><cr>   status = 0->normal closure 1->going away*/
1171:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 sprintf((char*)WiFi_AT_Cmd_Buff,AT_WEB_SOCKET_CLOSE,wifi_instances.DeQed_wifi_event
1172:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
1173:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #else
1174:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.WSOCKC=%d,0",wifi_instances.DeQed_wifi_event-
1175:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 IO_status_flag.prevent_push_OK_event    = WIFI_TRUE;
1176:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 IO_status_flag.web_socket_close_ongoing = WIFI_TRUE;
1177:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
1178:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code from run_spi_cmd
1179:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #endif
1180:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               if(status == WiFi_MODULE_SUCCESS)
1181:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
1182:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Counter_Variables.AT_RESPONSE = WiFi_MODULE_SUCCESS;
1183:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.stop_event_dequeue          = WIFI_TRUE;
1184:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Counter_Variables.remote_socket_closed_id     = wifi_instances.DeQed_wifi_even
1185:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1186:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 //for making changes in the value of open_web_sockets[sock_id] if no error is retur
1187:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 IO_status_flag.web_socket_close_ongoing = WIFI_TRUE;
1188:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 
1189:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 //prevent the OK received after socket close command to be Q'ed
1190:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 IO_status_flag.prevent_push_OK_event       = WIFI_TRUE;
1191:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               }
1192:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               else
1193:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
1194:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #if DEBUG_PRINT
1195:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   printf("\r\n ERROR During Socket Close \r\n");
1196:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #endif
1197:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               }
1198:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1199:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;
1200:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1201:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         #endif
1202:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1203:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         case WIFI_HTTP_EVENT:
1204:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           Reset_AT_CMD_Buffer();  
1205:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #if defined(CONSOLE_UART_ENABLED)
1206:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             if(WiFi_Counter_Variables.http_ind==1) 
1207:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               sprintf((char*)WiFi_AT_Cmd_Buff,AT_HTTPPOST_REQUEST,WiFi_Counter_Variables.curr_hostn
1208:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             else if(WiFi_Counter_Variables.http_ind==0) 
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 31


1209:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               sprintf((char*)WiFi_AT_Cmd_Buff,AT_HTTPGET_REQUEST,WiFi_Counter_Variables.curr_hostna
1210:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1211:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
1212:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #else /*SPI Tx*/
1213:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             if(WiFi_Counter_Variables.http_ind==1) 
1214:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1215:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               if(WiFi_Counter_Variables.curr_port_number!=0)
1216:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.HTTPPOST=%s,%s,%d,0,NULL,NULL,NULL,NULL",WiFi
1217:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               else 
1218:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.HTTPPOST=%s,%s",WiFi_Counter_Variables.curr_h
1219:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1220:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             else if(WiFi_Counter_Variables.http_ind==0) 
1221:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1222:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               if(WiFi_Counter_Variables.curr_port_number!=0)
1223:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.HTTPGET=%s,%s,%d,0,NULL,NULL,NULL,NULL",WiFi_
1224:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               else 
1225:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.HTTPGET=%s,%s,80,0,NULL,NULL,NULL,NULL",WiFi_
1226:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1227:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1228:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
1229:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code
1230:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #endif
1231:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           if(status == WiFi_MODULE_SUCCESS)
1232:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
1233:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.timeout_tick = 0;
1234:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Control_Variables.enable_timeout_timer = WIFI_TRUE;
1235:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Control_Variables.stop_event_dequeue = WIFI_TRUE;
1236:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Control_Variables.Ok_terminated_data_request_pending = WIFI_TRUE;
1237:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             IO_status_flag.AT_event_processing = WIFI_HTTP_EVENT;
1238:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
1239:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           else
1240:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
1241:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #if DEBUG_PRINT
1242:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               printf("\r\n ERROR DURING HTTP COMMAND TRANSFER \r\n");
1243:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #endif
1244:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
1245:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             IO_status_flag.AT_Response_Received = WIFI_TRUE;
1246:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }       
1247:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           break;
1248:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1249:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         case WIFI_CLIENT_SOCKET_WRITE_EVENT:
1250:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           Reset_AT_CMD_Buffer();
1251:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1252:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           /* AT+S.SOCKW=00,11<cr> */
1253:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #if defined(CONSOLE_UART_ENABLED)
1254:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             sprintf((char*)WiFi_AT_Cmd_Buff,AT_SOCKET_WRITE, WiFi_Counter_Variables.curr_sockID, Wi
1255:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
1256:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #else
1257:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.SOCKW=%d,%d %s", WiFi_Counter_Variables.curr_sock
1258:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
1259:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code
1260:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #endif
1261:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           if(status == WiFi_MODULE_SUCCESS) 
1262:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
1263:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             Reset_AT_CMD_Buffer();                                
1264:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #if defined(CONSOLE_UART_ENABLED)
1265:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 32


1266:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #if defined(SPWF01)
1267:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #if defined (USE_STM32L0XX_NUCLEO) || (USE_STM32F4XX_NUCLEO) || (USE_STM32L4XX_NUCL
1268:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   __disable_irq();
1269:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #endif
1270:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 if(HAL_UART_Transmit_IT(&UartWiFiHandle, (uint8_t *)WiFi_Counter_Variables.curr_dat
1271:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 {
1272:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   status = WiFi_HAL_UART_ERROR;
1273:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 }
1274:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #if defined (USE_STM32L0XX_NUCLEO) || (USE_STM32F4XX_NUCLEO) || (USE_STM32L4XX_NUCL
1275:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   __enable_irq();
1276:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #endif
1277:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #else
1278:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.stop_event_dequeue = WIFI_TRUE;
1279:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 HAL_status = HAL_UART_Transmit_DMA(&UartWiFiHandle, (uint8_t *)WiFi_Counter_Variabl
1280:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #endif
1281:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1282:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #else
1283:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               //SPI_Transmit_Manager_Poll(WiFi_AT_Cmd_Buff, WiFi_Counter_Variables.curr_DataLength)
1284:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code
1285:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               IO_status_flag.AT_event_processing = WIFI_CLIENT_SOCKET_WRITE_EVENT;
1286:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               IO_status_flag.send_data = WIFI_TRUE;
1287:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.stop_event_dequeue = WIFI_TRUE;
1288:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               Start_AT_CMD_Timer();
1289:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #endif
1290:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
1291:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           if(status != WiFi_MODULE_SUCCESS || HAL_status != HAL_OK)
1292:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
1293:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #if DEBUG_PRINT
1294:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               printf("\r\n ERROR In Socket Write\r\n");
1295:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #endif
1296:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             IO_status_flag.AT_Response_Received = WIFI_TRUE;
1297:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
1298:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
1299:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           break;
1300:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           
1301:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         case WIFI_CLIENT_SOCKET_OPEN_EVENT:
1302:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           Reset_AT_CMD_Buffer();
1303:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #if defined(CONSOLE_UART_ENABLED)
1304:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               /* AT+S.SOCKON = myserver,1234,t <cr> */  
1305:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               sprintf((char*)WiFi_AT_Cmd_Buff,AT_SOCKET_OPEN,WiFi_Counter_Variables.curr_hostname,(
1306:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
1307:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #else
1308:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               /* AT+S.SOCKON = myserver,1234,t <cr> */  
1309:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               //@TBD: Set "is_secure_socket" only when the socket being opened is TLS/"s"/"domain.t
1310:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               if((strcmp((char const *)WiFi_Counter_Variables.curr_protocol,"t")!=0) && (strcmp((ch
1311:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.is_secure_socket = WIFI_TRUE;
1312:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.SOCKON=%s,%d,NULL,%s",WiFi_Counter_Variables.cu
1313:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
1314:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code from run_spi_cmd
1315:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #endif
1316:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1317:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           if(status != WiFi_MODULE_SUCCESS)
1318:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
1319:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #if DEBUG_PRINT
1320:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               printf("\r\n ERROR During Socket Open \r\n");
1321:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #endif
1322:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             IO_status_flag.AT_Response_Received = WIFI_TRUE;
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 33


1323:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
1324:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
1325:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           else
1326:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
1327:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             IO_status_flag.AT_event_processing = WIFI_CLIENT_SOCKET_OPEN_EVENT;
1328:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.timeout_tick = 0;
1329:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Control_Variables.enable_timeout_timer = WIFI_TRUE;                               
1330:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
1331:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           break;
1332:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1333:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         case WIFI_SERVER_SOCKET_OPEN_EVENT:  
1334:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           Reset_AT_CMD_Buffer();
1335:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           /* AT+S.SOCKDON=portNo,t<cr> */
1336:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #if defined(CONSOLE_UART_ENABLED)
1337:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             sprintf((char*)WiFi_AT_Cmd_Buff,AT_SERVER_SOCKET_OPEN,(int)WiFi_Counter_Variables.curr_
1338:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
1339:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #else
1340:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.SOCKDON=%d,%s",(int)WiFi_Counter_Variables.curr_p
1341:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
1342:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code from run_spi_cmd
1343:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #endif
1344:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                           
1345:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           if(status != WiFi_MODULE_SUCCESS)
1346:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
1347:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #if DEBUG_PRINT
1348:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               printf("\r\n ERROR During Server Socket Open \r\n");
1349:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #endif
1350:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             IO_status_flag.AT_Response_Received = WIFI_TRUE;
1351:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
1352:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
1353:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           else
1354:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
1355:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             IO_status_flag.AT_event_processing = WIFI_SERVER_SOCKET_OPEN_EVENT;
1356:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.timeout_tick = 0;
1357:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Control_Variables.enable_timeout_timer = WIFI_TRUE;
1358:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
1359:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           break;
1360:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                         
1361:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         case WIFI_CLIENT_SOCKET_CLOSE_EVENT:
1362:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           if(open_sockets[wifi_instances.DeQed_wifi_event->socket_id])
1363:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
1364:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             Reset_AT_CMD_Buffer();
1365:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             //@TBD: Do a SOCK.R (Read) before closing the socket
1366:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****              #if defined(CONSOLE_UART_ENABLED)
1367:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                  /* AT+S.SOCKC=00<cr> */                                
1368:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 sprintf((char*)WiFi_AT_Cmd_Buff,AT_SOCKET_CLOSE,wifi_instances.DeQed_wifi_event->so
1369:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
1370:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #else
1371:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.SOCKC=%d",wifi_instances.DeQed_wifi_event->so
1372:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
1373:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code from run_spi_cmd
1374:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #endif
1375:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             if(status == WiFi_MODULE_SUCCESS)
1376:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1377:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Counter_Variables.AT_RESPONSE = WiFi_MODULE_SUCCESS;
1378:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.stop_event_dequeue          = WIFI_TRUE;
1379:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Counter_Variables.remote_socket_closed_id     = wifi_instances.DeQed_wifi_event-
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 34


1380:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               
1381:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               //for making changes in the value of open_sockets[sock_id] if no error is returned
1382:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               IO_status_flag.client_socket_close_ongoing = WIFI_TRUE;
1383:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               
1384:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               //prevent the OK received after socket close command to be Q'ed
1385:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               IO_status_flag.prevent_push_OK_event       = WIFI_TRUE;
1386:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1387:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             else
1388:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1389:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #if DEBUG_PRINT
1390:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 printf("\r\n ERROR During Socket Close \r\n");
1391:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #endif
1392:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1393:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
1394:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           else
1395:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             printf("\r\n Socket already close");
1396:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           break; 
1397:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1398:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         case WIFI_SERVER_SOCKET_CLOSE_EVENT:
1399:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           Reset_AT_CMD_Buffer();
1400:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #ifdef SPWF04
1401:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             if(open_server_sockets[wifi_instances.DeQed_wifi_event->server_id])
1402:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1403:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #if defined(CONSOLE_UART_ENABLED)
1404:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 if(wifi_instances.DeQed_wifi_event->socket_id != 9)
1405:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 {
1406:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   /* cannot check if the socket we are trying to close is connected to socket or no
1407:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                      in tls sometimes we get wind:62 without getting wind:61. */
1408:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                     sprintf((char *)WiFi_AT_Cmd_Buff,AT_SPECIFIC_CLIENT_ON_SERVER_CLOSE,wifi_instan
1409:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                     WiFi_Control_Variables.close_specific_client = WIFI_TRUE;
1410:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 }
1411:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 else
1412:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 {
1413:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   /* @TBD: Not implemented now */
1414:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   WiFi_Control_Variables.stop_event_dequeue      = WIFI_TRUE;
1415:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   /* Query every connected client and if result of all query zero then close the se
1416:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   sprintf((char *)WiFi_AT_Cmd_Buff,AT_SERVER_SOCKET_CLOSE,wifi_instances.DeQed_wifi
1417:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   WiFi_Control_Variables.close_complete_server_socket = WIFI_TRUE;
1418:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 }
1419:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
1420:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #else
1421:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 if(wifi_instances.DeQed_wifi_event->socket_id != 9)
1422:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 {
1423:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                     /* cannot check if the socket we are trying to close is connected to socket or 
1424:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                      in tls sometimes we get wind:62 without getting wind:61. */
1425:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                     sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.SOCKDC=%d,%d",wifi_instances.DeQed_wifi_e
1426:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                     WiFi_Control_Variables.close_specific_client = WIFI_TRUE;
1427:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 }
1428:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 else
1429:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.SOCKDC=%d",wifi_instances.DeQed_wifi_event-
1430:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
1431:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code from run_spi_cmd
1432:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #endif
1433:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               if(status == WiFi_MODULE_SUCCESS)
1434:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
1435:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Counter_Variables.AT_RESPONSE = WiFi_MODULE_SUCCESS;
1436:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.stop_event_dequeue      = WIFI_TRUE;
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 35


1437:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Counter_Variables.remote_server_closed_id = wifi_instances.DeQed_wifi_event->s
1438:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Counter_Variables.remote_socket_closed_id = wifi_instances.DeQed_wifi_event->s
1439:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1440:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 //for making changes in the value of open_sockets[sock_id] if no error is returned
1441:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 IO_status_flag.server_socket_close_ongoing = WIFI_TRUE;
1442:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1443:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 //prevent the OK received after socket close command to be Q'ed
1444:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 IO_status_flag.prevent_push_OK_event       = WIFI_TRUE;
1445:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               }
1446:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               else
1447:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
1448:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #if DEBUG_PRINT
1449:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   printf("\r\n ERROR During Socket Close \r\n");
1450:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #endif
1451:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               }
1452:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1453:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #else
1454:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             sprintf((char *)WiFi_AT_Cmd_Buff,AT_SERVER_SOCKET_CLOSE);
1455:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
1456:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             if(status == WiFi_MODULE_SUCCESS)
1457:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1458:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Counter_Variables.AT_RESPONSE = WiFi_MODULE_SUCCESS;
1459:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.stop_event_dequeue = WIFI_TRUE;
1460:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1461:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #endif
1462:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           break;
1463:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1464:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         case WIFI_FILE_CREATE_EVENT:
1465:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           Reset_AT_CMD_Buffer();
1466:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           
1467:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           /* AT+S.FSC=/index.html,<datalength> */
1468:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #ifdef CONSOLE_UART_ENABLED
1469:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             sprintf((char*)WiFi_AT_Cmd_Buff, AT_CREATE_FILE, WiFi_Counter_Variables.curr_filename, 
1470:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1471:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
1472:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             if (status != WiFi_MODULE_SUCCESS)
1473:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1474:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               IO_status_flag.AT_Response_Received = WIFI_TRUE;
1475:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
1476:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1477:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             else
1478:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1479:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #ifdef SPWF01
1480:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 status = USART_Receive_AT_Resp( );
1481:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 if(status != WiFi_MODULE_SUCCESS)  
1482:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 {
1483:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   IO_status_flag.AT_Response_Received = WIFI_TRUE;
1484:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
1485:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 }
1486:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1487:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 /* AT+S.FSA=/index.html */
1488:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 sprintf((char*)WiFi_AT_Cmd_Buff,AT_APPEND_FILE,WiFi_Counter_Variables.curr_filename
1489:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
1490:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 if(status != WiFi_MODULE_SUCCESS)
1491:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 {
1492:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   IO_status_flag.AT_Response_Received = WIFI_TRUE;
1493:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 36


1494:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 }
1495:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #endif
1496:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               Reset_AT_CMD_Buffer();
1497:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               memcpy((char*)WiFi_AT_Cmd_Buff, (char*)WiFi_Counter_Variables.curr_data,WiFi_Counter_
1498:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
1499:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               if(status != WiFi_MODULE_SUCCESS) 
1500:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
1501:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 IO_status_flag.AT_Response_Received = WIFI_TRUE;
1502:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
1503:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               }
1504:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1505:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #else  // for SPI SPWF04
1506:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.FSC=%s,%d %s", WiFi_Counter_Variables.curr_file
1507:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
1508:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code
1509:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1510:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               if(status == WiFi_MODULE_SUCCESS) 
1511:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
1512:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 //SPI_Transmit_Manager_Poll(WiFi_AT_Cmd_Buff, WiFi_Counter_Variables.curr_DataLengt
1513:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code
1514:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 IO_status_flag.AT_event_processing = WIFI_NO_EVENT;
1515:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 IO_status_flag.send_data = WIFI_TRUE;
1516:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.stop_event_dequeue = WIFI_TRUE;
1517:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               }
1518:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             if(status != WiFi_MODULE_SUCCESS)
1519:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1520:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #if DEBUG_PRINT
1521:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 printf("\r\n ERROR In Socket Write\r\n");
1522:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #endif
1523:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               IO_status_flag.AT_Response_Received = WIFI_TRUE;
1524:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
1525:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1526:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #endif
1527:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;
1528:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                           
1529:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           case WIFI_FILE_EVENT:
1530:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             Reset_AT_CMD_Buffer();
1531:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1532:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             if(WiFi_Counter_Variables.curr_filename == NULL)
1533:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1534:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               /* AT+S.FSL */
1535:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #ifdef CONSOLE_UART_ENABLED
1536:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 sprintf((char*)WiFi_AT_Cmd_Buff,AT_DISPLAY_FILENAME_LIST);
1537:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #else
1538:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.FSL");
1539:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
1540:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code
1541:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #endif
1542:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1543:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             else if(WiFi_Counter_Variables.curr_hostname == NULL)
1544:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1545:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               /* AT+S.FSP=/index.html */
1546:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #ifdef CONSOLE_UART_ENABLED
1547:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 sprintf((char*)WiFi_AT_Cmd_Buff,AT_DISPLAY_FILE_CONTENT,WiFi_Counter_Variables.curr
1548:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #else
1549:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.FSP=/%s,NULL,NULL",WiFi_Counter_Variables.cur
1550:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 37


1551:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code
1552:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #endif
1553:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1554:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             else
1555:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1556:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               /* AT+S.FSUPDATE=%s,/outfile.img  */
1557:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #ifdef CONSOLE_UART_ENABLED
1558:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 sprintf((char*)WiFi_AT_Cmd_Buff,AT_DOWNLOAD_IMAGE_FILE,WiFi_Counter_Variables.curr_
1559:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #else
1560:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.FSUPDATE=e,%s,/%s,%d,NULL,NULL,NULL",WiFi_Cou
1561:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
1562:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code
1563:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #endif
1564:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1565:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1566:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #ifdef CONSOLE_UART_ENABLED
1567:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
1568:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #endif
1569:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             if(status == WiFi_MODULE_SUCCESS)
1570:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1571:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.enable_receive_file_response = WIFI_TRUE;
1572:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #ifdef CONSOLE_UART_ENABLED
1573:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #ifdef SPWF01
1574:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   WiFi_Control_Variables.enable_receive_data_chunk  = WIFI_TRUE;
1575:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #endif
1576:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.enable_receive_http_response = WIFI_TRUE;
1577:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #else
1578:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.stop_event_dequeue = WIFI_TRUE;
1579:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.Ok_terminated_data_request_pending = WIFI_TRUE;
1580:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 IO_status_flag.AT_event_processing = WIFI_HTTP_EVENT;
1581:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #endif
1582:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1583:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             else
1584:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1585:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #if DEBUG_PRINT
1586:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 printf("\r\n ERROR DURING FILE OPERATION \r\n");
1587:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #endif
1588:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               IO_status_flag.AT_Response_Received = WIFI_TRUE;
1589:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
1590:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1591:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;
1592:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1593:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           case WIFI_FILE1_EVENT:
1594:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             Reset_AT_CMD_Buffer();
1595:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1596:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             if( WiFi_Counter_Variables.volume == -1 && WiFi_Counter_Variables.erase == -1) 
1597:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1598:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               if(WiFi_Counter_Variables.curr_filename !=NULL && WiFi_Counter_Variables.mod_filename
1599:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
1600:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 /* Rename a file.... AT+S.FSR=<old_filename>,<new_filename> */
1601:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #if defined(SPWF04) && defined(CONSOLE_UART_ENABLED)
1602:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                     sprintf((char*)WiFi_AT_Cmd_Buff,AT_RENAME_FILE, WiFi_Counter_Variables.curr_fil
1603:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #elif defined(SPWF04)
1604:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                     sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.FSR=/%s,%s", WiFi_Counter_Variables.curr_
1605:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                     run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
1606:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                     status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code
1607:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #endif
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 38


1608:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               }
1609:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               else if(WiFi_Counter_Variables.curr_filename !=NULL && WiFi_Counter_Variables.mod_fil
1610:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
1611:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   /* Delete a file...AT+S.FSD=<filename> */
1612:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   #ifdef CONSOLE_UART_ENABLED
1613:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                     sprintf((char*)WiFi_AT_Cmd_Buff,AT_DELETE_FILE, WiFi_Counter_Variables.curr_fil
1614:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   #else
1615:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                     sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.FSD=/%s", WiFi_Counter_Variables.curr_fil
1616:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                     run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
1617:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                     status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code
1618:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   #endif
1619:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               }
1620:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1621:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             else
1622:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1623:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               /* erase user memory volume...AT+S.FSU=[<volume>],[<erase>] */                       
1624:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #if defined(SPWF04) && defined(CONSOLE_UART_ENABLED)
1625:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   sprintf((char*)WiFi_AT_Cmd_Buff,AT_UNMOUNT_USER_MEMORY, WiFi_Counter_Variables.vo
1626:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #elif defined SPWF04
1627:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.FSU");
1628:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
1629:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code
1630:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #endif
1631:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1632:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #ifdef CONSOLE_UART_ENABLED
1633:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
1634:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #endif
1635:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             /* Wait till OK of this command is not received */
1636:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             if(status != WiFi_MODULE_SUCCESS)
1637:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****              {
1638:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                  #if DEBUG_PRINT
1639:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                    printf("\r\n ERROR During File Event\r\n");
1640:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                  #endif
1641:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                  IO_status_flag.AT_Response_Received = WIFI_TRUE;
1642:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                  WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
1643:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****              }
1644:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;
1645:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1646:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           case WIFI_FW_UPDATE_EVENT:
1647:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             Reset_AT_CMD_Buffer();
1648:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #if defined(CONSOLE_UART_ENABLED)
1649:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               /*AT+S.FWUPDATE=e,<hostname>,[<path&query>,<port>,<TLS>,<username>,<passwd>]\r*/
1650:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               sprintf((char*)WiFi_AT_Cmd_Buff,AT_FWUPDATE,WiFi_Counter_Variables.curr_hostname,WiFi
1651:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
1652:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #else
1653:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.FWUPDATE=e,%s,/%s,%d,0,NULL,NULL",WiFi_Counter_
1654:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_POLL);
1655:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               status = WiFi_MODULE_SUCCESS;//@TBD: Check return error code from run_spi_cmd
1656:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #endif
1657:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             
1658:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             if(status == WiFi_MODULE_SUCCESS)
1659:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1660:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.enable_fw_update_read      = WIFI_TRUE;
1661:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #if defined(SPWF01)
1662:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.enable_receive_data_chunk  = WIFI_TRUE;
1663:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #else
1664:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #if defined(CONSOLE_UART_ENABLED)
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 39


1665:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   WiFi_Control_Variables.enable_receive_http_response = WIFI_TRUE;
1666:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #else
1667:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   IO_status_flag.AT_event_processing = WIFI_FW_UPDATE_EVENT;
1668:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #endif
1669:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #endif
1670:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1671:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             else 
1672:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1673:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #if DEBUG_PRINT
1674:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 printf("\r\n ERROR DURING FIRMWARE UPDATE \r\n");
1675:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #endif
1676:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               IO_status_flag.AT_Response_Received = WIFI_TRUE;
1677:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
1678:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1679:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;
1680:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1681:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           case WIFI_ERROR_EVENT:
1682:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #if DEBUG_PRINT
1683:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               //printf("\r\n ERROR!\r\n");
1684:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #endif
1685:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             IO_status_flag.AT_Response_Received = WIFI_TRUE;
1686:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
1687:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             IO_status_flag.AT_event_processing = WIFI_NO_EVENT;
1688:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;
1689:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1690:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           case WIFI_OK_EVENT:
1691:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #if DEBUG_PRINT
1692:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             printf("\r\n<<OK\r\n");
1693:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #endif
1694:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #ifndef CONSOLE_UART_ENABLED
1695:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.enable_receive_socket_list_response = WIFI_FALSE;
1696:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.enable_receive_file_response = WIFI_FALSE;
1697:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #endif
1698:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             // no break
1699:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           case WIFI_GCFG_EVENT:
1700:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           case WIFI_GPIO_EVENT:
1701:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             IO_status_flag.AT_Response_Received = WIFI_TRUE;
1702:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.AT_RESPONSE = WiFi_MODULE_SUCCESS;
1703:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             IO_status_flag.AT_event_processing = WIFI_NO_EVENT;
1704:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;
1705:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1706:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           case WIFI_STANDBY_CONFIG_EVENT:
1707:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #if DEBUG_PRINT
1708:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 printf("\r\nGoing into standby..\r\n");  
1709:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #endif
1710:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;
1711:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1712:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           case WIFI_RESUME_CONFIG_EVENT:
1713:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #if DEBUG_PRINT
1714:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 printf("\r\nResuming from standby..\r\n");
1715:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #endif                              
1716:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Control_Variables.trigger_wakeup_callback = WIFI_TRUE;    
1717:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;
1718:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1719:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           default:
1720:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;
1721:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****        }
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 40


1722:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
1723:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   }
1724:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* If data is pending on client socket SOCKON, make read requests*/
1725:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(WiFi_Control_Variables.start_sock_read == WIFI_TRUE)
1726:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
1727:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.start_sock_read = WIFI_FALSE;
1728:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               Socket_Read(WiFi_Counter_Variables.Socket_Data_Length);                  
1729:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }  
1730:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* Call Query, after notification for TLS is received */
1731:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   else if(WiFi_Control_Variables.enable_query == WIFI_TRUE && IO_status_flag.enable_dequeue == WIFI
1732:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
1733:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.enable_query = WIFI_FALSE;
1734:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               //@TBD: Flushing the buffer may be detrimental if we have genuine follow on WIND55?
1735:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               Socket_Pending_Data();                  
1736:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }      
1737:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   #ifdef SPWF04
1738:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     /* If data is pending on server socket SOCKDON, make read requests*/
1739:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     else if(WiFi_Control_Variables.start_sockd_read == WIFI_TRUE)
1740:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1741:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.start_sockd_read = WIFI_FALSE;
1742:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 Socket_Server_Read(WiFi_Counter_Variables.Socket_Data_Length);                  
1743:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }  
1744:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     else if(WiFi_Control_Variables.enable_server_query == WIFI_TRUE && IO_status_flag.enable_dequeu
1745:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1746:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.enable_server_query = WIFI_FALSE;
1747:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 Server_Pending_Data();                  
1748:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             } 
1749:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     else if(WiFi_Control_Variables.enable_websocket_query == WIFI_TRUE && IO_status_flag.enable_deq
1750:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1751:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.enable_websocket_query = WIFI_FALSE;                  
1752:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 Websocket_Pending_Data();                  
1753:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1754:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     else if(WiFi_Control_Variables.start_websock_read == WIFI_TRUE)
1755:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1756:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.start_websock_read = WIFI_FALSE;
1757:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 Websocket_Read(WiFi_Counter_Variables.Socket_Data_Length);                  
1758:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1759:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     else if(WiFi_Control_Variables.Client_Websocket_Close_Cmd == WIFI_TRUE)//for client socket
1760:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {   
1761:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.Client_Websocket_Close_Cmd = WIFI_FALSE;
1762:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 Queue_Client_Close_Event(WiFi_Counter_Variables.client_websocket_close_id, WEB_SOCK
1763:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 IO_status_flag.client_socket_close_type = NET_SOCKET;//default to net socket all th
1764:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1765:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     else if(WiFi_Control_Variables.Mqtt_Close_Cmd)
1766:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1767:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.Mqtt_Close_Cmd = WIFI_FALSE;
1768:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 ind_wifi_mqtt_closed(WiFi_Counter_Variables.mqtt_closed_id);
1769:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1770:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     else if(WiFi_Control_Variables.Mqtt_Data_Publish_Callback)
1771:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
1772:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.Mqtt_Data_Publish_Callback = WIFI_FALSE;
1773:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               ind_wifi_mqtt_data_received(WiFi_Counter_Variables.Socket_Open_ID,WiFi_Counter_Variab
1774:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.stop_event_dequeue = WIFI_FALSE;
1775:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               memset(UserDataBuff, 0x00, MAX_BUFFER_GLOBAL);//Flush the buffer
1776:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
1777:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   #endif
1778:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   else if(WiFi_Control_Variables.Pending_SockON_Callback==WIFI_TRUE)//for client socket
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 41


1779:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
1780:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.Pending_SockON_Callback=WIFI_FALSE;
1781:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               //Now callback to user with user_data pointer <UserDataBuff>              
1782:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               ind_wifi_socket_data_received(-1, WiFi_Counter_Variables.sockon_id_user, (uint8_t *)U
1783:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               memset(UserDataBuff, 0x00, MAX_BUFFER_GLOBAL);//Flush the buffer
1784:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               Resume_Dequeue();
1785:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
1786:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1787:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   else if(WiFi_Control_Variables.Pending_SockD_Callback == WIFI_TRUE)//for server socket
1788:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
1789:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.Pending_SockD_Callback=WIFI_FALSE;
1790:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               //Now callback to user with user_data pointer <UserDataBuff>
1791:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               ind_wifi_socket_data_received(WiFi_Counter_Variables.sockdon_id_user, WiFi_Counter_Va
1792:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               memset(UserDataBuff, 0x00, MAX_BUFFER_GLOBAL); //Flush the buffer
1793:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               Resume_Dequeue();
1794:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
1795:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1796:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   else if(WiFi_Control_Variables.Client_Socket_Close_Cmd == WIFI_TRUE)//for client socket
1797:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
1798:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               // Q the close socket event
1799:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               if(open_sockets[WiFi_Counter_Variables.client_socket_close_id])
1800:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 {
1801:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   Queue_Client_Close_Event(WiFi_Counter_Variables.client_socket_close_id, NET_SOCKE
1802:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 }
1803:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.Client_Socket_Close_Cmd = WIFI_FALSE;
1804:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
1805:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1806:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   else if(WiFi_Control_Variables.SockON_Server_Closed_Callback==WIFI_TRUE)//for client socket
1807:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
1808:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               //callback the user
1809:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #ifdef SPWF04
1810:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 if(IO_status_flag.client_socket_close_type==WEB_SOCKET)
1811:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   ind_wifi_socket_client_remote_server_closed(&WiFi_Counter_Variables.closed_socket
1812:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 else if(IO_status_flag.client_socket_close_type==NET_SOCKET)
1813:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #endif       
1814:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 ind_wifi_socket_client_remote_server_closed(&WiFi_Counter_Variables.closed_socket_i
1815:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               
1816:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               IO_status_flag.client_socket_close_type = NET_SOCKET;//default to net socket all the 
1817:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.SockON_Server_Closed_Callback = WIFI_FALSE;
1818:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.stop_event_dequeue = WIFI_FALSE;
1819:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
1820:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1821:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   else if(WiFi_Control_Variables.HTTP_Data_available == WIFI_TRUE)
1822:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
1823:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.HTTP_Data_available=WIFI_FALSE;
1824:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               if(WiFi_Control_Variables.enable_receive_file_response)
1825:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
1826:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 ind_wifi_file_data_available((uint8_t *)UserDataBuff);
1827:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               }
1828:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               else if(WiFi_Control_Variables.enable_receive_socket_list_response)
1829:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 ind_wifi_socket_list_data_available((uint8_t *)UserDataBuff);
1830:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               else
1831:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 ind_wifi_http_data_available((uint8_t *)UserDataBuff,WiFi_Counter_Variables.UserDat
1832:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               memset(UserDataBuff, 0x00, MAX_BUFFER_GLOBAL);//Flush the buffer
1833:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               Resume_Dequeue();
1834:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
1835:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 42


1836:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   else if (WiFi_Control_Variables.FILE_Data_available == WIFI_TRUE)
1837:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
1838:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               ind_wifi_file_data_available((uint8_t *) UserDataBuff);
1839:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               memset(UserDataBuff, 0x00, MAX_BUFFER_GLOBAL);//Flush the buffer
1840:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               Resume_Dequeue();
1841:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.FILE_Data_available = WIFI_FALSE;
1842:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
1843:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   else if(WiFi_Control_Variables.Client_Connected == WIFI_TRUE)
1844:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
1845:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               ind_socket_server_client_joined();
1846:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.Client_Connected = WIFI_FALSE;
1847:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
1848:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1849:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   else if(WiFi_Control_Variables.Client_Disconnected == WIFI_TRUE)
1850:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
1851:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               ind_socket_server_client_left();
1852:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.Client_Disconnected = WIFI_FALSE;
1853:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
1854:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1855:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   //Make callbacks from here to user for pending events
1856:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   switch(IO_status_flag.WiFi_WIND_State)
1857:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   {
1858:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       //Make callbacks from here to user for pending events
1859:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case WiFiHWStarted: 
1860:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         if(IO_status_flag.wifi_ready == 2)//Twice reset for User Callback
1861:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          {
1862:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             IO_status_flag.wifi_ready++;//will increment to 3 (max)
1863:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             ind_wifi_on();//Call this once only...This if for wifi_on (instead of console active
1864:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          }
1865:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         break;
1866:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1867:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case WiFiUp:
1868:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         if(wifi_connected == 0)
1869:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          {
1870:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             wifi_connected = 1;
1871:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             ind_wifi_connected();  //wifi connected
1872:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          }
1873:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** //        IO_status_flag.WiFi_WIND_State = Undefine_state;
1874:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         break;
1875:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1876:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case WiFiStarted_MiniAPMode:
1877:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_ap_ready();
1878:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
1879:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
1880:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1881:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case WiFiAPClientJoined: 
1882:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_ap_client_joined(WiFi_Counter_Variables.client_MAC_address);
1883:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
1884:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
1885:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1886:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case WiFiAPClientLeft:
1887:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_ap_client_left(WiFi_Counter_Variables.client_MAC_address);
1888:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
1889:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
1890:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1891:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case Deep_Sleep_Callback:
1892:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_resuming();
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 43


1893:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
1894:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
1895:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1896:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case standby_resume_callback:
1897:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_resuming();
1898:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
1899:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
1900:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1901:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case WiFiHWFailure:
1902:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
1903:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_error(WiFi_HW_FAILURE_ERROR);     //call with error number      
1904:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
1905:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1906:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case HardFault:
1907:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
1908:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_error(WiFi_HARD_FAULT_ERROR);     //call with error number      
1909:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
1910:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1911:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case StackOverFlow:
1912:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
1913:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_error(WiFi_STACK_OVERFLOW_ERROR); //call with error number      
1914:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
1915:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1916:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case Mallocfailed:
1917:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
1918:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_error(WiFi_MALLOC_FAILED_ERROR);  //call with error number      
1919:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
1920:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1921:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case InitFailure:
1922:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
1923:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_error(WiFi_INIT_ERROR);   //call with error number      
1924:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
1925:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1926:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case StartFailed:
1927:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
1928:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_error(WiFi_START_FAILED_ERROR);   //call with error number      
1929:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
1930:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       
1931:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case WiFiException:
1932:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
1933:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_error(WiFi_EXCEPTION_ERROR);      //call with error number      
1934:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
1935:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1936:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case PS_Mode_Failure:
1937:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
1938:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_warning(WiFi_POWER_SAVE_WARNING); //call with error number      
1939:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
1940:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1941:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case HeapTooSmall:
1942:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
1943:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_warning(WiFi_HEAP_TOO_SMALL_WARNING);     //call with error number      
1944:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
1945:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       
1946:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case WiFiSignalLOW:
1947:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
1948:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_warning(WiFi_SIGNAL_LOW_WARNING); //call with error number      
1949:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;  
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 44


1950:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1951:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case WiFiDeauthentication:
1952:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
1953:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_connection_error(WiFi_DE_AUTH);
1954:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
1955:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1956:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case WiFiDisAssociation:
1957:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
1958:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_connection_error(WiFi_DISASSOCIATION);
1959:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
1960:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
1961:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case WiFiJoinFailed:
1962:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
1963:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_connection_error(WiFi_JOIN_FAILED);
1964:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
1965:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       
1966:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case WiFiScanBlewUp:
1967:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
1968:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_connection_error(WiFi_SCAN_BLEWUP);    //@TBD to check if user made call, so not 
1969:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
1970:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       
1971:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case WiFiScanFailed:
1972:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
1973:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_connection_error(WiFi_SCAN_FAILED);    //@TBD to check if user made call, so not 
1974:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
1975:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       
1976:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case WiFiUnHandledInd:
1977:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
1978:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_packet_lost(WiFi_UNHANDLED_IND_ERROR); //@TBD to check if user made call, so not 
1979:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
1980:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     
1981:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case WiFiRXMgmt:
1982:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
1983:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_packet_lost(WiFi_RX_MGMT);  //@TBD to check if user made call, so not call callba
1984:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
1985:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       
1986:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case WiFiRXData:
1987:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
1988:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_packet_lost(WiFi_RX_DATA);  //@TBD to check if user made call, so not call callba
1989:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;  
1990:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       
1991:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case WiFiRxUnk:
1992:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
1993:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_packet_lost(WiFi_RX_UNK);  //@TBD to check if user made call, so not call callbac
1994:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;  
1995:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       
1996:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case WiFiSockdDataLost:
1997:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
1998:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_socket_server_data_lost();  //@TBD to check if user made call, so not call callba
1999:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
2000:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2001:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case WiFiDeAuth:
2002:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case WiFiPowerDown:
2003:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       case Undefine_state:
2004:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     	 break;
2005:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   }
2006:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 45


2007:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2008:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2009:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Start_Timer
2010:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Start Timer 
2011:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
2012:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
2013:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2014:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Start_Timer()
2015:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 517              		.loc 1 2015 0
 518              		.cfi_startproc
 519              		@ args = 0, pretend = 0, frame = 0
 520              		@ frame_needed = 0, uses_anonymous_args = 0
 521              		@ link register save eliminated.
2016:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   IO_status_flag.tickcount = WIFI_FALSE;
 522              		.loc 1 2016 0
 523 0000 034B     		ldr	r3, .L32
 524 0002 0022     		movs	r2, #0
 525 0004 9A60     		str	r2, [r3, #8]
2017:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   IO_status_flag.Timer_Running = WIFI_TRUE;
 526              		.loc 1 2017 0
 527 0006 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 528 0008 42F00402 		orr	r2, r2, #4
 529 000c 1A70     		strb	r2, [r3]
 530 000e 7047     		bx	lr
 531              	.L33:
 532              		.align	2
 533              	.L32:
 534 0010 00000000 		.word	IO_status_flag
 535              		.cfi_endproc
 536              	.LFE284:
 538              		.section	.text.Stop_Timer,"ax",%progbits
 539              		.align	1
 540              		.global	Stop_Timer
 541              		.syntax unified
 542              		.thumb
 543              		.thumb_func
 544              		.fpu fpv4-sp-d16
 546              	Stop_Timer:
 547              	.LFB285:
2018:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
2019:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2020:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2021:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Stop_Timer
2022:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Stop Timer request
2023:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
2024:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
2025:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2026:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Stop_Timer()
2027:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {  
 548              		.loc 1 2027 0
 549              		.cfi_startproc
 550              		@ args = 0, pretend = 0, frame = 0
 551              		@ frame_needed = 0, uses_anonymous_args = 0
 552              		@ link register save eliminated.
2028:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   IO_status_flag.tickcount      = WIFI_FALSE;  
 553              		.loc 1 2028 0
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 46


 554 0000 044B     		ldr	r3, .L35
 555 0002 0021     		movs	r1, #0
 556 0004 9960     		str	r1, [r3, #8]
2029:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   IO_status_flag.Timer_Running  = WIFI_FALSE;    
 557              		.loc 1 2029 0
 558 0006 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 559 0008 61F38202 		bfi	r2, r1, #2, #1
 560 000c 1A70     		strb	r2, [r3]
2030:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   IO_status_flag.UartReady      = SET;
 561              		.loc 1 2030 0
 562 000e 0122     		movs	r2, #1
 563 0010 5A74     		strb	r2, [r3, #17]
 564 0012 7047     		bx	lr
 565              	.L36:
 566              		.align	2
 567              	.L35:
 568 0014 00000000 		.word	IO_status_flag
 569              		.cfi_endproc
 570              	.LFE285:
 572              		.section	.text.Stop_Dequeue,"ax",%progbits
 573              		.align	1
 574              		.global	Stop_Dequeue
 575              		.syntax unified
 576              		.thumb
 577              		.thumb_func
 578              		.fpu fpv4-sp-d16
 580              	Stop_Dequeue:
 581              	.LFB286:
2031:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
2032:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2033:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2034:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Stop_Dequeue
2035:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Stop dequeuing data from the ring buffer
2036:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
2037:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
2038:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2039:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Stop_Dequeue()
2040:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 582              		.loc 1 2040 0
 583              		.cfi_startproc
 584              		@ args = 0, pretend = 0, frame = 0
 585              		@ frame_needed = 0, uses_anonymous_args = 0
 586              		@ link register save eliminated.
2041:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   IO_status_flag.enable_dequeue = WIFI_FALSE;
 587              		.loc 1 2041 0
 588 0000 024A     		ldr	r2, .L38
 589 0002 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 590 0004 6FF3C303 		bfc	r3, #3, #1
 591 0008 1370     		strb	r3, [r2]
 592 000a 7047     		bx	lr
 593              	.L39:
 594              		.align	2
 595              	.L38:
 596 000c 00000000 		.word	IO_status_flag
 597              		.cfi_endproc
 598              	.LFE286:
 600              		.section	.text.Resume_Dequeue,"ax",%progbits
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 47


 601              		.align	1
 602              		.global	Resume_Dequeue
 603              		.syntax unified
 604              		.thumb
 605              		.thumb_func
 606              		.fpu fpv4-sp-d16
 608              	Resume_Dequeue:
 609              	.LFB287:
2042:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
2043:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2044:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2045:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Resume_Dequeue
2046:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Resume dequeuing data from the ring buffer
2047:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
2048:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
2049:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2050:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Resume_Dequeue()
2051:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 610              		.loc 1 2051 0
 611              		.cfi_startproc
 612              		@ args = 0, pretend = 0, frame = 0
 613              		@ frame_needed = 0, uses_anonymous_args = 0
 614              		@ link register save eliminated.
2052:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   IO_status_flag.enable_dequeue = WIFI_TRUE;
 615              		.loc 1 2052 0
 616 0000 024A     		ldr	r2, .L41
 617 0002 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 618 0004 43F00803 		orr	r3, r3, #8
 619 0008 1370     		strb	r3, [r2]
 620 000a 7047     		bx	lr
 621              	.L42:
 622              		.align	2
 623              	.L41:
 624 000c 00000000 		.word	IO_status_flag
 625              		.cfi_endproc
 626              	.LFE287:
 628              		.section	.text.WiFi_HAL_UART_TxCpltCallback,"ax",%progbits
 629              		.align	1
 630              		.global	WiFi_HAL_UART_TxCpltCallback
 631              		.syntax unified
 632              		.thumb
 633              		.thumb_func
 634              		.fpu fpv4-sp-d16
 636              	WiFi_HAL_UART_TxCpltCallback:
 637              	.LFB289:
2053:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
2054:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2055:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #if defined(SPWF04) && !defined(CONSOLE_UART_ENABLED)
2056:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2057:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2058:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Start_AT_CMD_Timer
2059:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Start the Timer after sending AT CMD.
2060:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
2061:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval void
2062:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2063:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Start_AT_CMD_Timer(void)
2064:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 48


2065:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Control_Variables.WIFI_Timeout = WIFI_TRUE;
2066:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.Tickstart = HAL_GetTick();
2067:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
2068:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2069:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2070:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Stop_AT_CMD_Timer
2071:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Stop the AT Command Timer.
2072:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
2073:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval void
2074:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2075:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Stop_AT_CMD_Timer(void)
2076:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
2077:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Control_Variables.WIFI_Timeout = WIFI_FALSE;
2078:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
2079:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2080:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2081:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  WiFi_AT_CMD_Timeout
2082:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Timeout of the AT command if no response of the cmd is received
2083:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         within the given TIMEOUT time.
2084:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
2085:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
2086:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2087:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void WiFi_AT_CMD_Timeout(void)
2088:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
2089:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(WiFi_Control_Variables.WIFI_Timeout)
2090:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   {
2091:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     if(HAL_GetTick() - WiFi_Counter_Variables.Tickstart >= TIMEOUT)
2092:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
2093:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       /* No result of command received. */
2094:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       Stop_AT_CMD_Timer();
2095:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.AT_Response_Received = WIFI_TRUE;
2096:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Counter_Variables.AT_RESPONSE = WiFi_TIME_OUT_ERROR;
2097:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       ind_wifi_error(WiFi_AT_CMD_RESP_ERROR);
2098:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
2099:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   }
2100:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
2101:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
2102:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2103:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2104:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Wifi_SysTick_Isr
2105:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Function called every SysTick to process buffer
2106:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
2107:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
2108:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2109:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Wifi_SysTick_Isr()
2110:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
2111:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     //Check if Data is Paused
2112:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     if((IO_status_flag.Timer_Running) && (IO_status_flag.enable_dequeue==WIFI_TRUE) /*&& ((tickcoun
2113:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       {
2114:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           Process_WiFi();
2115:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       }
2116:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2117:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     if(WiFi_Control_Variables.resume_receive_data == WIFI_TRUE)
2118:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       {
2119:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           if(is_half_empty(&wifi_instances.big_buff))
2120:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
2121:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.resume_receive_data = WIFI_FALSE;
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 49


2122:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 Receive_Data();
2123:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
2124:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       }
2125:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2126:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     if(WiFi_Control_Variables.Standby_Timer_Running) // module is in sleep and after expiry RX will
2127:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       {
2128:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           if((WiFi_Counter_Variables.standby_time++) >= EXTI_CONF_TIMER)
2129:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
2130:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.Standby_Timer_Running=WIFI_FALSE;
2131:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Counter_Variables.standby_time = 0;
2132:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
2133:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       }
2134:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #if 0
2135:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     if(WiFi_Control_Variables.enable_timeout_timer)     // module will timeout when no response fro
2136:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       {
2137:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           WiFi_Counter_Variables.timeout_tick++;
2138:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           //wait for 20 seconds before timeout
2139:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           if(WiFi_Counter_Variables.timeout_tick > 20000)       //wait for 20s before timeout
2140:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
2141:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #if DEBUG_PRINT
2142:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   printf("\r\n Timeout! No response received.\r\n");
2143:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #endif
2144:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Counter_Variables.timeout_tick         = 0;
2145:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.enable_timeout_timer = WIFI_FALSE;
2146:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Counter_Variables.AT_RESPONSE          = WiFi_AT_CMD_RESP_ERROR; // Timeout if
2147:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 IO_status_flag.AT_Response_Received = WIFI_TRUE;
2148:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                  //re-enable event Q after 200ms
2149:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.stop_event_dequeue = WIFI_FALSE;
2150:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
2151:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       }
2152:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
2153:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2154:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     /*A Resume WIND:70 has come and triggered this
2155:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     So checking here if after that resume we fall back to sleep (another WIND69) within SLEEP_RESUM
2156:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     If yes, we assume it is a false resume and hence do nothing and go back to sleep
2157:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     If no WIND69 (going into sleep) has come, we can assume the resume was genuine and then enable 
2158:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     */
2159:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     if((WiFi_Control_Variables.Deep_Sleep_Timer) && (WiFi_Counter_Variables.sleep_count++) >= SLEEP
2160:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       {
2161:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           if(WiFi_Control_Variables.Deep_Sleep_Enabled == WIFI_TRUE)//which means we have received 
2162:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
2163:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 //do nothing, go back to sleep
2164:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.Deep_Sleep_Enabled = WIFI_TRUE;
2165:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
2166:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           else if (WiFi_Control_Variables.Deep_Sleep_Enabled == WIFI_FALSE) //which means we have n
2167:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
2168:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 //enable the user callback as it is a genuine WIND70
2169:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                IO_status_flag.WiFi_WIND_State = Deep_Sleep_Callback;
2170:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
2171:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           Stop_DeepSleep_Timer();
2172:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       }
2173:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
2174:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2175:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2176:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  WiFi_HAL_UART_TxCpltCallback
2177:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Tx Transfer completed callback
2178:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  UsartHandle: UART handle 
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 50


2179:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
2180:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2181:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void WiFi_HAL_UART_TxCpltCallback(UART_HandleTypeDef *UartHandleArg)
2182:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 638              		.loc 1 2182 0
 639              		.cfi_startproc
 640              		@ args = 0, pretend = 0, frame = 0
 641              		@ frame_needed = 0, uses_anonymous_args = 0
 642              		@ link register save eliminated.
 643              	.LVL13:
2183:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef WIFI_USE_VCOM
2184:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** //  if (UartHandleArg == UartMsgHandle)
2185:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** //    console_echo_ready = SET;
2186:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #else
2187:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* Set transmission flag: transfer complete */
2188:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Control_Variables.stop_event_dequeue = WIFI_FALSE;
 644              		.loc 1 2188 0
 645 0000 024B     		ldr	r3, .L44
 646 0002 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 647 0004 6FF3C302 		bfc	r2, #3, #1
 648 0008 1A70     		strb	r2, [r3]
 649 000a 7047     		bx	lr
 650              	.L45:
 651              		.align	2
 652              	.L44:
 653 000c 00000000 		.word	WiFi_Control_Variables
 654              		.cfi_endproc
 655              	.LFE289:
 657              		.section	.text.WiFi_HAL_UART_RxCpltCallback,"ax",%progbits
 658              		.align	1
 659              		.global	WiFi_HAL_UART_RxCpltCallback
 660              		.syntax unified
 661              		.thumb
 662              		.thumb_func
 663              		.fpu fpv4-sp-d16
 665              	WiFi_HAL_UART_RxCpltCallback:
 666              	.LFB290:
2189:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
2190:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
2191:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2192:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2193:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  WiFi_HAL_UART_RxCpltCallback
2194:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Rx Transfer completed callback
2195:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  UsartHandle: UART handle 
2196:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
2197:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2198:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void WiFi_HAL_UART_RxCpltCallback(UART_HandleTypeDef *UartHandleArg)
2199:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 667              		.loc 1 2199 0
 668              		.cfi_startproc
 669              		@ args = 0, pretend = 0, frame = 0
 670              		@ frame_needed = 0, uses_anonymous_args = 0
 671              	.LVL14:
 672 0000 10B5     		push	{r4, lr}
 673              	.LCFI7:
 674              		.cfi_def_cfa_offset 8
 675              		.cfi_offset 4, -8
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 51


 676              		.cfi_offset 14, -4
2200:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef WIFI_USE_VCOM
2201:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   //if (UartHandleArg==&UartWiFiHandle)
2202:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif  
2203:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   {
2204:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     #ifndef WIFI_USE_VCOM
2205:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Control_Variables.Uartx_Rx_Processing = WIFI_FALSE;
 677              		.loc 1 2205 0
 678 0002 194B     		ldr	r3, .L52
 679 0004 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 680 0006 6FF30412 		bfc	r2, #4, #1
 681 000a 5A70     		strb	r2, [r3, #1]
2206:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       Stop_Timer();
 682              		.loc 1 2206 0
 683 000c FFF7FEFF 		bl	Stop_Timer
 684              	.LVL15:
 685              	.LBB88:
 686              	.LBB89:
 687              		.file 2 "Drivers/CMSIS/Include/cmsis_gcc.h"
   1:Drivers/CMSIS/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @brief    CMSIS compiler GCC header file
   4:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @version  V5.0.4
   5:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @date     09. April 2018
   6:Drivers/CMSIS/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:Drivers/CMSIS/Include/cmsis_gcc.h **** /*
   8:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Copyright (c) 2009-2018 Arm Limited. All rights reserved.
   9:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  10:Drivers/CMSIS/Include/cmsis_gcc.h ****  * SPDX-License-Identifier: Apache-2.0
  11:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  12:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Licensed under the Apache License, Version 2.0 (the License); you may
  13:Drivers/CMSIS/Include/cmsis_gcc.h ****  * not use this file except in compliance with the License.
  14:Drivers/CMSIS/Include/cmsis_gcc.h ****  * You may obtain a copy of the License at
  15:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  16:Drivers/CMSIS/Include/cmsis_gcc.h ****  * www.apache.org/licenses/LICENSE-2.0
  17:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  18:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Unless required by applicable law or agreed to in writing, software
  19:Drivers/CMSIS/Include/cmsis_gcc.h ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
  20:Drivers/CMSIS/Include/cmsis_gcc.h ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:Drivers/CMSIS/Include/cmsis_gcc.h ****  * See the License for the specific language governing permissions and
  22:Drivers/CMSIS/Include/cmsis_gcc.h ****  * limitations under the License.
  23:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  24:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  25:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  26:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  27:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  28:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  29:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  30:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  31:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  32:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  33:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  34:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Fallback for __has_builtin */
  35:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __has_builtin
  36:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __has_builtin(x) (0)
  37:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  38:Drivers/CMSIS/Include/cmsis_gcc.h **** 
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 52


  39:Drivers/CMSIS/Include/cmsis_gcc.h **** /* CMSIS compiler specific defines */
  40:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ASM
  41:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ASM                                  __asm
  42:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  43:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __INLINE
  44:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __INLINE                               inline
  45:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  46:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_INLINE
  47:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_INLINE                        static inline
  48:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  49:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_FORCEINLINE                 
  50:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_FORCEINLINE                   __attribute__((always_inline)) static inline
  51:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif                                           
  52:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __NO_RETURN
  53:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __NO_RETURN                            __attribute__((__noreturn__))
  54:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  55:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __USED
  56:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __USED                                 __attribute__((used))
  57:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  58:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __WEAK
  59:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __WEAK                                 __attribute__((weak))
  60:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  61:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED
  62:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED                               __attribute__((packed, aligned(1)))
  63:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  64:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_STRUCT
  65:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_STRUCT                        struct __attribute__((packed, aligned(1)))
  66:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  67:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_UNION
  68:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_UNION                         union __attribute__((packed, aligned(1)))
  69:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  70:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32        /* deprecated */
  71:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  72:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  73:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  74:Drivers/CMSIS/Include/cmsis_gcc.h ****   struct __attribute__((packed)) T_UINT32 { uint32_t v; };
  75:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  76:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32(x)                  (((struct T_UINT32 *)(x))->v)
  77:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  78:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_WRITE
  79:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  80:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  81:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  82:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_WRITE { uint16_t v; };
  83:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  84:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_WRITE(addr, val)    (void)((((struct T_UINT16_WRITE *)(void *)(addr))-
  85:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  86:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_READ
  87:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  88:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  89:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  90:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_READ { uint16_t v; };
  91:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  92:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_READ(addr)          (((const struct T_UINT16_READ *)(const void *)(add
  93:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  94:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_WRITE
  95:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 53


  96:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  97:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  98:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_WRITE { uint32_t v; };
  99:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 100:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_WRITE(addr, val)    (void)((((struct T_UINT32_WRITE *)(void *)(addr))-
 101:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 102:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_READ
 103:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
 104:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
 105:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
 106:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_READ { uint32_t v; };
 107:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 108:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_READ(addr)          (((const struct T_UINT32_READ *)(const void *)(add
 109:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 110:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ALIGNED
 111:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ALIGNED(x)                           __attribute__((aligned(x)))
 112:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 113:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __RESTRICT
 114:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __RESTRICT                             __restrict
 115:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 116:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 117:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 118:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
 119:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
 120:Drivers/CMSIS/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
 121:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
 122:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 123:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 124:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 125:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
 126:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
 127:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 128:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_irq(void)
 130:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 131:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
 132:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 133:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 134:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 135:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 136:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
 137:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
 138:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 139:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_irq(void)
 141:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 142:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
 688              		.loc 2 142 0
 689              		.syntax unified
 690              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 691 0010 72B6     		cpsid i
 692              	@ 0 "" 2
 693              		.thumb
 694              		.syntax unified
 695              	.LBE89:
 696              	.LBE88:
2207:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       __disable_irq();
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 54


2208:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       push_buffer_queue(&wifi_instances.big_buff, WiFi_Counter_Variables.uart_byte);
 697              		.loc 1 2208 0
 698 0012 164C     		ldr	r4, .L52+4
 699 0014 1649     		ldr	r1, .L52+8
 700 0016 2046     		mov	r0, r4
 701 0018 FFF7FEFF 		bl	push_buffer_queue
 702              	.LVL16:
 703              	.LBB90:
 704              	.LBB91:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 705              		.loc 2 131 0
 706              		.syntax unified
 707              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 708 001c 62B6     		cpsie i
 709              	@ 0 "" 2
 710              		.thumb
 711              		.syntax unified
 712              	.LBE91:
 713              	.LBE90:
2209:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       __enable_irq();
2210:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       Start_Timer();
 714              		.loc 1 2210 0
 715 001e FFF7FEFF 		bl	Start_Timer
 716              	.LVL17:
2211:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     #else
2212:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** //        __disable_irq();
2213:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** //        push_buffer_queue(&wifi_instances.big_buff, WiFi_Counter_Variables.uart_byte);
2214:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** //        __enable_irq();
2215:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** //        HAL_UART_Receive_IT(&UartWiFiHandle, (uint8_t *)WiFi_Counter_Variables.uart_byte, 1);
2216:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** //        //console_push_ready = SET;
2217:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     #endif
2218:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2219:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     #ifndef WIFI_USE_VCOM
2220:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       #ifdef SPWF01
2221:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           if(is_half_full(&wifi_instances.big_buff))
 717              		.loc 1 2221 0
 718 0022 2046     		mov	r0, r4
 719 0024 FFF7FEFF 		bl	is_half_full
 720              	.LVL18:
 721 0028 28B9     		cbnz	r0, .L50
2222:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
2223:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.resume_receive_data = WIFI_TRUE;
2224:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               HAL_GPIO_WritePin(WiFi_USART_RTS_GPIO_PORT, WiFi_USART_RTS_PIN, GPIO_PIN_SET);//De-as
2225:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             } 
2226:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           else
2227:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
2228:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               if(WiFi_Control_Variables.AT_Cmd_Processing == WIFI_FALSE)
 722              		.loc 1 2228 0
 723 002a 0F4B     		ldr	r3, .L52
 724 002c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 725 002e 13F0080F 		tst	r3, #8
 726 0032 0CD0     		beq	.L51
 727              	.L46:
 728 0034 10BD     		pop	{r4, pc}
 729              	.L50:
2223:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               HAL_GPIO_WritePin(WiFi_USART_RTS_GPIO_PORT, WiFi_USART_RTS_PIN, GPIO_PIN_SET);//De-as
 730              		.loc 1 2223 0
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 55


 731 0036 0C4A     		ldr	r2, .L52
 732 0038 5379     		ldrb	r3, [r2, #5]	@ zero_extendqisi2
 733 003a 43F00803 		orr	r3, r3, #8
 734 003e 5371     		strb	r3, [r2, #5]
2224:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             } 
 735              		.loc 1 2224 0
 736 0040 0122     		movs	r2, #1
 737 0042 4FF48051 		mov	r1, #4096
 738 0046 0B48     		ldr	r0, .L52+12
 739 0048 FFF7FEFF 		bl	HAL_GPIO_WritePin
 740              	.LVL19:
 741 004c 10BD     		pop	{r4, pc}
 742              	.L51:
2229:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 {
2230:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   //call Rx only if TX is not under processing (AT command)
2231:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   if(HAL_UART_Receive_IT(&UartWiFiHandle, (uint8_t *)WiFi_Counter_Variables.uart_by
 743              		.loc 1 2231 0
 744 004e 0122     		movs	r2, #1
 745 0050 0749     		ldr	r1, .L52+8
 746 0052 0948     		ldr	r0, .L52+16
 747 0054 FFF7FEFF 		bl	HAL_UART_Receive_IT
 748              	.LVL20:
 749 0058 0028     		cmp	r0, #0
 750 005a EBD1     		bne	.L46
2232:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                     {
2233:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                       #if DEBUG_PRINT 
2234:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                       printf("HAL_UARTx_Receive_IT Error");
2235:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                       #endif
2236:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                     }
2237:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   else 
2238:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                     {
2239:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                       WiFi_Control_Variables.Uartx_Rx_Processing = WIFI_TRUE;
 751              		.loc 1 2239 0
 752 005c 024A     		ldr	r2, .L52
 753 005e 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 754 0060 43F01003 		orr	r3, r3, #16
 755 0064 5370     		strb	r3, [r2, #1]
2240:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                     }
2241:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 }
2242:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
2243:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       #elif defined(SPWF04) && defined(CONSOLE_UART_ENABLED)
2244:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           if(WiFi_Control_Variables.AT_Cmd_Processing == WIFI_FALSE)
2245:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
2246:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               //call Rx only if TX is not under processing (AT command)
2247:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               if(HAL_UART_Receive_IT(&UartWiFiHandle, (uint8_t *)WiFi_Counter_Variables.uart_byte, 
2248:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 {
2249:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   #if DEBUG_PRINT 
2250:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   printf("HAL_UARTx_Receive_IT Error");
2251:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   #endif
2252:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 }
2253:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               else 
2254:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 {
2255:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   WiFi_Control_Variables.Uartx_Rx_Processing = WIFI_TRUE;
2256:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 }
2257:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
2258:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       #endif //SPWF01
2259:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     #endif  // WIFI_USE_VCOM
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 56


2260:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   }
2261:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef WIFI_USE_VCOM
2262:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** //  else
2263:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** //    {
2264:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** //      console_send_char[0] = console_input_char[0];
2265:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** //      //console_send_ready = SET;
2266:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** //      HAL_UART_Transmit_IT(&UartWiFiHandle, (uint8_t*)console_send_char, 1);
2267:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** //      console_input();
2268:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** //    }
2269:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
2270:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 756              		.loc 1 2270 0
 757 0066 E5E7     		b	.L46
 758              	.L53:
 759              		.align	2
 760              	.L52:
 761 0068 00000000 		.word	WiFi_Control_Variables
 762 006c 00000000 		.word	wifi_instances
 763 0070 4E000000 		.word	WiFi_Counter_Variables+78
 764 0074 00000240 		.word	1073872896
 765 0078 00000000 		.word	UartWiFiHandle
 766              		.cfi_endproc
 767              	.LFE290:
 769              		.section	.text.USART_Receive_AT_Resp,"ax",%progbits
 770              		.align	1
 771              		.global	USART_Receive_AT_Resp
 772              		.syntax unified
 773              		.thumb
 774              		.thumb_func
 775              		.fpu fpv4-sp-d16
 777              	USART_Receive_AT_Resp:
 778              	.LFB291:
2271:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
2272:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2273:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  USART_Receive_AT_Resp
2274:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Receive and check AT cmd response
2275:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
2276:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval WiFi_Status_t : Response of AT cmd  
2277:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2278:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2279:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** WiFi_Status_t USART_Receive_AT_Resp( )
2280:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 779              		.loc 1 2280 0
 780              		.cfi_startproc
 781              		@ args = 0, pretend = 0, frame = 0
 782              		@ frame_needed = 0, uses_anonymous_args = 0
 783              		@ link register save eliminated.
2281:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   while(IO_status_flag.AT_Response_Received != WIFI_TRUE) {
 784              		.loc 1 2281 0
 785 0000 00E0     		b	.L55
 786              	.L56:
2282:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 		__NOP(); //nothing to do
 787              		.loc 1 2282 0
 788              		.syntax unified
 789              	@ 2282 "Middlewares/ST/STM32_SPWF0xSy/wifi_module.c" 1
 790 0002 00BF     		nop
 791              	@ 0 "" 2
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 57


 792              		.thumb
 793              		.syntax unified
 794              	.L55:
2281:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   while(IO_status_flag.AT_Response_Received != WIFI_TRUE) {
 795              		.loc 1 2281 0
 796 0004 064B     		ldr	r3, .L57
 797 0006 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 798 0008 13F0010F 		tst	r3, #1
 799 000c F9D0     		beq	.L56
2283:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 	}
2284:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   IO_status_flag.AT_Response_Received = WIFI_FALSE;
 800              		.loc 1 2284 0
 801 000e 044A     		ldr	r2, .L57
 802 0010 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 803 0012 6FF30003 		bfc	r3, #0, #1
 804 0016 5370     		strb	r3, [r2, #1]
2285:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   return WiFi_Counter_Variables.AT_RESPONSE;
2286:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 805              		.loc 1 2286 0
 806 0018 024B     		ldr	r3, .L57+4
 807 001a 93F8E800 		ldrb	r0, [r3, #232]	@ zero_extendqisi2
 808 001e 7047     		bx	lr
 809              	.L58:
 810              		.align	2
 811              	.L57:
 812 0020 00000000 		.word	IO_status_flag
 813 0024 00000000 		.word	WiFi_Counter_Variables
 814              		.cfi_endproc
 815              	.LFE291:
 817              		.section	.text.WiFi_HAL_UART_IdleCallback,"ax",%progbits
 818              		.align	1
 819              		.global	WiFi_HAL_UART_IdleCallback
 820              		.syntax unified
 821              		.thumb
 822              		.thumb_func
 823              		.fpu fpv4-sp-d16
 825              	WiFi_HAL_UART_IdleCallback:
 826              	.LFB293:
2287:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2288:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2289:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   * @brief  UART error callbacks
2290:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   * @param  UsartHandle: UART handle
2291:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   * @note   This example shows a simple way to report transfer error, and you can
2292:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   *         add your own implementation.
2293:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   * @retval None
2294:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   */
2295:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void WiFi_HAL_UART_ErrorCallback(UART_HandleTypeDef *UartHandle)
2296:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
2297:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     WiFi_UART_Error_Handler();
2298:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
2299:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2300:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2301:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void WiFi_HAL_UART_IdleCallback(UART_HandleTypeDef *UartHandle)
2302:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 827              		.loc 1 2302 0
 828              		.cfi_startproc
 829              		@ args = 0, pretend = 0, frame = 0
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 58


 830              		@ frame_needed = 0, uses_anonymous_args = 0
 831              		@ link register save eliminated.
 832              	.LVL21:
 833 0000 7047     		bx	lr
 834              		.cfi_endproc
 835              	.LFE293:
 837              		.section	.text.Process_WiFi,"ax",%progbits
 838              		.align	1
 839              		.global	Process_WiFi
 840              		.syntax unified
 841              		.thumb
 842              		.thumb_func
 843              		.fpu fpv4-sp-d16
 845              	Process_WiFi:
 846              	.LFB294:
2303:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   #if defined(SPWF04) && defined(CONSOLE_UART_ENABLED)
2304:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     //printf("^");
2305:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     /* Read DMA buffer */
2306:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     Read_DMA_Buffer();
2307:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     //fflush(stdout);
2308:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   #endif
2309:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
2310:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2311:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Process_WiFi
2312:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Pop a byte from the circular buffer and send the byte for processing
2313:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         This function should be called from main or should be run with a periodic timer
2314:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
2315:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
2316:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2317:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Process_WiFi(void)
2318:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 847              		.loc 1 2318 0
 848              		.cfi_startproc
 849              		@ args = 0, pretend = 0, frame = 0
 850              		@ frame_needed = 0, uses_anonymous_args = 0
 851              		.loc 1 2318 0
 852 0000 08B5     		push	{r3, lr}
 853              	.LCFI8:
 854              		.cfi_def_cfa_offset 8
 855              		.cfi_offset 3, -8
 856              		.cfi_offset 14, -4
 857              	.LBB92:
 858              	.LBB93:
 859              		.loc 2 142 0
 860              		.syntax unified
 861              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 862 0002 72B6     		cpsid i
 863              	@ 0 "" 2
 864              		.thumb
 865              		.syntax unified
 866              	.LBE93:
 867              	.LBE92:
2319:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #if defined(CONSOLE_UART_ENABLED)
2320:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     __disable_irq();
2321:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     WiFi_Counter_Variables.temp = pop_buffer_queue(&wifi_instances.big_buff);   //contents of temp(
 868              		.loc 1 2321 0
 869 0004 1348     		ldr	r0, .L64
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 59


 870 0006 FFF7FEFF 		bl	pop_buffer_queue
 871              	.LVL22:
 872 000a 134B     		ldr	r3, .L64+4
 873 000c C3F88000 		str	r0, [r3, #128]
 874              	.LBB94:
 875              	.LBB95:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 876              		.loc 2 131 0
 877              		.syntax unified
 878              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 879 0010 62B6     		cpsie i
 880              	@ 0 "" 2
 881              		.thumb
 882              		.syntax unified
 883              	.LBE95:
 884              	.LBE94:
2322:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     __enable_irq();
2323:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2324:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     if(WiFi_Counter_Variables.temp!=NULL) 
 885              		.loc 1 2324 0
 886 0012 D3F88000 		ldr	r0, [r3, #128]
 887 0016 08B1     		cbz	r0, .L61
2325:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       {
2326:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         #if defined(SPWF01)
2327:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           Process_Buffer(WiFi_Counter_Variables.temp);
 888              		.loc 1 2327 0
 889 0018 FFF7FEFF 		bl	Process_Buffer
 890              	.LVL23:
 891              	.L61:
2328:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         #endif
2329:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       }
2330:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2331:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****    if(WiFi_Control_Variables.event_deQ_x_wind64)//if de-Q is stopped due to WIND64 wait
 892              		.loc 1 2331 0
 893 001c 0F4B     		ldr	r3, .L64+8
 894 001e 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 895 0020 13F0020F 		tst	r3, #2
 896 0024 14D0     		beq	.L60
2332:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****      {
2333:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****        WiFi_Counter_Variables.wind64_DQ_wait++;//1ms for each count
 897              		.loc 1 2333 0
 898 0026 0C4A     		ldr	r2, .L64+4
 899 0028 D2F8AC30 		ldr	r3, [r2, #172]
 900 002c 0133     		adds	r3, r3, #1
 901 002e C2F8AC30 		str	r3, [r2, #172]
2334:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****        if(WiFi_Counter_Variables.wind64_DQ_wait>50)//wait for 50ms for example
 902              		.loc 1 2334 0
 903 0032 322B     		cmp	r3, #50
 904 0034 0CD9     		bls	.L60
2335:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          {
2336:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****            WiFi_Counter_Variables.wind64_DQ_wait=0;
 905              		.loc 1 2336 0
 906 0036 0022     		movs	r2, #0
 907 0038 074B     		ldr	r3, .L64+4
 908 003a C3F8AC20 		str	r2, [r3, #172]
2337:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****            WiFi_Control_Variables.event_deQ_x_wind64 = WIFI_FALSE;
 909              		.loc 1 2337 0
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 60


 910 003e 074B     		ldr	r3, .L64+8
 911 0040 1979     		ldrb	r1, [r3, #4]	@ zero_extendqisi2
 912 0042 62F34101 		bfi	r1, r2, #1, #1
 913 0046 1971     		strb	r1, [r3, #4]
2338:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****            //re-enable event Q after 50ms
2339:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****            WiFi_Control_Variables.stop_event_dequeue = WIFI_FALSE;
 914              		.loc 1 2339 0
 915 0048 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 916 004a 62F3C301 		bfi	r1, r2, #3, #1
 917 004e 1970     		strb	r1, [r3]
 918              	.L60:
 919 0050 08BD     		pop	{r3, pc}
 920              	.L65:
 921 0052 00BF     		.align	2
 922              	.L64:
 923 0054 00000000 		.word	wifi_instances
 924 0058 00000000 		.word	WiFi_Counter_Variables
 925 005c 00000000 		.word	WiFi_Control_Variables
 926              		.cfi_endproc
 927              	.LFE294:
 929              		.section	.text.Wait_For_Sock_Read_To_Complete,"ax",%progbits
 930              		.align	1
 931              		.global	Wait_For_Sock_Read_To_Complete
 932              		.syntax unified
 933              		.thumb
 934              		.thumb_func
 935              		.fpu fpv4-sp-d16
 937              	Wait_For_Sock_Read_To_Complete:
 938              	.LFB314:
2340:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          }
2341:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****      }
2342:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
2343:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
2344:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2345:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2346:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2347:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Process_Dequeued_Wind_Indication
2348:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Process Wind Indication after popping from Queue
2349:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  L_DeQued_wifi_event popped event contents
2350:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
2351:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2352:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2353:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Process_DeQed_Wind_Indication(wifi_event_TypeDef * L_DeQued_wifi_event)
2354:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
2355:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   switch(L_DeQued_wifi_event->wind)
2356:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   {
2357:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case Poweron:
2358:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = Undefine_state;
2359:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       wifi_connected = 0;
2360:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Counter_Variables.wifi_up = 0; 
2361:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2362:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case Heap_Too_Small:
2363:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = HeapTooSmall;
2364:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2365:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case WiFi_Hardware_Dead:
2366:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = WiFiHWFailure;
2367:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 61


2368:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case Hard_Fault:
2369:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = HardFault;
2370:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;   
2371:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case StackOverflow:
2372:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = StackOverFlow;
2373:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2374:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case MallocFailed:
2375:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = Mallocfailed;
2376:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2377:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case Error:
2378:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = InitFailure;
2379:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2380:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case WiFi_PS_Mode_Failure:
2381:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = PS_Mode_Failure;
2382:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2383:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case WiFi_Signal_LOW:
2384:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = WiFiSignalLOW;
2385:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2386:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case JOINFAILED :
2387:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = WiFiJoinFailed;
2388:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2389:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case SCANBLEWUP:
2390:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = WiFiScanBlewUp;
2391:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2392:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case SCANFAILED:
2393:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = WiFiScanFailed;
2394:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2395:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case WiFi_Up:
2396:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef SPWF04
2397:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Counter_Variables.wifi_up ++;
2398:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       if(WiFi_Counter_Variables.wifi_up == 2) {
2399:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         IO_status_flag.WiFi_WIND_State = WiFiUp;
2400:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         WiFi_Counter_Variables.wifi_up = 0; 
2401:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       }
2402:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #else
2403:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = WiFiUp;
2404:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
2405:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2406:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case WiFi_Started_MiniAP_Mode:
2407:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = WiFiStarted_MiniAPMode;
2408:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2409:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case Start_Failed :
2410:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = StartFailed;  
2411:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2412:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case WiFi_EXCEPTION :
2413:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = WiFiException;
2414:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2415:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case WiFi_Hardware_Started :
2416:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       if(IO_status_flag.wifi_ready < 2)
2417:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         IO_status_flag.wifi_ready++;
2418:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_Enabled = WIFI_TRUE;
2419:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = WiFiHWStarted;
2420:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       /*If this is a start-up after standby*/
2421:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       if(WiFi_Control_Variables.trigger_wakeup_callback == WIFI_TRUE)
2422:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         {
2423:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           WiFi_Control_Variables.trigger_wakeup_callback = WIFI_FALSE;
2424:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           WiFi_Control_Variables.Standby_Enabled = WIFI_FALSE;
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 62


2425:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           IO_status_flag.WiFi_WIND_State = standby_resume_callback;
2426:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         }      
2427:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2428:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case Scan_Complete:
2429:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Control_Variables.Scan_Ongoing = WIFI_FALSE;
2430:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2431:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case WiFi_UNHANDLED_IND:
2432:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = WiFiUnHandledInd;
2433:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2434:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case WiFi_Powered_Down:
2435:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_Enabled = WIFI_FALSE;      
2436:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       //wifi_ready = 0;
2437:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** //      IO_status_flag.WiFi_WIND_State.WiFiHWStarted = WIFI_FALSE;
2438:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = WiFiPowerDown;
2439:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2440:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case WiFi_Deauthentication:
2441:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       wifi_connected = 0; 
2442:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Counter_Variables.wifi_up = 0;
2443:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = WiFiDeauthentication;
2444:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2445:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case WiFi_Disassociation:
2446:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       wifi_connected = 0; 
2447:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Counter_Variables.wifi_up = 0; 
2448:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = WiFiDisAssociation;
2449:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;  
2450:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case RX_MGMT:
2451:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = WiFiRXMgmt;
2452:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2453:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case RX_DATA:
2454:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = WiFiRXData;
2455:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2456:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case RX_UNK:
2457:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = WiFiRxUnk;
2458:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2459:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case SockON_Data_Pending:
2460:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       /* +WIND:55:Pending Data:%d:%d */
2461:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       if (WiFi_Control_Variables.enable_sock_read == WIFI_TRUE)
2462:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         {
2463:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #ifdef SPWF04
2464:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               //printf ("\nAlert!\r\n");
2465:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               break; //in case of SPWF4 if read is ongoing no need to queue additional WIND55
2466:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #else
2467:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #if DEBUG_PRINT
2468:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 printf ("\nAlert!\r\n");
2469:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #endif
2470:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.enable_sock_read = WIFI_FALSE;
2471:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.enable_receive_data_chunk = WIFI_FALSE;
2472:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               //break;
2473:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #endif
2474:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         }
2475:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       #ifdef SPWF04
2476:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           if(L_DeQued_wifi_event->server_id==9)//this is a client data pending event
2477:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
2478:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Counter_Variables.sockon_query_id = L_DeQued_wifi_event->socket_id;
2479:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               if(open_sockets[WiFi_Counter_Variables.sockon_query_id])
2480:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 {
2481:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                     WiFi_Control_Variables.enable_query = WIFI_TRUE;
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 63


2482:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                     WiFi_Control_Variables.stop_event_dequeue = WIFI_TRUE;
2483:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 }
2484:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
2485:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           else //this is a server data pending event
2486:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
2487:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Counter_Variables.sockdon_query_id = L_DeQued_wifi_event->server_id;
2488:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Counter_Variables.sockon_query_id = L_DeQued_wifi_event->socket_id;
2489:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               if(open_server_sockets[WiFi_Counter_Variables.sockdon_query_id])
2490:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 {
2491:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                     //WiFi_Control_Variables.data_pending_sockD = WIFI_TRUE;//switch on this only w
2492:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                     WiFi_Control_Variables.enable_server_query = WIFI_TRUE;
2493:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                     WiFi_Control_Variables.stop_event_dequeue = WIFI_TRUE;
2494:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 }
2495:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
2496:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           //wind_55_in_Q = WIFI_FALSE;
2497:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           break;
2498:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       #else
2499:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           WiFi_Counter_Variables.sockon_query_id = L_DeQued_wifi_event->socket_id;
2500:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           if(open_sockets[WiFi_Counter_Variables.sockon_query_id])
2501:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
2502:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.enable_query = WIFI_TRUE;
2503:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.stop_event_dequeue = WIFI_TRUE;
2504:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
2505:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           break;
2506:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       #endif
2507:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case SockON_Server_Socket_Closed:
2508:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Counter_Variables.client_socket_close_id = L_DeQued_wifi_event->socket_id;
2509:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Control_Variables.Client_Socket_Close_Cmd = WIFI_TRUE;
2510:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2511:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef SPWF01 
2512:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case SockD_Pending_Data:
2513:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Counter_Variables.number_of_bytes = L_DeQued_wifi_event->data_length;
2514:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Control_Variables.data_pending_sockD = WIFI_TRUE;
2515:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Control_Variables.stop_event_dequeue = WIFI_TRUE;             //Stop any more event de-q
2516:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       //WiFi_Control_Variables.enable_receive_data_chunk = WIFI_TRUE;       // read data in chunk n
2517:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2518:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       if(!IO_status_flag.data_mode)
2519:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         {
2520:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           if(L_DeQued_wifi_event->wind64_pending_packet_no == 1)
2521:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {   //If this is the first WIND64 pending event de-Q'ed
2522:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.switch_by_default_to_command_mode = WIFI_FALSE; //we don't w
2523:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_switch_to_data_mode();     //switch by default
2524:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
2525:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           else
2526:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
2527:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.data_pending_sockD = WIFI_FALSE;
2528:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.stop_event_dequeue = WIFI_FALSE; 
2529:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
2530:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         }
2531:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       else //already data is coming from previous WIND:64
2532:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         {
2533:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Control_Variables.enable_receive_data_chunk = WIFI_TRUE;
2534:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.last_process_buffer_index =5;
2535:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Control_Variables.enable_sock_read = WIFI_TRUE;//n
2536:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.SockON_Data_Length = WiFi_Counter_Variables.number_of_bytes;
2537:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         }
2538:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 64


2539:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #else
2540:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   case Remote_Configuration:
2541:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2542:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
2543:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case Incoming_socket_client:
2544:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       client_connected_on_server_socket[L_DeQued_wifi_event->server_id][L_DeQued_wifi_event->socket
2545:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Control_Variables.Client_Connected = WIFI_TRUE;
2546:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       wifi_client_connected=1;  //Set this so that the callback can be made to the user
2547:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2548:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case Outgoing_socket_client:
2549:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #if defined(SPWF04)
2550:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       // for every outgoing client, close the client on server socket(AT+S.SOCKDC=<sid>,<cid>)
2551:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       Queue_Server_Close_Event(L_DeQued_wifi_event->server_id,L_DeQued_wifi_event->socket_id);
2552:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
2553:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Control_Variables.Client_Disconnected = WIFI_TRUE;
2554:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       wifi_client_disconnected=0;//Set this so that the callback can be made to the user
2555:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       wifi_client_connected = 0;
2556:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2557:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case SockD_Dropping_Data:
2558:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = WiFiSockdDataLost;
2559:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2560:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case Going_Into_Standby:
2561:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Control_Variables.Standby_Enabled = WIFI_TRUE;
2562:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2563:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case Resuming_From_Standby:
2564:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Control_Variables.Standby_Enabled = WIFI_FALSE;
2565:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = standby_resume_callback;
2566:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;    
2567:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case Going_Into_DeepSleep:
2568:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Control_Variables.Deep_Sleep_Enabled = WIFI_TRUE;    
2569:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2570:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case Resuming_From_DeepSleep:
2571:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Control_Variables.Deep_Sleep_Enabled = WIFI_FALSE;
2572:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       Start_DeepSleep_Timer();
2573:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2574:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case Low_Power_Mode_Enabled:
2575:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Control_Variables.LowPowerMode_Enabled = WIFI_TRUE;
2576:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2577:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #if defined(SPWF04)      
2578:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       /*
2579:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       SockD_Dropping_Client         = 83,
2580:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       NTP_Server_Delivery           = 84,
2581:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       MQTT_Published                = 86,
2582:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       MQTT_Closed                   = 87,
2583:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       Websocket_Data                = 88,
2584:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       Websocket_Closed              = 89,
2585:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       UDP_Broadcast_Received        = 90,
2586:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       TFTP_File_Received            = 91,
2587:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       */
2588:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case Websocket_Data:
2589:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       if (WiFi_Control_Variables.enable_sock_read == WIFI_TRUE)
2590:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         {    
2591:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;//if read is ongoing no need to queue additional WIND88            
2592:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         }      
2593:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Control_Variables.data_pending_websocket = WIFI_TRUE;
2594:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Counter_Variables.sockon_query_id = L_DeQued_wifi_event->socket_id;
2595:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Control_Variables.enable_websocket_query = WIFI_TRUE;
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 65


2596:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Control_Variables.stop_event_dequeue = WIFI_TRUE;      
2597:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2598:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       
2599:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case Websocket_Closed:
2600:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Counter_Variables.client_websocket_close_id = L_DeQued_wifi_event->socket_id;
2601:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Control_Variables.Client_Websocket_Close_Cmd = WIFI_TRUE;
2602:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2603:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       
2604:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case MQTT_Closed:
2605:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Counter_Variables.mqtt_closed_id = L_DeQued_wifi_event->socket_id;
2606:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Control_Variables.Mqtt_Close_Cmd = WIFI_TRUE;
2607:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2608:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2609:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif        
2610:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     default:
2611:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
2612:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   }
2613:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
2614:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2615:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2616:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  wifi_firmware_middleware_version_compatibility
2617:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         check if middleware version matches with the firmware version.
2618:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
2619:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval WiFi_Status_t: status if versions are compatible or not.
2620:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2621:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** WiFi_Status_t wifi_firmware_middleware_version_compatibility(void)
2622:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
2623:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Status_t status = WiFi_MODULE_SUCCESS;
2624:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   int cfg_value_length;
2625:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   char version[10] = {'\0'};
2626:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   char *fw_version = version;
2627:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2628:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* AT : send AT command */
2629:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Reset_AT_CMD_Buffer(); 
2630:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   #if defined(CONSOLE_UART_ENABLED)  
2631:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     sprintf((char*)WiFi_AT_Cmd_Buff,AT_GET_STATUS_VALUE,"fw_version");
2632:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
2633:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   #else
2634:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.STS=%s", "fw_version");  
2635:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_DMA);
2636:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     IO_status_flag.AT_event_processing = WIFI_GCFG_EVENT;
2637:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     status = WiFi_MODULE_SUCCESS;
2638:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   #endif
2639:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2640:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     if(status == WiFi_MODULE_SUCCESS)
2641:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       {
2642:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         status = USART_Receive_AT_Resp( );
2643:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         if(status == WiFi_MODULE_SUCCESS)
2644:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         {
2645:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           cfg_value_length = strlen((const char*)WiFi_Counter_Variables.get_cfg_value);
2646:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           /* copy user pointer to get_cfg_value */
2647:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           memcpy(fw_version,WiFi_Counter_Variables.get_cfg_value,cfg_value_length);   
2648:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           memset(WiFi_Counter_Variables.get_cfg_value, 0x00,cfg_value_length);
2649:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         }
2650:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         else
2651:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           return status;
2652:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       }
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 66


2653:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2654:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     int count_of_struct = sizeof(SW_FW_COMPATIBILITY) / sizeof(SW_FW_COMPATIBILITY_t);
2655:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     for(int iter = 0; iter < count_of_struct; iter++)
2656:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
2657:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       /* strcmp == 0, when both strings are equal
2658:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                    negative, when ascii value of first unmatched char is less than second. */
2659:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       if(strcmp(MIDDLEWARE_VERSION,SW_FW_COMPATIBILITY[iter].SW_Version)==0)
2660:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       {
2661:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****            if(strcmp(fw_version,SW_FW_COMPATIBILITY[iter].FW_Version)<0)
2662:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****            {
2663:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****              #if DEBUG_PRINT
2664:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               printf("\r\nCompatible Firmware version with Middleware version %s is %s\r\n",MIDDLEW
2665:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****              #endif
2666:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****              status = WiFi_MODULE_ERROR;
2667:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****            }
2668:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****            return status;
2669:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       }
2670:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
2671:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     return WiFi_MODULE_SUCCESS;
2672:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
2673:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2674:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2675:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Queue_Tftp_Get_ Event
2676:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Queue an TFTP-Request Event (GET/PUT)
2677:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  hostname hostname for TFTP
2678:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  port_number port_number for TFTP-GET
2679:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  filename filename to GET
2680:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
2681:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2682:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Queue_Tftp_Event(uint8_t * hostname, uint32_t port_number, uint8_t * filename, uint8_t tftp_in
2683:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
2684:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Wait_For_Sock_Read_To_Complete();
2685:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2686:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_hostname = hostname;
2687:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_path = filename;
2688:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_port_number = port_number;
2689:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.http_ind = tftp_ind;
2690:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2691:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   wifi_instances.wifi_event.event = WIFI_TFTP_EVENT;
2692:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __disable_irq();
2693:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   push_eventbuffer_queue(&wifi_instances.event_buff, wifi_instances.wifi_event);
2694:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __enable_irq();
2695:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2696:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   reset_event(&wifi_instances.wifi_event);  
2697:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
2698:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2699:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2700:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Queue_Mqtt_Connect_Event
2701:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Queue a Mqtt Connect Event
2702:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  Hostname hostname to connect to
2703:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         portnumber portnumber of the Host to connect to
2704:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
2705:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2706:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Queue_Mqtt_Connect_Event(uint8_t * hostname, uint32_t port_number)
2707:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
2708:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Wait_For_Sock_Read_To_Complete();
2709:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   wifi_instances.wifi_event.event = WIFI_MQTT_EVENT;
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 67


2710:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_hostname = hostname;
2711:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_port_number = port_number;    
2712:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2713:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __disable_irq();
2714:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   push_eventbuffer_queue(&wifi_instances.event_buff, wifi_instances.wifi_event);
2715:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __enable_irq();
2716:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2717:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   reset_event(&wifi_instances.wifi_event);
2718:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
2719:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2720:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2721:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Queue_Mqtt_Event
2722:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Queue MQTT Event
2723:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  topic: topic to subscribe/publish to
2724:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
2725:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2726:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Queue_Mqtt_Event(uint8_t * topic)
2727:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
2728:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Wait_For_Sock_Read_To_Complete();
2729:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   wifi_instances.wifi_event.event = WIFI_MQTT_EVENT;
2730:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_path = topic;
2731:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2732:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __disable_irq();
2733:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   push_eventbuffer_queue(&wifi_instances.event_buff, wifi_instances.wifi_event);
2734:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __enable_irq();
2735:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2736:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   reset_event(&wifi_instances.wifi_event);
2737:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
2738:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2739:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2740:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Queue_Mqtt_Publish_Event
2741:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Queue an Mqtt Publish Event
2742:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  topic: topic to publish to
2743:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  DataLength: MQTT message length
2744:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  Data: data to publish 
2745:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
2746:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2747:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Queue_Mqtt_Publish_Event(uint8_t *topic,uint32_t datalength, char *data)
2748:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
2749:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Wait_For_Sock_Read_To_Complete();
2750:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   wifi_instances.wifi_event.event = WIFI_MQTT_EVENT;
2751:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_path = topic;
2752:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_DataLength = datalength;
2753:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_data = data;
2754:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2755:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __disable_irq();
2756:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   push_eventbuffer_queue(&wifi_instances.event_buff, wifi_instances.wifi_event);
2757:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __enable_irq();
2758:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2759:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   reset_event(&wifi_instances.wifi_event);    
2760:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
2761:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2762:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2763:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Queue_Wifi_Send_Mail_Event
2764:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Queue a send mail event
2765:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param hostname: DNS resolvable name or IP address of the remote host
2766:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param port:     Server port.
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 68


2767:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param From:     Email address on the SMTP server
2768:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param To:       Destinator Email. Multiple email are seperated by semicolon  
2769:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param subject:  Email subject. String message.
2770:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param length:   length of body message
2771:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param Data:     Body of the Mail
2772:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval WiFi_Status_t : return status of send mail
2773:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2774:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Queue_Wifi_Send_Mail_Event(uint8_t *hostname, 
2775:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                                 uint32_t port_number,
2776:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                                 uint8_t *from, 
2777:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                                 uint8_t *to, 
2778:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                                 uint8_t *subject, 
2779:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                                 uint32_t length, 
2780:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                                 char *Data)
2781:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
2782:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Wait_For_Sock_Read_To_Complete();
2783:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   wifi_instances.wifi_event.event         = WIFI_SMTP_EVENT;
2784:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_hostname    = hostname;
2785:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_port_number = port_number;
2786:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_path  = from;
2787:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_pURL  = to;
2788:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.temp       = subject;
2789:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_DataLength  = length;
2790:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_data        = Data;
2791:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2792:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __disable_irq();
2793:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   push_eventbuffer_queue(&wifi_instances.event_buff, wifi_instances.wifi_event);
2794:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __enable_irq();
2795:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2796:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   reset_event(&wifi_instances.wifi_event);    
2797:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
2798:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2799:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2800:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2801:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Queue_Http_Get_ Event
2802:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Queue an HTTP-Request Event (GET/POST)
2803:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  hostname hostname for HTTP-GET/POST
2804:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  path path for HTTP-GET
2805:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  port_number port_number for HTTP-GET
2806:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  pURL_path full URL for HTTP-POST
2807:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
2808:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2809:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2810:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Queue_Http_Event(uint8_t * hostname, uint8_t * path, uint32_t port_number, uint8_t http_ind) 
2811:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
2812:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Wait_For_Sock_Read_To_Complete();
2813:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2814:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_hostname = hostname;
2815:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_path = path;
2816:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_port_number = port_number;
2817:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.http_ind = http_ind;
2818:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2819:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   wifi_instances.wifi_event.event = WIFI_HTTP_EVENT;
2820:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __disable_irq();
2821:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   push_eventbuffer_queue(&wifi_instances.event_buff, wifi_instances.wifi_event);
2822:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __enable_irq();
2823:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 69


2824:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   reset_event(&wifi_instances.wifi_event);
2825:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
2826:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2827:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2828:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Queue_Client_Write_Event
2829:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Queues a Client Socket write event.
2830:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  sock_id socket ID to write to
2831:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  DataLength length of the data to be written
2832:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  pData pointer to data
2833:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
2834:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2835:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Queue_Client_Write_Event(uint8_t sock_id, uint32_t DataLength, char * pData, WiFi_Socket_t typ
2836:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
2837:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Wait_For_Sock_Read_To_Complete();
2838:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_DataLength = DataLength;
2839:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_data = pData;
2840:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_sockID = sock_id;
2841:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2842:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(type==NET_SOCKET)
2843:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     wifi_instances.wifi_event.event = WIFI_CLIENT_SOCKET_WRITE_EVENT;
2844:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   else if(type==WEB_SOCKET)
2845:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     wifi_instances.wifi_event.event = WIFI_CLIENT_WEB_SOCKET_WRITE_EVENT;
2846:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __disable_irq();
2847:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   push_eventbuffer_queue(&wifi_instances.event_buff, wifi_instances.wifi_event);
2848:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __enable_irq();
2849:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2850:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   reset_event(&wifi_instances.wifi_event);
2851:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
2852:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2853:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2854:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief Queue_Wifi_File_Create_Event
2855:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *        Queue File Create Event
2856:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param FileName : filename within host
2857:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param DataLength length of the data to be written
2858:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param Data pointer to data
2859:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
2860:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2861:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Queue_Wifi_File_Create_Event(uint8_t *FileName, uint32_t DataLength, char *Data)
2862:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
2863:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Wait_For_Sock_Read_To_Complete();
2864:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_filename    = FileName;
2865:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_DataLength  = DataLength;
2866:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_data        = Data;
2867:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2868:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   wifi_instances.wifi_event.event = WIFI_FILE_CREATE_EVENT;
2869:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __disable_irq();
2870:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   push_eventbuffer_queue(&wifi_instances.event_buff, wifi_instances.wifi_event);
2871:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __enable_irq();
2872:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2873:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   reset_event(&wifi_instances.wifi_event);
2874:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
2875:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2876:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2877:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief Queue_Wifi_File_Event
2878:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *        Queue a File Event
2879:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param HostName : hostname
2880:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param FileName : filename within host
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 70


2881:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param port_number : port number to connect to
2882:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param offset   : The byte from where the file is printed (default: 0)
2883:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param Length   : Number of bytes that are to be printed (default: Filesize-offset)
2884:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
2885:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2886:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Queue_Wifi_File_Event(uint8_t * HostName, uint8_t * FileName, uint32_t port_number,int16_t off
2887:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
2888:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Wait_For_Sock_Read_To_Complete();
2889:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   wifi_instances.wifi_event.event         = WIFI_FILE_EVENT;
2890:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_filename    = FileName;
2891:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_hostname    = HostName;
2892:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_port_number = port_number;
2893:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.datalen          = length;
2894:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.offset           = offset;
2895:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2896:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2897:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __disable_irq();
2898:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   push_eventbuffer_queue(&wifi_instances.event_buff, wifi_instances.wifi_event);
2899:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __enable_irq();
2900:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2901:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   reset_event(&wifi_instances.wifi_event);
2902:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
2903:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2904:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2905:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief Queue_File_Event
2906:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *        Queue a File Event
2907:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param FileName : filename within host
2908:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param Mod_Filename : Modified Filename
2909:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param Volume : Indicates the memory volume. Default: 0.  <1:User Flash 0:SD Card>
2910:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *        Erase  : Default: 0. when 1, the specified volume is erased.
2911:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
2912:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2913:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Queue_File_Event(char * FileName, char *Mod_Filename, int8_t volume, int8_t erase)
2914:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
2915:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Wait_For_Sock_Read_To_Complete();
2916:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_filename      = (uint8_t*)FileName;
2917:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2918:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.mod_filename       = (uint8_t*)Mod_Filename;
2919:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.volume             = volume;
2920:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.erase              = erase;
2921:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2922:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   wifi_instances.wifi_event.event = WIFI_FILE1_EVENT;
2923:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __disable_irq();
2924:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   push_eventbuffer_queue(&wifi_instances.event_buff, wifi_instances.wifi_event);
2925:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __enable_irq();
2926:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2927:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   reset_event(&wifi_instances.wifi_event);
2928:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
2929:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2930:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2931:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2932:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2933:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief Queue_Wifi_FW_Update_Event
2934:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *        Queue a Firmware update Event
2935:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param hostname: hostname
2936:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param filename_path: filename and path within host
2937:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param port_number: port number to connect to
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 71


2938:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
2939:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2940:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Queue_Wifi_FW_Update_Event(uint8_t * hostname, uint8_t * filename_path, uint32_t port_number)
2941:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
2942:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Wait_For_Sock_Read_To_Complete();
2943:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   wifi_instances.wifi_event.event = WIFI_FW_UPDATE_EVENT;
2944:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_filename = filename_path;
2945:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_hostname = hostname;
2946:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_port_number = port_number;
2947:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2948:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __disable_irq();
2949:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   push_eventbuffer_queue(&wifi_instances.event_buff, wifi_instances.wifi_event);
2950:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __enable_irq();
2951:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2952:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   reset_event(&wifi_instances.wifi_event);
2953:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
2954:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2955:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2956:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief Queue_Client_Open_Event
2957:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *        Queue a Client Open Event
2958:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param hostname hostname
2959:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param port_number port number to connect to
2960:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param protocol protocol required to connect to server (t for TCP socket, u for UDP socket, s for
2961:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval void
2962:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2963:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Queue_Client_Open_Event(uint8_t * hostname, uint32_t port_number, uint8_t * protocol, WiFi_Soc
2964:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
2965:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     Wait_For_Sock_Read_To_Complete();
2966:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     WiFi_Counter_Variables.curr_hostname = hostname;
2967:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     WiFi_Counter_Variables.curr_port_number = port_number;
2968:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     WiFi_Counter_Variables.curr_protocol = protocol;
2969:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     
2970:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     if(type==NET_SOCKET)
2971:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       wifi_instances.wifi_event.event = WIFI_CLIENT_SOCKET_OPEN_EVENT;
2972:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     else if(type==WEB_SOCKET)
2973:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       wifi_instances.wifi_event.event = WIFI_CLIENT_WEB_SOCKET_OPEN_EVENT;
2974:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     
2975:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****      __disable_irq();
2976:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     push_eventbuffer_queue(&wifi_instances.event_buff, wifi_instances.wifi_event);
2977:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     __enable_irq();
2978:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2979:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     reset_event(&wifi_instances.wifi_event);
2980:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
2981:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2982:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2983:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
2984:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief Queue_Server_Open_Event
2985:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *        Queue a Server Open Event
2986:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param port_number port number to connect to
2987:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param protocol protocol required to connect to server (t for TCP socket, u for UDP socket, s for
2988:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval void
2989:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
2990:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Queue_Server_Open_Event(uint32_t port_number, uint8_t * protocol)
2991:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
2992:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     Wait_For_Sock_Read_To_Complete();
2993:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     WiFi_Counter_Variables.curr_port_number = port_number;
2994:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     WiFi_Counter_Variables.curr_protocol = protocol;
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 72


2995:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
2996:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     wifi_instances.wifi_event.event = WIFI_SERVER_SOCKET_OPEN_EVENT;
2997:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****      __disable_irq();
2998:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     push_eventbuffer_queue(&wifi_instances.event_buff, wifi_instances.wifi_event);
2999:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     __enable_irq();
3000:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3001:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     reset_event(&wifi_instances.wifi_event);
3002:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3003:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3004:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3005:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief Queue_Client_Close_Event
3006:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *        Queue a Client Close Event
3007:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param sock_id socket ID to close
3008:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval void
3009:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3010:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Queue_Client_Close_Event(uint8_t sock_id, WiFi_Socket_t type)
3011:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
3012:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     Wait_For_Sock_Read_To_Complete();
3013:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     
3014:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     if(type==NET_SOCKET)
3015:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       wifi_instances.wifi_event.event = WIFI_CLIENT_SOCKET_CLOSE_EVENT;
3016:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     else if(type==WEB_SOCKET)
3017:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       wifi_instances.wifi_event.event = WIFI_CLIENT_WEB_SOCKET_CLOSE_EVENT;
3018:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     wifi_instances.wifi_event.socket_id = sock_id;
3019:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     __disable_irq();
3020:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     push_eventbuffer_queue(&wifi_instances.event_buff, wifi_instances.wifi_event);
3021:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     __enable_irq();
3022:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3023:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     reset_event(&wifi_instances.wifi_event);
3024:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3025:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3026:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3027:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief Queue_Server_Close_Event
3028:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *        Queue a server close event
3029:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param server_id: ID of the server
3030:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param client_id: ID of the client
3031:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @return void
3032:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3033:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Queue_Server_Close_Event(int8_t server_id, int8_t client_id)
3034:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
3035:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     Wait_For_Sock_Read_To_Complete();
3036:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     wifi_instances.wifi_event.server_id = server_id;
3037:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     wifi_instances.wifi_event.socket_id = client_id;
3038:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3039:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     wifi_instances.wifi_event.event = WIFI_SERVER_SOCKET_CLOSE_EVENT;
3040:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     __disable_irq();
3041:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     push_eventbuffer_queue(&wifi_instances.event_buff, wifi_instances.wifi_event);
3042:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     __enable_irq();
3043:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3044:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     reset_event(&wifi_instances.wifi_event);
3045:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3046:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3047:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Queue_Client_List_Event(WiFi_Socket_t type)
3048:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
3049:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     Wait_For_Sock_Read_To_Complete();
3050:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3051:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     if(type==NET_SOCKET)
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 73


3052:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       wifi_instances.wifi_event.event = WIFI_CLIENT_SOCKET_LIST_EVENT;
3053:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     else if(type==WEB_SOCKET)
3054:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       wifi_instances.wifi_event.event = WIFI_CLIENT_WEB_SOCKET_LIST_EVENT;
3055:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     
3056:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****      __disable_irq();
3057:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     push_eventbuffer_queue(&wifi_instances.event_buff, wifi_instances.wifi_event);
3058:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     __enable_irq();
3059:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3060:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     reset_event(&wifi_instances.wifi_event);
3061:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3062:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3063:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Queue_Server_List_Event(void)
3064:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
3065:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Wait_For_Sock_Read_To_Complete();
3066:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   wifi_instances.wifi_event.event = WIFI_SERVER_SOCKET_LIST_EVENT;
3067:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     
3068:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __disable_irq();
3069:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   push_eventbuffer_queue(&wifi_instances.event_buff, wifi_instances.wifi_event);
3070:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __enable_irq();
3071:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3072:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   reset_event(&wifi_instances.wifi_event);
3073:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3074:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3075:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3076:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief Wait_For_Sock_Read_To_Complete
3077:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *        Wait till sock read is over and the OK of read arrives
3078:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param None
3079:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
3080:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3081:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Wait_For_Sock_Read_To_Complete(void)
3082:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 939              		.loc 1 3082 0
 940              		.cfi_startproc
 941              		@ args = 0, pretend = 0, frame = 0
 942              		@ frame_needed = 0, uses_anonymous_args = 0
 943              		@ link register save eliminated.
3083:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   //wait if read is ongoing or read OK is yet to arrive
3084:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   while(IO_status_flag.sock_read_ongoing == WIFI_TRUE || 
 944              		.loc 1 3084 0
 945 0000 00E0     		b	.L67
 946              	.L68:
3085:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****        (IO_status_flag.prevent_push_OK_event == WIFI_TRUE && IO_status_flag.client_socket_close_ong
3086:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
3087:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         __NOP(); //nothing to do
 947              		.loc 1 3087 0
 948              		.syntax unified
 949              	@ 3087 "Middlewares/ST/STM32_SPWF0xSy/wifi_module.c" 1
 950 0002 00BF     		nop
 951              	@ 0 "" 2
 952              		.thumb
 953              		.syntax unified
 954              	.L67:
3084:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****        (IO_status_flag.prevent_push_OK_event == WIFI_TRUE && IO_status_flag.client_socket_close_ong
 955              		.loc 1 3084 0
 956 0004 074B     		ldr	r3, .L70
 957 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 958 0008 13F0010F 		tst	r3, #1
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 74


 959 000c F9D1     		bne	.L68
3085:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****        (IO_status_flag.prevent_push_OK_event == WIFI_TRUE && IO_status_flag.client_socket_close_ong
 960              		.loc 1 3085 0 discriminator 1
 961 000e 054B     		ldr	r3, .L70
 962 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
3084:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****        (IO_status_flag.prevent_push_OK_event == WIFI_TRUE && IO_status_flag.client_socket_close_ong
 963              		.loc 1 3084 0 discriminator 1
 964 0012 13F0020F 		tst	r3, #2
 965 0016 04D0     		beq	.L66
3085:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****        (IO_status_flag.prevent_push_OK_event == WIFI_TRUE && IO_status_flag.client_socket_close_ong
 966              		.loc 1 3085 0
 967 0018 024B     		ldr	r3, .L70
 968 001a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 969 001c 13F0100F 		tst	r3, #16
 970 0020 EFD0     		beq	.L68
 971              	.L66:
 972 0022 7047     		bx	lr
 973              	.L71:
 974              		.align	2
 975              	.L70:
 976 0024 00000000 		.word	IO_status_flag
 977              		.cfi_endproc
 978              	.LFE314:
 980              		.section	.text.Queue_Tftp_Event,"ax",%progbits
 981              		.align	1
 982              		.global	Queue_Tftp_Event
 983              		.syntax unified
 984              		.thumb
 985              		.thumb_func
 986              		.fpu fpv4-sp-d16
 988              	Queue_Tftp_Event:
 989              	.LFB297:
2683:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Wait_For_Sock_Read_To_Complete();
 990              		.loc 1 2683 0
 991              		.cfi_startproc
 992              		@ args = 0, pretend = 0, frame = 0
 993              		@ frame_needed = 0, uses_anonymous_args = 0
 994              	.LVL24:
 995 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 996              	.LCFI9:
 997              		.cfi_def_cfa_offset 24
 998              		.cfi_offset 3, -24
 999              		.cfi_offset 4, -20
 1000              		.cfi_offset 5, -16
 1001              		.cfi_offset 6, -12
 1002              		.cfi_offset 7, -8
 1003              		.cfi_offset 14, -4
 1004 0002 0746     		mov	r7, r0
 1005 0004 0D46     		mov	r5, r1
 1006 0006 1646     		mov	r6, r2
 1007 0008 1C46     		mov	r4, r3
2684:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 1008              		.loc 1 2684 0
 1009 000a FFF7FEFF 		bl	Wait_For_Sock_Read_To_Complete
 1010              	.LVL25:
2686:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_path = filename;
 1011              		.loc 1 2686 0
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 75


 1012 000e 0B4B     		ldr	r3, .L74
 1013 0010 1F66     		str	r7, [r3, #96]
2687:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_port_number = port_number;
 1014              		.loc 1 2687 0
 1015 0012 5E66     		str	r6, [r3, #100]
2688:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.http_ind = tftp_ind;
 1016              		.loc 1 2688 0
 1017 0014 C3F8C050 		str	r5, [r3, #192]
2689:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 1018              		.loc 1 2689 0
 1019 0018 DC72     		strb	r4, [r3, #11]
2691:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __disable_irq();
 1020              		.loc 1 2691 0
 1021 001a 0948     		ldr	r0, .L74+4
 1022 001c 0723     		movs	r3, #7
 1023 001e 80F82630 		strb	r3, [r0, #38]
 1024              	.LBB96:
 1025              	.LBB97:
 1026              		.loc 2 142 0
 1027              		.syntax unified
 1028              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1029 0022 72B6     		cpsid i
 1030              	@ 0 "" 2
 1031              		.thumb
 1032              		.syntax unified
 1033              	.LBE97:
 1034              	.LBE96:
2693:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __enable_irq();
 1035              		.loc 1 2693 0
 1036 0024 00F12004 		add	r4, r0, #32
 1037 0028 94E80600 		ldm	r4, {r1, r2}
 1038 002c 1430     		adds	r0, r0, #20
 1039 002e FFF7FEFF 		bl	push_eventbuffer_queue
 1040              	.LVL26:
 1041              	.LBB98:
 1042              	.LBB99:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 1043              		.loc 2 131 0
 1044              		.syntax unified
 1045              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1046 0032 62B6     		cpsie i
 1047              	@ 0 "" 2
 1048              		.thumb
 1049              		.syntax unified
 1050              	.LBE99:
 1051              	.LBE98:
2696:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 1052              		.loc 1 2696 0
 1053 0034 2046     		mov	r0, r4
 1054 0036 FFF7FEFF 		bl	reset_event
 1055              	.LVL27:
 1056 003a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1057              	.LVL28:
 1058              	.L75:
 1059              		.align	2
 1060              	.L74:
 1061 003c 00000000 		.word	WiFi_Counter_Variables
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 76


 1062 0040 00000000 		.word	wifi_instances
 1063              		.cfi_endproc
 1064              	.LFE297:
 1066              		.section	.text.Queue_Mqtt_Connect_Event,"ax",%progbits
 1067              		.align	1
 1068              		.global	Queue_Mqtt_Connect_Event
 1069              		.syntax unified
 1070              		.thumb
 1071              		.thumb_func
 1072              		.fpu fpv4-sp-d16
 1074              	Queue_Mqtt_Connect_Event:
 1075              	.LFB298:
2707:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Wait_For_Sock_Read_To_Complete();
 1076              		.loc 1 2707 0
 1077              		.cfi_startproc
 1078              		@ args = 0, pretend = 0, frame = 0
 1079              		@ frame_needed = 0, uses_anonymous_args = 0
 1080              	.LVL29:
 1081 0000 38B5     		push	{r3, r4, r5, lr}
 1082              	.LCFI10:
 1083              		.cfi_def_cfa_offset 16
 1084              		.cfi_offset 3, -16
 1085              		.cfi_offset 4, -12
 1086              		.cfi_offset 5, -8
 1087              		.cfi_offset 14, -4
 1088 0002 0546     		mov	r5, r0
 1089 0004 0C46     		mov	r4, r1
2708:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   wifi_instances.wifi_event.event = WIFI_MQTT_EVENT;
 1090              		.loc 1 2708 0
 1091 0006 FFF7FEFF 		bl	Wait_For_Sock_Read_To_Complete
 1092              	.LVL30:
2709:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_hostname = hostname;
 1093              		.loc 1 2709 0
 1094 000a 0A48     		ldr	r0, .L78
 1095 000c 2423     		movs	r3, #36
 1096 000e 80F82630 		strb	r3, [r0, #38]
2710:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_port_number = port_number;    
 1097              		.loc 1 2710 0
 1098 0012 094B     		ldr	r3, .L78+4
 1099 0014 1D66     		str	r5, [r3, #96]
2711:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 1100              		.loc 1 2711 0
 1101 0016 C3F8C040 		str	r4, [r3, #192]
 1102              	.LBB100:
 1103              	.LBB101:
 1104              		.loc 2 142 0
 1105              		.syntax unified
 1106              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1107 001a 72B6     		cpsid i
 1108              	@ 0 "" 2
 1109              		.thumb
 1110              		.syntax unified
 1111              	.LBE101:
 1112              	.LBE100:
2714:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __enable_irq();
 1113              		.loc 1 2714 0
 1114 001c 00F12004 		add	r4, r0, #32
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 77


 1115              	.LVL31:
 1116 0020 94E80600 		ldm	r4, {r1, r2}
 1117 0024 1430     		adds	r0, r0, #20
 1118 0026 FFF7FEFF 		bl	push_eventbuffer_queue
 1119              	.LVL32:
 1120              	.LBB102:
 1121              	.LBB103:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 1122              		.loc 2 131 0
 1123              		.syntax unified
 1124              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1125 002a 62B6     		cpsie i
 1126              	@ 0 "" 2
 1127              		.thumb
 1128              		.syntax unified
 1129              	.LBE103:
 1130              	.LBE102:
2717:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 1131              		.loc 1 2717 0
 1132 002c 2046     		mov	r0, r4
 1133 002e FFF7FEFF 		bl	reset_event
 1134              	.LVL33:
 1135 0032 38BD     		pop	{r3, r4, r5, pc}
 1136              	.LVL34:
 1137              	.L79:
 1138              		.align	2
 1139              	.L78:
 1140 0034 00000000 		.word	wifi_instances
 1141 0038 00000000 		.word	WiFi_Counter_Variables
 1142              		.cfi_endproc
 1143              	.LFE298:
 1145              		.section	.text.Queue_Mqtt_Event,"ax",%progbits
 1146              		.align	1
 1147              		.global	Queue_Mqtt_Event
 1148              		.syntax unified
 1149              		.thumb
 1150              		.thumb_func
 1151              		.fpu fpv4-sp-d16
 1153              	Queue_Mqtt_Event:
 1154              	.LFB299:
2727:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Wait_For_Sock_Read_To_Complete();
 1155              		.loc 1 2727 0
 1156              		.cfi_startproc
 1157              		@ args = 0, pretend = 0, frame = 0
 1158              		@ frame_needed = 0, uses_anonymous_args = 0
 1159              	.LVL35:
 1160 0000 10B5     		push	{r4, lr}
 1161              	.LCFI11:
 1162              		.cfi_def_cfa_offset 8
 1163              		.cfi_offset 4, -8
 1164              		.cfi_offset 14, -4
 1165 0002 0446     		mov	r4, r0
2728:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   wifi_instances.wifi_event.event = WIFI_MQTT_EVENT;
 1166              		.loc 1 2728 0
 1167 0004 FFF7FEFF 		bl	Wait_For_Sock_Read_To_Complete
 1168              	.LVL36:
2729:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_path = topic;
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 78


 1169              		.loc 1 2729 0
 1170 0008 0948     		ldr	r0, .L82
 1171 000a 2423     		movs	r3, #36
 1172 000c 80F82630 		strb	r3, [r0, #38]
2730:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 1173              		.loc 1 2730 0
 1174 0010 084B     		ldr	r3, .L82+4
 1175 0012 5C66     		str	r4, [r3, #100]
 1176              	.LBB104:
 1177              	.LBB105:
 1178              		.loc 2 142 0
 1179              		.syntax unified
 1180              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1181 0014 72B6     		cpsid i
 1182              	@ 0 "" 2
 1183              		.thumb
 1184              		.syntax unified
 1185              	.LBE105:
 1186              	.LBE104:
2733:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __enable_irq();
 1187              		.loc 1 2733 0
 1188 0016 00F12004 		add	r4, r0, #32
 1189              	.LVL37:
 1190 001a 94E80600 		ldm	r4, {r1, r2}
 1191 001e 1430     		adds	r0, r0, #20
 1192 0020 FFF7FEFF 		bl	push_eventbuffer_queue
 1193              	.LVL38:
 1194              	.LBB106:
 1195              	.LBB107:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 1196              		.loc 2 131 0
 1197              		.syntax unified
 1198              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1199 0024 62B6     		cpsie i
 1200              	@ 0 "" 2
 1201              		.thumb
 1202              		.syntax unified
 1203              	.LBE107:
 1204              	.LBE106:
2736:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 1205              		.loc 1 2736 0
 1206 0026 2046     		mov	r0, r4
 1207 0028 FFF7FEFF 		bl	reset_event
 1208              	.LVL39:
 1209 002c 10BD     		pop	{r4, pc}
 1210              	.L83:
 1211 002e 00BF     		.align	2
 1212              	.L82:
 1213 0030 00000000 		.word	wifi_instances
 1214 0034 00000000 		.word	WiFi_Counter_Variables
 1215              		.cfi_endproc
 1216              	.LFE299:
 1218              		.section	.text.Queue_Mqtt_Publish_Event,"ax",%progbits
 1219              		.align	1
 1220              		.global	Queue_Mqtt_Publish_Event
 1221              		.syntax unified
 1222              		.thumb
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 79


 1223              		.thumb_func
 1224              		.fpu fpv4-sp-d16
 1226              	Queue_Mqtt_Publish_Event:
 1227              	.LFB300:
2748:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Wait_For_Sock_Read_To_Complete();
 1228              		.loc 1 2748 0
 1229              		.cfi_startproc
 1230              		@ args = 0, pretend = 0, frame = 0
 1231              		@ frame_needed = 0, uses_anonymous_args = 0
 1232              	.LVL40:
 1233 0000 70B5     		push	{r4, r5, r6, lr}
 1234              	.LCFI12:
 1235              		.cfi_def_cfa_offset 16
 1236              		.cfi_offset 4, -16
 1237              		.cfi_offset 5, -12
 1238              		.cfi_offset 6, -8
 1239              		.cfi_offset 14, -4
 1240 0002 0646     		mov	r6, r0
 1241 0004 0D46     		mov	r5, r1
 1242 0006 1446     		mov	r4, r2
2749:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   wifi_instances.wifi_event.event = WIFI_MQTT_EVENT;
 1243              		.loc 1 2749 0
 1244 0008 FFF7FEFF 		bl	Wait_For_Sock_Read_To_Complete
 1245              	.LVL41:
2750:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_path = topic;
 1246              		.loc 1 2750 0
 1247 000c 0B48     		ldr	r0, .L86
 1248 000e 2423     		movs	r3, #36
 1249 0010 80F82630 		strb	r3, [r0, #38]
2751:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_DataLength = datalength;
 1250              		.loc 1 2751 0
 1251 0014 0A4B     		ldr	r3, .L86+4
 1252 0016 5E66     		str	r6, [r3, #100]
2752:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_data = data;
 1253              		.loc 1 2752 0
 1254 0018 A3F88C50 		strh	r5, [r3, #140]	@ movhi
2753:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 1255              		.loc 1 2753 0
 1256 001c C3F88840 		str	r4, [r3, #136]
 1257              	.LBB108:
 1258              	.LBB109:
 1259              		.loc 2 142 0
 1260              		.syntax unified
 1261              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1262 0020 72B6     		cpsid i
 1263              	@ 0 "" 2
 1264              		.thumb
 1265              		.syntax unified
 1266              	.LBE109:
 1267              	.LBE108:
2756:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __enable_irq();
 1268              		.loc 1 2756 0
 1269 0022 00F12004 		add	r4, r0, #32
 1270              	.LVL42:
 1271 0026 94E80600 		ldm	r4, {r1, r2}
 1272 002a 1430     		adds	r0, r0, #20
 1273 002c FFF7FEFF 		bl	push_eventbuffer_queue
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 80


 1274              	.LVL43:
 1275              	.LBB110:
 1276              	.LBB111:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 1277              		.loc 2 131 0
 1278              		.syntax unified
 1279              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1280 0030 62B6     		cpsie i
 1281              	@ 0 "" 2
 1282              		.thumb
 1283              		.syntax unified
 1284              	.LBE111:
 1285              	.LBE110:
2759:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 1286              		.loc 1 2759 0
 1287 0032 2046     		mov	r0, r4
 1288 0034 FFF7FEFF 		bl	reset_event
 1289              	.LVL44:
 1290 0038 70BD     		pop	{r4, r5, r6, pc}
 1291              	.LVL45:
 1292              	.L87:
 1293 003a 00BF     		.align	2
 1294              	.L86:
 1295 003c 00000000 		.word	wifi_instances
 1296 0040 00000000 		.word	WiFi_Counter_Variables
 1297              		.cfi_endproc
 1298              	.LFE300:
 1300              		.section	.text.Queue_Wifi_Send_Mail_Event,"ax",%progbits
 1301              		.align	1
 1302              		.global	Queue_Wifi_Send_Mail_Event
 1303              		.syntax unified
 1304              		.thumb
 1305              		.thumb_func
 1306              		.fpu fpv4-sp-d16
 1308              	Queue_Wifi_Send_Mail_Event:
 1309              	.LFB301:
2781:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Wait_For_Sock_Read_To_Complete();
 1310              		.loc 1 2781 0
 1311              		.cfi_startproc
 1312              		@ args = 12, pretend = 0, frame = 0
 1313              		@ frame_needed = 0, uses_anonymous_args = 0
 1314              	.LVL46:
 1315 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1316              	.LCFI13:
 1317              		.cfi_def_cfa_offset 24
 1318              		.cfi_offset 3, -24
 1319              		.cfi_offset 4, -20
 1320              		.cfi_offset 5, -16
 1321              		.cfi_offset 6, -12
 1322              		.cfi_offset 7, -8
 1323              		.cfi_offset 14, -4
 1324 0002 0746     		mov	r7, r0
 1325 0004 0E46     		mov	r6, r1
 1326 0006 1546     		mov	r5, r2
 1327 0008 1C46     		mov	r4, r3
2782:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   wifi_instances.wifi_event.event         = WIFI_SMTP_EVENT;
 1328              		.loc 1 2782 0
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 81


 1329 000a FFF7FEFF 		bl	Wait_For_Sock_Read_To_Complete
 1330              	.LVL47:
2783:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_hostname    = hostname;
 1331              		.loc 1 2783 0
 1332 000e 1048     		ldr	r0, .L90
 1333 0010 2723     		movs	r3, #39
 1334 0012 80F82630 		strb	r3, [r0, #38]
2784:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_port_number = port_number;
 1335              		.loc 1 2784 0
 1336 0016 0F4B     		ldr	r3, .L90+4
 1337 0018 1F66     		str	r7, [r3, #96]
2785:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_path  = from;
 1338              		.loc 1 2785 0
 1339 001a C3F8C060 		str	r6, [r3, #192]
2786:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_pURL  = to;
 1340              		.loc 1 2786 0
 1341 001e 5D66     		str	r5, [r3, #100]
2787:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.temp       = subject;
 1342              		.loc 1 2787 0
 1343 0020 9C66     		str	r4, [r3, #104]
2788:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_DataLength  = length;
 1344              		.loc 1 2788 0
 1345 0022 069A     		ldr	r2, [sp, #24]
 1346 0024 C3F88020 		str	r2, [r3, #128]
2789:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_data        = Data;
 1347              		.loc 1 2789 0
 1348 0028 079A     		ldr	r2, [sp, #28]
 1349 002a A3F88C20 		strh	r2, [r3, #140]	@ movhi
2790:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 1350              		.loc 1 2790 0
 1351 002e 089A     		ldr	r2, [sp, #32]
 1352 0030 C3F88820 		str	r2, [r3, #136]
 1353              	.LBB112:
 1354              	.LBB113:
 1355              		.loc 2 142 0
 1356              		.syntax unified
 1357              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1358 0034 72B6     		cpsid i
 1359              	@ 0 "" 2
 1360              		.thumb
 1361              		.syntax unified
 1362              	.LBE113:
 1363              	.LBE112:
2793:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __enable_irq();
 1364              		.loc 1 2793 0
 1365 0036 00F12004 		add	r4, r0, #32
 1366              	.LVL48:
 1367 003a 94E80600 		ldm	r4, {r1, r2}
 1368 003e 1430     		adds	r0, r0, #20
 1369 0040 FFF7FEFF 		bl	push_eventbuffer_queue
 1370              	.LVL49:
 1371              	.LBB114:
 1372              	.LBB115:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 1373              		.loc 2 131 0
 1374              		.syntax unified
 1375              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 82


 1376 0044 62B6     		cpsie i
 1377              	@ 0 "" 2
 1378              		.thumb
 1379              		.syntax unified
 1380              	.LBE115:
 1381              	.LBE114:
2796:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 1382              		.loc 1 2796 0
 1383 0046 2046     		mov	r0, r4
 1384 0048 FFF7FEFF 		bl	reset_event
 1385              	.LVL50:
 1386 004c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1387              	.LVL51:
 1388              	.L91:
 1389 004e 00BF     		.align	2
 1390              	.L90:
 1391 0050 00000000 		.word	wifi_instances
 1392 0054 00000000 		.word	WiFi_Counter_Variables
 1393              		.cfi_endproc
 1394              	.LFE301:
 1396              		.section	.text.Queue_Http_Event,"ax",%progbits
 1397              		.align	1
 1398              		.global	Queue_Http_Event
 1399              		.syntax unified
 1400              		.thumb
 1401              		.thumb_func
 1402              		.fpu fpv4-sp-d16
 1404              	Queue_Http_Event:
 1405              	.LFB302:
2811:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Wait_For_Sock_Read_To_Complete();
 1406              		.loc 1 2811 0
 1407              		.cfi_startproc
 1408              		@ args = 0, pretend = 0, frame = 0
 1409              		@ frame_needed = 0, uses_anonymous_args = 0
 1410              	.LVL52:
 1411 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1412              	.LCFI14:
 1413              		.cfi_def_cfa_offset 24
 1414              		.cfi_offset 3, -24
 1415              		.cfi_offset 4, -20
 1416              		.cfi_offset 5, -16
 1417              		.cfi_offset 6, -12
 1418              		.cfi_offset 7, -8
 1419              		.cfi_offset 14, -4
 1420 0002 0746     		mov	r7, r0
 1421 0004 0E46     		mov	r6, r1
 1422 0006 1546     		mov	r5, r2
 1423 0008 1C46     		mov	r4, r3
2812:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 1424              		.loc 1 2812 0
 1425 000a FFF7FEFF 		bl	Wait_For_Sock_Read_To_Complete
 1426              	.LVL53:
2814:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_path = path;
 1427              		.loc 1 2814 0
 1428 000e 0B4B     		ldr	r3, .L94
 1429 0010 1F66     		str	r7, [r3, #96]
2815:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_port_number = port_number;
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 83


 1430              		.loc 1 2815 0
 1431 0012 5E66     		str	r6, [r3, #100]
2816:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.http_ind = http_ind;
 1432              		.loc 1 2816 0
 1433 0014 C3F8C050 		str	r5, [r3, #192]
2817:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 1434              		.loc 1 2817 0
 1435 0018 DC72     		strb	r4, [r3, #11]
2819:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __disable_irq();
 1436              		.loc 1 2819 0
 1437 001a 0948     		ldr	r0, .L94+4
 1438 001c 0623     		movs	r3, #6
 1439 001e 80F82630 		strb	r3, [r0, #38]
 1440              	.LBB116:
 1441              	.LBB117:
 1442              		.loc 2 142 0
 1443              		.syntax unified
 1444              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1445 0022 72B6     		cpsid i
 1446              	@ 0 "" 2
 1447              		.thumb
 1448              		.syntax unified
 1449              	.LBE117:
 1450              	.LBE116:
2821:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __enable_irq();
 1451              		.loc 1 2821 0
 1452 0024 00F12004 		add	r4, r0, #32
 1453 0028 94E80600 		ldm	r4, {r1, r2}
 1454 002c 1430     		adds	r0, r0, #20
 1455 002e FFF7FEFF 		bl	push_eventbuffer_queue
 1456              	.LVL54:
 1457              	.LBB118:
 1458              	.LBB119:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 1459              		.loc 2 131 0
 1460              		.syntax unified
 1461              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1462 0032 62B6     		cpsie i
 1463              	@ 0 "" 2
 1464              		.thumb
 1465              		.syntax unified
 1466              	.LBE119:
 1467              	.LBE118:
2824:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 1468              		.loc 1 2824 0
 1469 0034 2046     		mov	r0, r4
 1470 0036 FFF7FEFF 		bl	reset_event
 1471              	.LVL55:
 1472 003a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1473              	.LVL56:
 1474              	.L95:
 1475              		.align	2
 1476              	.L94:
 1477 003c 00000000 		.word	WiFi_Counter_Variables
 1478 0040 00000000 		.word	wifi_instances
 1479              		.cfi_endproc
 1480              	.LFE302:
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 84


 1482              		.section	.text.Queue_Client_Write_Event,"ax",%progbits
 1483              		.align	1
 1484              		.global	Queue_Client_Write_Event
 1485              		.syntax unified
 1486              		.thumb
 1487              		.thumb_func
 1488              		.fpu fpv4-sp-d16
 1490              	Queue_Client_Write_Event:
 1491              	.LFB303:
2836:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Wait_For_Sock_Read_To_Complete();
 1492              		.loc 1 2836 0
 1493              		.cfi_startproc
 1494              		@ args = 0, pretend = 0, frame = 0
 1495              		@ frame_needed = 0, uses_anonymous_args = 0
 1496              	.LVL57:
 1497 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1498              	.LCFI15:
 1499              		.cfi_def_cfa_offset 24
 1500              		.cfi_offset 3, -24
 1501              		.cfi_offset 4, -20
 1502              		.cfi_offset 5, -16
 1503              		.cfi_offset 6, -12
 1504              		.cfi_offset 7, -8
 1505              		.cfi_offset 14, -4
 1506 0002 0546     		mov	r5, r0
 1507 0004 0F46     		mov	r7, r1
 1508 0006 1646     		mov	r6, r2
 1509 0008 1C46     		mov	r4, r3
2837:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_DataLength = DataLength;
 1510              		.loc 1 2837 0
 1511 000a FFF7FEFF 		bl	Wait_For_Sock_Read_To_Complete
 1512              	.LVL58:
2838:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_data = pData;
 1513              		.loc 1 2838 0
 1514 000e 124B     		ldr	r3, .L102
 1515 0010 A3F88C70 		strh	r7, [r3, #140]	@ movhi
2839:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_sockID = sock_id;
 1516              		.loc 1 2839 0
 1517 0014 C3F88860 		str	r6, [r3, #136]
2840:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 1518              		.loc 1 2840 0
 1519 0018 9A78     		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 1520 001a 65F30202 		bfi	r2, r5, #0, #3
 1521 001e 9A70     		strb	r2, [r3, #2]
2842:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     wifi_instances.wifi_event.event = WIFI_CLIENT_SOCKET_WRITE_EVENT;
 1522              		.loc 1 2842 0
 1523 0020 022C     		cmp	r4, #2
 1524 0022 0FD0     		beq	.L100
2844:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     wifi_instances.wifi_event.event = WIFI_CLIENT_WEB_SOCKET_WRITE_EVENT;
 1525              		.loc 1 2844 0
 1526 0024 012C     		cmp	r4, #1
 1527 0026 12D0     		beq	.L101
 1528              	.L98:
 1529              	.LBB120:
 1530              	.LBB121:
 1531              		.loc 2 142 0
 1532              		.syntax unified
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 85


 1533              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1534 0028 72B6     		cpsid i
 1535              	@ 0 "" 2
 1536              		.thumb
 1537              		.syntax unified
 1538              	.LBE121:
 1539              	.LBE120:
2847:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __enable_irq();
 1540              		.loc 1 2847 0
 1541 002a 0C48     		ldr	r0, .L102+4
 1542 002c 00F12004 		add	r4, r0, #32
 1543 0030 94E80600 		ldm	r4, {r1, r2}
 1544 0034 1430     		adds	r0, r0, #20
 1545 0036 FFF7FEFF 		bl	push_eventbuffer_queue
 1546              	.LVL59:
 1547              	.LBB122:
 1548              	.LBB123:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 1549              		.loc 2 131 0
 1550              		.syntax unified
 1551              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1552 003a 62B6     		cpsie i
 1553              	@ 0 "" 2
 1554              		.thumb
 1555              		.syntax unified
 1556              	.LBE123:
 1557              	.LBE122:
2850:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 1558              		.loc 1 2850 0
 1559 003c 2046     		mov	r0, r4
 1560 003e FFF7FEFF 		bl	reset_event
 1561              	.LVL60:
 1562 0042 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1563              	.LVL61:
 1564              	.L100:
2843:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   else if(type==WEB_SOCKET)
 1565              		.loc 1 2843 0
 1566 0044 1422     		movs	r2, #20
 1567 0046 054B     		ldr	r3, .L102+4
 1568 0048 83F82620 		strb	r2, [r3, #38]
 1569 004c ECE7     		b	.L98
 1570              	.L101:
2845:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __disable_irq();
 1571              		.loc 1 2845 0
 1572 004e 2222     		movs	r2, #34
 1573 0050 024B     		ldr	r3, .L102+4
 1574 0052 83F82620 		strb	r2, [r3, #38]
 1575 0056 E7E7     		b	.L98
 1576              	.L103:
 1577              		.align	2
 1578              	.L102:
 1579 0058 00000000 		.word	WiFi_Counter_Variables
 1580 005c 00000000 		.word	wifi_instances
 1581              		.cfi_endproc
 1582              	.LFE303:
 1584              		.section	.text.Queue_Wifi_File_Create_Event,"ax",%progbits
 1585              		.align	1
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 86


 1586              		.global	Queue_Wifi_File_Create_Event
 1587              		.syntax unified
 1588              		.thumb
 1589              		.thumb_func
 1590              		.fpu fpv4-sp-d16
 1592              	Queue_Wifi_File_Create_Event:
 1593              	.LFB304:
2862:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Wait_For_Sock_Read_To_Complete();
 1594              		.loc 1 2862 0
 1595              		.cfi_startproc
 1596              		@ args = 0, pretend = 0, frame = 0
 1597              		@ frame_needed = 0, uses_anonymous_args = 0
 1598              	.LVL62:
 1599 0000 70B5     		push	{r4, r5, r6, lr}
 1600              	.LCFI16:
 1601              		.cfi_def_cfa_offset 16
 1602              		.cfi_offset 4, -16
 1603              		.cfi_offset 5, -12
 1604              		.cfi_offset 6, -8
 1605              		.cfi_offset 14, -4
 1606 0002 0646     		mov	r6, r0
 1607 0004 0D46     		mov	r5, r1
 1608 0006 1446     		mov	r4, r2
2863:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_filename    = FileName;
 1609              		.loc 1 2863 0
 1610 0008 FFF7FEFF 		bl	Wait_For_Sock_Read_To_Complete
 1611              	.LVL63:
2864:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_DataLength  = DataLength;
 1612              		.loc 1 2864 0
 1613 000c 0B4B     		ldr	r3, .L106
 1614 000e 1E67     		str	r6, [r3, #112]
2865:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_data        = Data;
 1615              		.loc 1 2865 0
 1616 0010 A3F88C50 		strh	r5, [r3, #140]	@ movhi
2866:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 1617              		.loc 1 2866 0
 1618 0014 C3F88840 		str	r4, [r3, #136]
2868:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __disable_irq();
 1619              		.loc 1 2868 0
 1620 0018 0948     		ldr	r0, .L106+4
 1621 001a 0E23     		movs	r3, #14
 1622 001c 80F82630 		strb	r3, [r0, #38]
 1623              	.LBB124:
 1624              	.LBB125:
 1625              		.loc 2 142 0
 1626              		.syntax unified
 1627              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1628 0020 72B6     		cpsid i
 1629              	@ 0 "" 2
 1630              		.thumb
 1631              		.syntax unified
 1632              	.LBE125:
 1633              	.LBE124:
2870:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __enable_irq();
 1634              		.loc 1 2870 0
 1635 0022 00F12004 		add	r4, r0, #32
 1636              	.LVL64:
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 87


 1637 0026 94E80600 		ldm	r4, {r1, r2}
 1638 002a 1430     		adds	r0, r0, #20
 1639 002c FFF7FEFF 		bl	push_eventbuffer_queue
 1640              	.LVL65:
 1641              	.LBB126:
 1642              	.LBB127:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 1643              		.loc 2 131 0
 1644              		.syntax unified
 1645              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1646 0030 62B6     		cpsie i
 1647              	@ 0 "" 2
 1648              		.thumb
 1649              		.syntax unified
 1650              	.LBE127:
 1651              	.LBE126:
2873:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 1652              		.loc 1 2873 0
 1653 0032 2046     		mov	r0, r4
 1654 0034 FFF7FEFF 		bl	reset_event
 1655              	.LVL66:
 1656 0038 70BD     		pop	{r4, r5, r6, pc}
 1657              	.LVL67:
 1658              	.L107:
 1659 003a 00BF     		.align	2
 1660              	.L106:
 1661 003c 00000000 		.word	WiFi_Counter_Variables
 1662 0040 00000000 		.word	wifi_instances
 1663              		.cfi_endproc
 1664              	.LFE304:
 1666              		.section	.text.Queue_Wifi_File_Event,"ax",%progbits
 1667              		.align	1
 1668              		.global	Queue_Wifi_File_Event
 1669              		.syntax unified
 1670              		.thumb
 1671              		.thumb_func
 1672              		.fpu fpv4-sp-d16
 1674              	Queue_Wifi_File_Event:
 1675              	.LFB305:
2887:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Wait_For_Sock_Read_To_Complete();
 1676              		.loc 1 2887 0
 1677              		.cfi_startproc
 1678              		@ args = 4, pretend = 0, frame = 0
 1679              		@ frame_needed = 0, uses_anonymous_args = 0
 1680              	.LVL68:
 1681 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1682              	.LCFI17:
 1683              		.cfi_def_cfa_offset 24
 1684              		.cfi_offset 3, -24
 1685              		.cfi_offset 4, -20
 1686              		.cfi_offset 5, -16
 1687              		.cfi_offset 6, -12
 1688              		.cfi_offset 7, -8
 1689              		.cfi_offset 14, -4
 1690 0002 0646     		mov	r6, r0
 1691 0004 0F46     		mov	r7, r1
 1692 0006 1546     		mov	r5, r2
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 88


 1693 0008 1C46     		mov	r4, r3
2888:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   wifi_instances.wifi_event.event         = WIFI_FILE_EVENT;
 1694              		.loc 1 2888 0
 1695 000a FFF7FEFF 		bl	Wait_For_Sock_Read_To_Complete
 1696              	.LVL69:
2889:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_filename    = FileName;
 1697              		.loc 1 2889 0
 1698 000e 0E48     		ldr	r0, .L110
 1699 0010 0C23     		movs	r3, #12
 1700 0012 80F82630 		strb	r3, [r0, #38]
2890:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_hostname    = HostName;
 1701              		.loc 1 2890 0
 1702 0016 0D4B     		ldr	r3, .L110+4
 1703 0018 1F67     		str	r7, [r3, #112]
2891:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_port_number = port_number;
 1704              		.loc 1 2891 0
 1705 001a 1E66     		str	r6, [r3, #96]
2892:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.datalen          = length;
 1706              		.loc 1 2892 0
 1707 001c C3F8C050 		str	r5, [r3, #192]
2893:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.offset           = offset;
 1708              		.loc 1 2893 0
 1709 0020 BDF91820 		ldrsh	r2, [sp, #24]
 1710 0024 A3F88E20 		strh	r2, [r3, #142]	@ movhi
2894:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 1711              		.loc 1 2894 0
 1712 0028 A3F89040 		strh	r4, [r3, #144]	@ movhi
 1713              	.LBB128:
 1714              	.LBB129:
 1715              		.loc 2 142 0
 1716              		.syntax unified
 1717              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1718 002c 72B6     		cpsid i
 1719              	@ 0 "" 2
 1720              		.thumb
 1721              		.syntax unified
 1722              	.LBE129:
 1723              	.LBE128:
2898:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __enable_irq();
 1724              		.loc 1 2898 0
 1725 002e 00F12004 		add	r4, r0, #32
 1726 0032 94E80600 		ldm	r4, {r1, r2}
 1727 0036 1430     		adds	r0, r0, #20
 1728 0038 FFF7FEFF 		bl	push_eventbuffer_queue
 1729              	.LVL70:
 1730              	.LBB130:
 1731              	.LBB131:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 1732              		.loc 2 131 0
 1733              		.syntax unified
 1734              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1735 003c 62B6     		cpsie i
 1736              	@ 0 "" 2
 1737              		.thumb
 1738              		.syntax unified
 1739              	.LBE131:
 1740              	.LBE130:
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 89


2901:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 1741              		.loc 1 2901 0
 1742 003e 2046     		mov	r0, r4
 1743 0040 FFF7FEFF 		bl	reset_event
 1744              	.LVL71:
 1745 0044 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1746              	.LVL72:
 1747              	.L111:
 1748 0046 00BF     		.align	2
 1749              	.L110:
 1750 0048 00000000 		.word	wifi_instances
 1751 004c 00000000 		.word	WiFi_Counter_Variables
 1752              		.cfi_endproc
 1753              	.LFE305:
 1755              		.section	.text.Queue_File_Event,"ax",%progbits
 1756              		.align	1
 1757              		.global	Queue_File_Event
 1758              		.syntax unified
 1759              		.thumb
 1760              		.thumb_func
 1761              		.fpu fpv4-sp-d16
 1763              	Queue_File_Event:
 1764              	.LFB306:
2914:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Wait_For_Sock_Read_To_Complete();
 1765              		.loc 1 2914 0
 1766              		.cfi_startproc
 1767              		@ args = 0, pretend = 0, frame = 0
 1768              		@ frame_needed = 0, uses_anonymous_args = 0
 1769              	.LVL73:
 1770 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1771              	.LCFI18:
 1772              		.cfi_def_cfa_offset 24
 1773              		.cfi_offset 3, -24
 1774              		.cfi_offset 4, -20
 1775              		.cfi_offset 5, -16
 1776              		.cfi_offset 6, -12
 1777              		.cfi_offset 7, -8
 1778              		.cfi_offset 14, -4
 1779 0002 0746     		mov	r7, r0
 1780 0004 0E46     		mov	r6, r1
 1781 0006 1546     		mov	r5, r2
 1782 0008 1C46     		mov	r4, r3
2915:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_filename      = (uint8_t*)FileName;
 1783              		.loc 1 2915 0
 1784 000a FFF7FEFF 		bl	Wait_For_Sock_Read_To_Complete
 1785              	.LVL74:
2916:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 1786              		.loc 1 2916 0
 1787 000e 0C4B     		ldr	r3, .L114
 1788 0010 1F67     		str	r7, [r3, #112]
2918:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.volume             = volume;
 1789              		.loc 1 2918 0
 1790 0012 5E67     		str	r6, [r3, #116]
2919:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.erase              = erase;
 1791              		.loc 1 2919 0
 1792 0014 83F88450 		strb	r5, [r3, #132]
2920:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 90


 1793              		.loc 1 2920 0
 1794 0018 83F88540 		strb	r4, [r3, #133]
2922:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __disable_irq();
 1795              		.loc 1 2922 0
 1796 001c 0948     		ldr	r0, .L114+4
 1797 001e 0D23     		movs	r3, #13
 1798 0020 80F82630 		strb	r3, [r0, #38]
 1799              	.LBB132:
 1800              	.LBB133:
 1801              		.loc 2 142 0
 1802              		.syntax unified
 1803              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1804 0024 72B6     		cpsid i
 1805              	@ 0 "" 2
 1806              		.thumb
 1807              		.syntax unified
 1808              	.LBE133:
 1809              	.LBE132:
2924:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __enable_irq();
 1810              		.loc 1 2924 0
 1811 0026 00F12004 		add	r4, r0, #32
 1812 002a 94E80600 		ldm	r4, {r1, r2}
 1813 002e 1430     		adds	r0, r0, #20
 1814 0030 FFF7FEFF 		bl	push_eventbuffer_queue
 1815              	.LVL75:
 1816              	.LBB134:
 1817              	.LBB135:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 1818              		.loc 2 131 0
 1819              		.syntax unified
 1820              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1821 0034 62B6     		cpsie i
 1822              	@ 0 "" 2
 1823              		.thumb
 1824              		.syntax unified
 1825              	.LBE135:
 1826              	.LBE134:
2927:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 1827              		.loc 1 2927 0
 1828 0036 2046     		mov	r0, r4
 1829 0038 FFF7FEFF 		bl	reset_event
 1830              	.LVL76:
 1831 003c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1832              	.LVL77:
 1833              	.L115:
 1834 003e 00BF     		.align	2
 1835              	.L114:
 1836 0040 00000000 		.word	WiFi_Counter_Variables
 1837 0044 00000000 		.word	wifi_instances
 1838              		.cfi_endproc
 1839              	.LFE306:
 1841              		.section	.text.Queue_Wifi_FW_Update_Event,"ax",%progbits
 1842              		.align	1
 1843              		.global	Queue_Wifi_FW_Update_Event
 1844              		.syntax unified
 1845              		.thumb
 1846              		.thumb_func
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 91


 1847              		.fpu fpv4-sp-d16
 1849              	Queue_Wifi_FW_Update_Event:
 1850              	.LFB307:
2941:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Wait_For_Sock_Read_To_Complete();
 1851              		.loc 1 2941 0
 1852              		.cfi_startproc
 1853              		@ args = 0, pretend = 0, frame = 0
 1854              		@ frame_needed = 0, uses_anonymous_args = 0
 1855              	.LVL78:
 1856 0000 70B5     		push	{r4, r5, r6, lr}
 1857              	.LCFI19:
 1858              		.cfi_def_cfa_offset 16
 1859              		.cfi_offset 4, -16
 1860              		.cfi_offset 5, -12
 1861              		.cfi_offset 6, -8
 1862              		.cfi_offset 14, -4
 1863 0002 0546     		mov	r5, r0
 1864 0004 0E46     		mov	r6, r1
 1865 0006 1446     		mov	r4, r2
2942:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   wifi_instances.wifi_event.event = WIFI_FW_UPDATE_EVENT;
 1866              		.loc 1 2942 0
 1867 0008 FFF7FEFF 		bl	Wait_For_Sock_Read_To_Complete
 1868              	.LVL79:
2943:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_filename = filename_path;
 1869              		.loc 1 2943 0
 1870 000c 0A48     		ldr	r0, .L118
 1871 000e 2823     		movs	r3, #40
 1872 0010 80F82630 		strb	r3, [r0, #38]
2944:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_hostname = hostname;
 1873              		.loc 1 2944 0
 1874 0014 094B     		ldr	r3, .L118+4
 1875 0016 1E67     		str	r6, [r3, #112]
2945:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.curr_port_number = port_number;
 1876              		.loc 1 2945 0
 1877 0018 1D66     		str	r5, [r3, #96]
2946:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 1878              		.loc 1 2946 0
 1879 001a C3F8C040 		str	r4, [r3, #192]
 1880              	.LBB136:
 1881              	.LBB137:
 1882              		.loc 2 142 0
 1883              		.syntax unified
 1884              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1885 001e 72B6     		cpsid i
 1886              	@ 0 "" 2
 1887              		.thumb
 1888              		.syntax unified
 1889              	.LBE137:
 1890              	.LBE136:
2949:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __enable_irq();
 1891              		.loc 1 2949 0
 1892 0020 00F12004 		add	r4, r0, #32
 1893              	.LVL80:
 1894 0024 94E80600 		ldm	r4, {r1, r2}
 1895 0028 1430     		adds	r0, r0, #20
 1896 002a FFF7FEFF 		bl	push_eventbuffer_queue
 1897              	.LVL81:
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 92


 1898              	.LBB138:
 1899              	.LBB139:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 1900              		.loc 2 131 0
 1901              		.syntax unified
 1902              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1903 002e 62B6     		cpsie i
 1904              	@ 0 "" 2
 1905              		.thumb
 1906              		.syntax unified
 1907              	.LBE139:
 1908              	.LBE138:
2952:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 1909              		.loc 1 2952 0
 1910 0030 2046     		mov	r0, r4
 1911 0032 FFF7FEFF 		bl	reset_event
 1912              	.LVL82:
 1913 0036 70BD     		pop	{r4, r5, r6, pc}
 1914              	.LVL83:
 1915              	.L119:
 1916              		.align	2
 1917              	.L118:
 1918 0038 00000000 		.word	wifi_instances
 1919 003c 00000000 		.word	WiFi_Counter_Variables
 1920              		.cfi_endproc
 1921              	.LFE307:
 1923              		.section	.text.Queue_Client_Open_Event,"ax",%progbits
 1924              		.align	1
 1925              		.global	Queue_Client_Open_Event
 1926              		.syntax unified
 1927              		.thumb
 1928              		.thumb_func
 1929              		.fpu fpv4-sp-d16
 1931              	Queue_Client_Open_Event:
 1932              	.LFB308:
2964:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     Wait_For_Sock_Read_To_Complete();
 1933              		.loc 1 2964 0
 1934              		.cfi_startproc
 1935              		@ args = 0, pretend = 0, frame = 0
 1936              		@ frame_needed = 0, uses_anonymous_args = 0
 1937              	.LVL84:
 1938 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1939              	.LCFI20:
 1940              		.cfi_def_cfa_offset 24
 1941              		.cfi_offset 3, -24
 1942              		.cfi_offset 4, -20
 1943              		.cfi_offset 5, -16
 1944              		.cfi_offset 6, -12
 1945              		.cfi_offset 7, -8
 1946              		.cfi_offset 14, -4
 1947 0002 0746     		mov	r7, r0
 1948 0004 0E46     		mov	r6, r1
 1949 0006 1546     		mov	r5, r2
 1950 0008 1C46     		mov	r4, r3
2965:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     WiFi_Counter_Variables.curr_hostname = hostname;
 1951              		.loc 1 2965 0
 1952 000a FFF7FEFF 		bl	Wait_For_Sock_Read_To_Complete
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 93


 1953              	.LVL85:
2966:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     WiFi_Counter_Variables.curr_port_number = port_number;
 1954              		.loc 1 2966 0
 1955 000e 104B     		ldr	r3, .L126
 1956 0010 1F66     		str	r7, [r3, #96]
2967:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     WiFi_Counter_Variables.curr_protocol = protocol;
 1957              		.loc 1 2967 0
 1958 0012 C3F8C060 		str	r6, [r3, #192]
2968:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     
 1959              		.loc 1 2968 0
 1960 0016 DD66     		str	r5, [r3, #108]
2970:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       wifi_instances.wifi_event.event = WIFI_CLIENT_SOCKET_OPEN_EVENT;
 1961              		.loc 1 2970 0
 1962 0018 022C     		cmp	r4, #2
 1963 001a 0FD0     		beq	.L124
2972:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       wifi_instances.wifi_event.event = WIFI_CLIENT_WEB_SOCKET_OPEN_EVENT;
 1964              		.loc 1 2972 0
 1965 001c 012C     		cmp	r4, #1
 1966 001e 12D0     		beq	.L125
 1967              	.L122:
 1968              	.LBB140:
 1969              	.LBB141:
 1970              		.loc 2 142 0
 1971              		.syntax unified
 1972              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1973 0020 72B6     		cpsid i
 1974              	@ 0 "" 2
 1975              		.thumb
 1976              		.syntax unified
 1977              	.LBE141:
 1978              	.LBE140:
2976:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     __enable_irq();
 1979              		.loc 1 2976 0
 1980 0022 0C48     		ldr	r0, .L126+4
 1981 0024 00F12004 		add	r4, r0, #32
 1982 0028 94E80600 		ldm	r4, {r1, r2}
 1983 002c 1430     		adds	r0, r0, #20
 1984 002e FFF7FEFF 		bl	push_eventbuffer_queue
 1985              	.LVL86:
 1986              	.LBB142:
 1987              	.LBB143:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 1988              		.loc 2 131 0
 1989              		.syntax unified
 1990              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1991 0032 62B6     		cpsie i
 1992              	@ 0 "" 2
 1993              		.thumb
 1994              		.syntax unified
 1995              	.LBE143:
 1996              	.LBE142:
2979:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 1997              		.loc 1 2979 0
 1998 0034 2046     		mov	r0, r4
 1999 0036 FFF7FEFF 		bl	reset_event
 2000              	.LVL87:
 2001 003a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 94


 2002              	.LVL88:
 2003              	.L124:
2971:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     else if(type==WEB_SOCKET)
 2004              		.loc 1 2971 0
 2005 003c 1022     		movs	r2, #16
 2006 003e 054B     		ldr	r3, .L126+4
 2007 0040 83F82620 		strb	r2, [r3, #38]
 2008 0044 ECE7     		b	.L122
 2009              	.L125:
2973:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     
 2010              		.loc 1 2973 0
 2011 0046 1E22     		movs	r2, #30
 2012 0048 024B     		ldr	r3, .L126+4
 2013 004a 83F82620 		strb	r2, [r3, #38]
 2014 004e E7E7     		b	.L122
 2015              	.L127:
 2016              		.align	2
 2017              	.L126:
 2018 0050 00000000 		.word	WiFi_Counter_Variables
 2019 0054 00000000 		.word	wifi_instances
 2020              		.cfi_endproc
 2021              	.LFE308:
 2023              		.section	.text.Queue_Server_Open_Event,"ax",%progbits
 2024              		.align	1
 2025              		.global	Queue_Server_Open_Event
 2026              		.syntax unified
 2027              		.thumb
 2028              		.thumb_func
 2029              		.fpu fpv4-sp-d16
 2031              	Queue_Server_Open_Event:
 2032              	.LFB309:
2991:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     Wait_For_Sock_Read_To_Complete();
 2033              		.loc 1 2991 0
 2034              		.cfi_startproc
 2035              		@ args = 0, pretend = 0, frame = 0
 2036              		@ frame_needed = 0, uses_anonymous_args = 0
 2037              	.LVL89:
 2038 0000 38B5     		push	{r3, r4, r5, lr}
 2039              	.LCFI21:
 2040              		.cfi_def_cfa_offset 16
 2041              		.cfi_offset 3, -16
 2042              		.cfi_offset 4, -12
 2043              		.cfi_offset 5, -8
 2044              		.cfi_offset 14, -4
 2045 0002 0546     		mov	r5, r0
 2046 0004 0C46     		mov	r4, r1
2992:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     WiFi_Counter_Variables.curr_port_number = port_number;
 2047              		.loc 1 2992 0
 2048 0006 FFF7FEFF 		bl	Wait_For_Sock_Read_To_Complete
 2049              	.LVL90:
2993:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     WiFi_Counter_Variables.curr_protocol = protocol;
 2050              		.loc 1 2993 0
 2051 000a 0A4B     		ldr	r3, .L130
 2052 000c C3F8C050 		str	r5, [r3, #192]
2994:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 2053              		.loc 1 2994 0
 2054 0010 DC66     		str	r4, [r3, #108]
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 95


2996:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****      __disable_irq();
 2055              		.loc 1 2996 0
 2056 0012 0948     		ldr	r0, .L130+4
 2057 0014 1723     		movs	r3, #23
 2058 0016 80F82630 		strb	r3, [r0, #38]
 2059              	.LBB144:
 2060              	.LBB145:
 2061              		.loc 2 142 0
 2062              		.syntax unified
 2063              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2064 001a 72B6     		cpsid i
 2065              	@ 0 "" 2
 2066              		.thumb
 2067              		.syntax unified
 2068              	.LBE145:
 2069              	.LBE144:
2998:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     __enable_irq();
 2070              		.loc 1 2998 0
 2071 001c 00F12004 		add	r4, r0, #32
 2072              	.LVL91:
 2073 0020 94E80600 		ldm	r4, {r1, r2}
 2074 0024 1430     		adds	r0, r0, #20
 2075 0026 FFF7FEFF 		bl	push_eventbuffer_queue
 2076              	.LVL92:
 2077              	.LBB146:
 2078              	.LBB147:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 2079              		.loc 2 131 0
 2080              		.syntax unified
 2081              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2082 002a 62B6     		cpsie i
 2083              	@ 0 "" 2
 2084              		.thumb
 2085              		.syntax unified
 2086              	.LBE147:
 2087              	.LBE146:
3001:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 2088              		.loc 1 3001 0
 2089 002c 2046     		mov	r0, r4
 2090 002e FFF7FEFF 		bl	reset_event
 2091              	.LVL93:
 2092 0032 38BD     		pop	{r3, r4, r5, pc}
 2093              	.LVL94:
 2094              	.L131:
 2095              		.align	2
 2096              	.L130:
 2097 0034 00000000 		.word	WiFi_Counter_Variables
 2098 0038 00000000 		.word	wifi_instances
 2099              		.cfi_endproc
 2100              	.LFE309:
 2102              		.section	.text.Queue_Client_Close_Event,"ax",%progbits
 2103              		.align	1
 2104              		.global	Queue_Client_Close_Event
 2105              		.syntax unified
 2106              		.thumb
 2107              		.thumb_func
 2108              		.fpu fpv4-sp-d16
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 96


 2110              	Queue_Client_Close_Event:
 2111              	.LFB310:
3011:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     Wait_For_Sock_Read_To_Complete();
 2112              		.loc 1 3011 0
 2113              		.cfi_startproc
 2114              		@ args = 0, pretend = 0, frame = 0
 2115              		@ frame_needed = 0, uses_anonymous_args = 0
 2116              	.LVL95:
 2117 0000 38B5     		push	{r3, r4, r5, lr}
 2118              	.LCFI22:
 2119              		.cfi_def_cfa_offset 16
 2120              		.cfi_offset 3, -16
 2121              		.cfi_offset 4, -12
 2122              		.cfi_offset 5, -8
 2123              		.cfi_offset 14, -4
 2124 0002 0546     		mov	r5, r0
 2125 0004 0C46     		mov	r4, r1
3012:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     
 2126              		.loc 1 3012 0
 2127 0006 FFF7FEFF 		bl	Wait_For_Sock_Read_To_Complete
 2128              	.LVL96:
3014:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       wifi_instances.wifi_event.event = WIFI_CLIENT_SOCKET_CLOSE_EVENT;
 2129              		.loc 1 3014 0
 2130 000a 022C     		cmp	r4, #2
 2131 000c 15D0     		beq	.L136
3016:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       wifi_instances.wifi_event.event = WIFI_CLIENT_WEB_SOCKET_CLOSE_EVENT;
 2132              		.loc 1 3016 0
 2133 000e 012C     		cmp	r4, #1
 2134 0010 18D0     		beq	.L137
 2135              	.L134:
3018:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     __disable_irq();
 2136              		.loc 1 3018 0
 2137 0012 0F48     		ldr	r0, .L138
 2138 0014 90F82130 		ldrb	r3, [r0, #33]	@ zero_extendqisi2
 2139 0018 65F30303 		bfi	r3, r5, #0, #4
 2140 001c 80F82130 		strb	r3, [r0, #33]
 2141              	.LBB148:
 2142              	.LBB149:
 2143              		.loc 2 142 0
 2144              		.syntax unified
 2145              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2146 0020 72B6     		cpsid i
 2147              	@ 0 "" 2
 2148              		.thumb
 2149              		.syntax unified
 2150              	.LBE149:
 2151              	.LBE148:
3020:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     __enable_irq();
 2152              		.loc 1 3020 0
 2153 0022 00F12004 		add	r4, r0, #32
 2154 0026 94E80600 		ldm	r4, {r1, r2}
 2155 002a 1430     		adds	r0, r0, #20
 2156 002c FFF7FEFF 		bl	push_eventbuffer_queue
 2157              	.LVL97:
 2158              	.LBB150:
 2159              	.LBB151:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 97


 2160              		.loc 2 131 0
 2161              		.syntax unified
 2162              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2163 0030 62B6     		cpsie i
 2164              	@ 0 "" 2
 2165              		.thumb
 2166              		.syntax unified
 2167              	.LBE151:
 2168              	.LBE150:
3023:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 2169              		.loc 1 3023 0
 2170 0032 2046     		mov	r0, r4
 2171 0034 FFF7FEFF 		bl	reset_event
 2172              	.LVL98:
 2173 0038 38BD     		pop	{r3, r4, r5, pc}
 2174              	.L136:
3015:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     else if(type==WEB_SOCKET)
 2175              		.loc 1 3015 0
 2176 003a 1522     		movs	r2, #21
 2177 003c 044B     		ldr	r3, .L138
 2178 003e 83F82620 		strb	r2, [r3, #38]
 2179 0042 E6E7     		b	.L134
 2180              	.L137:
3017:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     wifi_instances.wifi_event.socket_id = sock_id;
 2181              		.loc 1 3017 0
 2182 0044 2322     		movs	r2, #35
 2183 0046 024B     		ldr	r3, .L138
 2184 0048 83F82620 		strb	r2, [r3, #38]
 2185 004c E1E7     		b	.L134
 2186              	.L139:
 2187 004e 00BF     		.align	2
 2188              	.L138:
 2189 0050 00000000 		.word	wifi_instances
 2190              		.cfi_endproc
 2191              	.LFE310:
 2193              		.section	.text.Queue_Server_Close_Event,"ax",%progbits
 2194              		.align	1
 2195              		.global	Queue_Server_Close_Event
 2196              		.syntax unified
 2197              		.thumb
 2198              		.thumb_func
 2199              		.fpu fpv4-sp-d16
 2201              	Queue_Server_Close_Event:
 2202              	.LFB311:
3034:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     Wait_For_Sock_Read_To_Complete();
 2203              		.loc 1 3034 0
 2204              		.cfi_startproc
 2205              		@ args = 0, pretend = 0, frame = 0
 2206              		@ frame_needed = 0, uses_anonymous_args = 0
 2207              	.LVL99:
 2208 0000 38B5     		push	{r3, r4, r5, lr}
 2209              	.LCFI23:
 2210              		.cfi_def_cfa_offset 16
 2211              		.cfi_offset 3, -16
 2212              		.cfi_offset 4, -12
 2213              		.cfi_offset 5, -8
 2214              		.cfi_offset 14, -4
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 98


 2215 0002 0546     		mov	r5, r0
 2216 0004 0C46     		mov	r4, r1
3035:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     wifi_instances.wifi_event.server_id = server_id;
 2217              		.loc 1 3035 0
 2218 0006 FFF7FEFF 		bl	Wait_For_Sock_Read_To_Complete
 2219              	.LVL100:
3036:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     wifi_instances.wifi_event.socket_id = client_id;
 2220              		.loc 1 3036 0
 2221 000a 0C48     		ldr	r0, .L142
 2222 000c 90F82130 		ldrb	r3, [r0, #33]	@ zero_extendqisi2
 2223 0010 65F30713 		bfi	r3, r5, #4, #4
3037:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 2224              		.loc 1 3037 0
 2225 0014 64F30303 		bfi	r3, r4, #0, #4
 2226 0018 80F82130 		strb	r3, [r0, #33]
3039:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     __disable_irq();
 2227              		.loc 1 3039 0
 2228 001c 1C23     		movs	r3, #28
 2229 001e 80F82630 		strb	r3, [r0, #38]
 2230              	.LBB152:
 2231              	.LBB153:
 2232              		.loc 2 142 0
 2233              		.syntax unified
 2234              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2235 0022 72B6     		cpsid i
 2236              	@ 0 "" 2
 2237              		.thumb
 2238              		.syntax unified
 2239              	.LBE153:
 2240              	.LBE152:
3041:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     __enable_irq();
 2241              		.loc 1 3041 0
 2242 0024 00F12004 		add	r4, r0, #32
 2243 0028 94E80600 		ldm	r4, {r1, r2}
 2244 002c 1430     		adds	r0, r0, #20
 2245 002e FFF7FEFF 		bl	push_eventbuffer_queue
 2246              	.LVL101:
 2247              	.LBB154:
 2248              	.LBB155:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 2249              		.loc 2 131 0
 2250              		.syntax unified
 2251              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2252 0032 62B6     		cpsie i
 2253              	@ 0 "" 2
 2254              		.thumb
 2255              		.syntax unified
 2256              	.LBE155:
 2257              	.LBE154:
3044:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 2258              		.loc 1 3044 0
 2259 0034 2046     		mov	r0, r4
 2260 0036 FFF7FEFF 		bl	reset_event
 2261              	.LVL102:
 2262 003a 38BD     		pop	{r3, r4, r5, pc}
 2263              	.L143:
 2264              		.align	2
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 99


 2265              	.L142:
 2266 003c 00000000 		.word	wifi_instances
 2267              		.cfi_endproc
 2268              	.LFE311:
 2270              		.section	.text.Queue_Client_List_Event,"ax",%progbits
 2271              		.align	1
 2272              		.global	Queue_Client_List_Event
 2273              		.syntax unified
 2274              		.thumb
 2275              		.thumb_func
 2276              		.fpu fpv4-sp-d16
 2278              	Queue_Client_List_Event:
 2279              	.LFB312:
3048:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     Wait_For_Sock_Read_To_Complete();
 2280              		.loc 1 3048 0
 2281              		.cfi_startproc
 2282              		@ args = 0, pretend = 0, frame = 0
 2283              		@ frame_needed = 0, uses_anonymous_args = 0
 2284              	.LVL103:
 2285 0000 10B5     		push	{r4, lr}
 2286              	.LCFI24:
 2287              		.cfi_def_cfa_offset 8
 2288              		.cfi_offset 4, -8
 2289              		.cfi_offset 14, -4
 2290 0002 0446     		mov	r4, r0
3049:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 2291              		.loc 1 3049 0
 2292 0004 FFF7FEFF 		bl	Wait_For_Sock_Read_To_Complete
 2293              	.LVL104:
3051:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       wifi_instances.wifi_event.event = WIFI_CLIENT_SOCKET_LIST_EVENT;
 2294              		.loc 1 3051 0
 2295 0008 022C     		cmp	r4, #2
 2296 000a 0FD0     		beq	.L148
3053:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       wifi_instances.wifi_event.event = WIFI_CLIENT_WEB_SOCKET_LIST_EVENT;
 2297              		.loc 1 3053 0
 2298 000c 012C     		cmp	r4, #1
 2299 000e 12D0     		beq	.L149
 2300              	.L146:
 2301              	.LBB156:
 2302              	.LBB157:
 2303              		.loc 2 142 0
 2304              		.syntax unified
 2305              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2306 0010 72B6     		cpsid i
 2307              	@ 0 "" 2
 2308              		.thumb
 2309              		.syntax unified
 2310              	.LBE157:
 2311              	.LBE156:
3057:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     __enable_irq();
 2312              		.loc 1 3057 0
 2313 0012 0B48     		ldr	r0, .L150
 2314 0014 00F12004 		add	r4, r0, #32
 2315 0018 94E80600 		ldm	r4, {r1, r2}
 2316 001c 1430     		adds	r0, r0, #20
 2317 001e FFF7FEFF 		bl	push_eventbuffer_queue
 2318              	.LVL105:
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 100


 2319              	.LBB158:
 2320              	.LBB159:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 2321              		.loc 2 131 0
 2322              		.syntax unified
 2323              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2324 0022 62B6     		cpsie i
 2325              	@ 0 "" 2
 2326              		.thumb
 2327              		.syntax unified
 2328              	.LBE159:
 2329              	.LBE158:
3060:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 2330              		.loc 1 3060 0
 2331 0024 2046     		mov	r0, r4
 2332 0026 FFF7FEFF 		bl	reset_event
 2333              	.LVL106:
 2334 002a 10BD     		pop	{r4, pc}
 2335              	.L148:
3052:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     else if(type==WEB_SOCKET)
 2336              		.loc 1 3052 0
 2337 002c 1322     		movs	r2, #19
 2338 002e 044B     		ldr	r3, .L150
 2339 0030 83F82620 		strb	r2, [r3, #38]
 2340 0034 ECE7     		b	.L146
 2341              	.L149:
3054:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     
 2342              		.loc 1 3054 0
 2343 0036 2122     		movs	r2, #33
 2344 0038 014B     		ldr	r3, .L150
 2345 003a 83F82620 		strb	r2, [r3, #38]
 2346 003e E7E7     		b	.L146
 2347              	.L151:
 2348              		.align	2
 2349              	.L150:
 2350 0040 00000000 		.word	wifi_instances
 2351              		.cfi_endproc
 2352              	.LFE312:
 2354              		.section	.text.Queue_Server_List_Event,"ax",%progbits
 2355              		.align	1
 2356              		.global	Queue_Server_List_Event
 2357              		.syntax unified
 2358              		.thumb
 2359              		.thumb_func
 2360              		.fpu fpv4-sp-d16
 2362              	Queue_Server_List_Event:
 2363              	.LFB313:
3064:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Wait_For_Sock_Read_To_Complete();
 2364              		.loc 1 3064 0
 2365              		.cfi_startproc
 2366              		@ args = 0, pretend = 0, frame = 0
 2367              		@ frame_needed = 0, uses_anonymous_args = 0
 2368 0000 10B5     		push	{r4, lr}
 2369              	.LCFI25:
 2370              		.cfi_def_cfa_offset 8
 2371              		.cfi_offset 4, -8
 2372              		.cfi_offset 14, -4
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 101


3065:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   wifi_instances.wifi_event.event = WIFI_SERVER_SOCKET_LIST_EVENT;
 2373              		.loc 1 3065 0
 2374 0002 FFF7FEFF 		bl	Wait_For_Sock_Read_To_Complete
 2375              	.LVL107:
3066:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     
 2376              		.loc 1 3066 0
 2377 0006 0848     		ldr	r0, .L154
 2378 0008 1A23     		movs	r3, #26
 2379 000a 80F82630 		strb	r3, [r0, #38]
 2380              	.LBB160:
 2381              	.LBB161:
 2382              		.loc 2 142 0
 2383              		.syntax unified
 2384              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2385 000e 72B6     		cpsid i
 2386              	@ 0 "" 2
 2387              		.thumb
 2388              		.syntax unified
 2389              	.LBE161:
 2390              	.LBE160:
3069:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   __enable_irq();
 2391              		.loc 1 3069 0
 2392 0010 00F12004 		add	r4, r0, #32
 2393 0014 94E80600 		ldm	r4, {r1, r2}
 2394 0018 1430     		adds	r0, r0, #20
 2395 001a FFF7FEFF 		bl	push_eventbuffer_queue
 2396              	.LVL108:
 2397              	.LBB162:
 2398              	.LBB163:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 2399              		.loc 2 131 0
 2400              		.syntax unified
 2401              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2402 001e 62B6     		cpsie i
 2403              	@ 0 "" 2
 2404              		.thumb
 2405              		.syntax unified
 2406              	.LBE163:
 2407              	.LBE162:
3072:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 2408              		.loc 1 3072 0
 2409 0020 2046     		mov	r0, r4
 2410 0022 FFF7FEFF 		bl	reset_event
 2411              	.LVL109:
 2412 0026 10BD     		pop	{r4, pc}
 2413              	.L155:
 2414              		.align	2
 2415              	.L154:
 2416 0028 00000000 		.word	wifi_instances
 2417              		.cfi_endproc
 2418              	.LFE313:
 2420              		.section	.text.Reset_AT_CMD_Buffer,"ax",%progbits
 2421              		.align	1
 2422              		.global	Reset_AT_CMD_Buffer
 2423              		.syntax unified
 2424              		.thumb
 2425              		.thumb_func
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 102


 2426              		.fpu fpv4-sp-d16
 2428              	Reset_AT_CMD_Buffer:
 2429              	.LFB315:
3088:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
3089:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3090:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3091:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3092:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Reset_AT_CMD_Buffer
3093:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Clear USART2 Rx buffer and Wi-Fi AT cmd buffer
3094:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
3095:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
3096:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3097:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Reset_AT_CMD_Buffer()
3098:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 2430              		.loc 1 3098 0
 2431              		.cfi_startproc
 2432              		@ args = 0, pretend = 0, frame = 0
 2433              		@ frame_needed = 0, uses_anonymous_args = 0
 2434 0000 08B5     		push	{r3, lr}
 2435              	.LCFI26:
 2436              		.cfi_def_cfa_offset 8
 2437              		.cfi_offset 3, -8
 2438              		.cfi_offset 14, -4
3099:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   memset(WiFi_AT_Cmd_Buff, 0x00, sizeof WiFi_AT_Cmd_Buff); 
 2439              		.loc 1 3099 0
 2440 0002 4FF40062 		mov	r2, #2048
 2441 0006 0021     		movs	r1, #0
 2442 0008 0148     		ldr	r0, .L158
 2443 000a FFF7FEFF 		bl	memset
 2444              	.LVL110:
 2445 000e 08BD     		pop	{r3, pc}
 2446              	.L159:
 2447              		.align	2
 2448              	.L158:
 2449 0010 00000000 		.word	WiFi_AT_Cmd_Buff
 2450              		.cfi_endproc
 2451              	.LFE315:
 2453              		.section	.text.PrintErrorMsg,"ax",%progbits
 2454              		.align	1
 2455              		.global	PrintErrorMsg
 2456              		.syntax unified
 2457              		.thumb
 2458              		.thumb_func
 2459              		.fpu fpv4-sp-d16
 2461              	PrintErrorMsg:
 2462              	.LFB319:
3100:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3101:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3102:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef  USE_FULL_ASSERT
3103:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3104:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3105:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Reports the name of the source file and the source line number
3106:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         where the assert_param error has occurred.
3107:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  file: pointer to the source file name
3108:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  line: assert_param error line source number
3109:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
3110:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 103


3111:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void assert_failed(uint8_t* file, uint32_t line)
3112:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
3113:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* User can add his own implementation to report the file name and line number,
3114:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   ex: printf("Wrong parameters value: file %s on line %d\r\n", file, line) */
3115:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
3116:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* Infinite loop */
3117:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   while (1)
3118:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
3119:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       __NOP(); //nothing to do
3120:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
3121:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3122:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3123:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
3124:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3125:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3126:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Read_WiFi_Mode
3127:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Read Wi-Fi mode 0: idle,1 =STA,2 =IBSS,3 =MiniAP
3128:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  string : return wifi mode type
3129:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval return status of AT cmd request
3130:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3131:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** WiFi_Status_t Read_WiFi_Mode(char *string)
3132:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
3133:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Status_t status = WiFi_MODULE_SUCCESS;
3134:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   char *mode = "wifi_mode";
3135:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   char *pStr;
3136:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
3137:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     /* AT+S.GCFG=wifi_mode */
3138:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Reset_AT_CMD_Buffer();
3139:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
3140:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* AT : send AT command */  
3141:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   sprintf((char*)WiFi_AT_Cmd_Buff,AT_GET_CONFIGURATION_VALUE,mode);  
3142:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
3143:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
3144:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(status == WiFi_MODULE_SUCCESS)
3145:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
3146:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       status = USART_Receive_AT_Resp( );
3147:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
3148:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
3149:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   pStr = (char *) strstr((const char *)&WiFi_Counter_Variables.get_cfg_value,"wifi_mode = ");
3150:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(pStr != NULL)
3151:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
3152:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       string[0] = *(pStr + 12) ;
3153:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
3154:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3155:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   return status ;
3156:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3157:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3158:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3159:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Write_WiFi_SSID
3160:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Store SSID in flash memory of WiFi module
3161:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  string : pointer of SSID
3162:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval return status of AT cmd request
3163:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3164:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** WiFi_Status_t Write_WiFi_SSID(char *string)
3165:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
3166:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Status_t status = WiFi_MODULE_SUCCESS;  
3167:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Reset_AT_CMD_Buffer(); 
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 104


3168:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
3169:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* AT+S.SSIDTXT=abcd <ExampleSSID> //set SSID */
3170:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   sprintf((char*)WiFi_AT_Cmd_Buff,AT_SET_SSID,string);  
3171:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
3172:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
3173:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(status == WiFi_MODULE_SUCCESS)
3174:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
3175:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       status = USART_Receive_AT_Resp( );
3176:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
3177:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3178:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* AT&W :Save the settings on the flash memory */
3179:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Reset_AT_CMD_Buffer();
3180:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Save_Current_Setting();
3181:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3182:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   return status;
3183:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3184:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3185:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3186:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Write_WiFi_SecKey
3187:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Store security key in flash memory of WiFi module
3188:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  string : pointer of security key
3189:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval return status of AT cmd request
3190:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3191:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** WiFi_Status_t Write_WiFi_SecKey(char *string)
3192:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
3193:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Status_t status = WiFi_MODULE_SUCCESS;  
3194:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Reset_AT_CMD_Buffer(); 
3195:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
3196:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* AT+S.SCFG=wifi_wpa_psk_text,helloworld : set password */
3197:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.SCFG=wifi_wpa_psk_text,%s\r",string);
3198:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
3199:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
3200:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(status == WiFi_MODULE_SUCCESS)
3201:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
3202:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       status = USART_Receive_AT_Resp( );
3203:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
3204:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
3205:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* AT&W :Save the settings on the flash memory */
3206:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Reset_AT_CMD_Buffer();
3207:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Save_Current_Setting();
3208:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
3209:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   return status;     
3210:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3211:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3212:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3213:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  PrintErrorMsg
3214:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Print error message on UART terminal
3215:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
3216:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
3217:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3218:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void PrintErrorMsg (void)
3219:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 2463              		.loc 1 3219 0
 2464              		.cfi_startproc
 2465              		@ args = 0, pretend = 0, frame = 0
 2466              		@ frame_needed = 0, uses_anonymous_args = 0
 2467              		@ link register save eliminated.
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 105


 2468 0000 7047     		bx	lr
 2469              		.cfi_endproc
 2470              	.LFE319:
 2472              		.section	.text.Print_Msg,"ax",%progbits
 2473              		.align	1
 2474              		.global	Print_Msg
 2475              		.syntax unified
 2476              		.thumb
 2477              		.thumb_func
 2478              		.fpu fpv4-sp-d16
 2480              	Print_Msg:
 2481              	.LFB320:
3220:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Print_Msg("error in AT cmd",sizeof("error in AT cmd"));
3221:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3222:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3223:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3224:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   * @brief  Print_Msg
3225:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   *         Print messages on UART terminal
3226:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   * @param  msgBuff : Contains data that need to be print
3227:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   * @param  length  : leghth of the data
3228:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   * @retval None
3229:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   */
3230:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Print_Msg(char * msgBuff,uint8_t length)
3231:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 2482              		.loc 1 3231 0
 2483              		.cfi_startproc
 2484              		@ args = 0, pretend = 0, frame = 0
 2485              		@ frame_needed = 0, uses_anonymous_args = 0
 2486              		@ link register save eliminated.
 2487              	.LVL111:
 2488 0000 7047     		bx	lr
 2489              		.cfi_endproc
 2490              	.LFE320:
 2492              		.section	.text.Error_Handler,"ax",%progbits
 2493              		.align	1
 2494              		.global	Error_Handler
 2495              		.syntax unified
 2496              		.thumb
 2497              		.thumb_func
 2498              		.fpu fpv4-sp-d16
 2500              	Error_Handler:
 2501              	.LFB321:
3232:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3233:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3234:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3235:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3236:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Error_Handler
3237:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         This function is executed in case of Hardware error occurrence.
3238:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
3239:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
3240:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3241:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Error_Handler(void)
3242:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 2502              		.loc 1 3242 0
 2503              		.cfi_startproc
 2504              		@ args = 0, pretend = 0, frame = 0
 2505              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 106


 2506              		.loc 1 3242 0
 2507 0000 08B5     		push	{r3, lr}
 2508              	.LCFI27:
 2509              		.cfi_def_cfa_offset 8
 2510              		.cfi_offset 3, -8
 2511              		.cfi_offset 14, -4
3243:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* Turn LED2 on */
3244:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   BSP_LED_On(LED2);
 2512              		.loc 1 3244 0
 2513 0002 0020     		movs	r0, #0
 2514 0004 FFF7FEFF 		bl	BSP_LED_On
 2515              	.LVL112:
 2516 0008 08BD     		pop	{r3, pc}
 2517              		.cfi_endproc
 2518              	.LFE321:
 2520              		.section	.text.WiFi_UART_Error_Handler,"ax",%progbits
 2521              		.align	1
 2522              		.global	WiFi_UART_Error_Handler
 2523              		.syntax unified
 2524              		.thumb
 2525              		.thumb_func
 2526              		.fpu fpv4-sp-d16
 2528              	WiFi_UART_Error_Handler:
 2529              	.LFB322:
3245:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3246:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3247:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3248:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  WiFi_UART_Error_Handler
3249:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         This function is executed in case of error occurrence.
3250:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
3251:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
3252:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3253:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void WiFi_UART_Error_Handler(void)
3254:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 2530              		.loc 1 3254 0
 2531              		.cfi_startproc
 2532              		@ args = 0, pretend = 0, frame = 0
 2533              		@ frame_needed = 0, uses_anonymous_args = 0
 2534 0000 08B5     		push	{r3, lr}
 2535              	.LCFI28:
 2536              		.cfi_def_cfa_offset 8
 2537              		.cfi_offset 3, -8
 2538              		.cfi_offset 14, -4
3255:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* Turn LED2 on */
3256:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   BSP_LED_On(LED2);
 2539              		.loc 1 3256 0
 2540 0002 0020     		movs	r0, #0
 2541 0004 FFF7FEFF 		bl	BSP_LED_On
 2542              	.LVL113:
3257:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
3258:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* start receiving data from UART only in case of SPWF01 */
3259:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   #if defined (SPWF01) && !defined (WIFI_USE_VCOM)
3260:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     Receive_Data();
 2543              		.loc 1 3260 0
 2544 0008 FFF7FEFF 		bl	Receive_Data
 2545              	.LVL114:
 2546 000c 08BD     		pop	{r3, pc}
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 107


 2547              		.cfi_endproc
 2548              	.LFE322:
 2550              		.section	.text.WiFi_Module_Init,"ax",%progbits
 2551              		.align	1
 2552              		.global	WiFi_Module_Init
 2553              		.syntax unified
 2554              		.thumb
 2555              		.thumb_func
 2556              		.fpu fpv4-sp-d16
 2558              	WiFi_Module_Init:
 2559              	.LFB275:
 435:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef WIFI_USE_VCOM
 2560              		.loc 1 435 0
 2561              		.cfi_startproc
 2562              		@ args = 0, pretend = 0, frame = 0
 2563              		@ frame_needed = 0, uses_anonymous_args = 0
 2564 0000 38B5     		push	{r3, r4, r5, lr}
 2565              	.LCFI29:
 2566              		.cfi_def_cfa_offset 16
 2567              		.cfi_offset 3, -16
 2568              		.cfi_offset 4, -12
 2569              		.cfi_offset 5, -8
 2570              		.cfi_offset 14, -4
 443:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 2571              		.loc 1 443 0
 2572 0002 134D     		ldr	r5, .L170
 2573 0004 4FF48061 		mov	r1, #1024
 2574 0008 2846     		mov	r0, r5
 2575 000a FFF7FEFF 		bl	init
 2576              	.LVL115:
 446:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   wifi_connected = 0; //reset to get user callback on WiFi UP
 2577              		.loc 1 446 0
 2578 000e 114A     		ldr	r2, .L170+4
 2579 0010 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 2580 0012 6FF34303 		bfc	r3, #1, #3
 2581 0016 5370     		strb	r3, [r2, #1]
 447:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 2582              		.loc 1 447 0
 2583 0018 0024     		movs	r4, #0
 2584 001a 0F4B     		ldr	r3, .L170+8
 2585 001c 1C70     		strb	r4, [r3]
 452:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #else
 2586              		.loc 1 452 0
 2587 001e FFF7FEFF 		bl	Receive_Data
 2588              	.LVL116:
 464:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Set_WiFi_Control_Variables( );
 2589              		.loc 1 464 0
 2590 0022 FFF7FEFF 		bl	Set_WiFi_Counter_Variables
 2591              	.LVL117:
 465:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 2592              		.loc 1 465 0
 2593 0026 FFF7FEFF 		bl	Set_WiFi_Control_Variables
 2594              	.LVL118:
 470:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 2595              		.loc 1 470 0
 2596 002a 3221     		movs	r1, #50
 2597 002c 05F11400 		add	r0, r5, #20
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 108


 2598 0030 FFF7FEFF 		bl	event_init
 2599              	.LVL119:
 474:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   memset(open_sockets,0x00, 8); //init the open socket array
 2600              		.loc 1 474 0
 2601 0034 FFF7FEFF 		bl	Start_Timer
 2602              	.LVL120:
 475:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 2603              		.loc 1 475 0
 2604 0038 084B     		ldr	r3, .L170+12
 2605 003a 1C60     		str	r4, [r3]	@ unaligned
 2606 003c 5C60     		str	r4, [r3, #4]	@ unaligned
 477:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
 2607              		.loc 1 477 0
 2608 003e 0848     		ldr	r0, .L170+16
 2609 0040 FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 2610              	.LVL121:
 2611 0044 00B9     		cbnz	r0, .L169
 2612              	.L166:
 2613 0046 38BD     		pop	{r3, r4, r5, pc}
 2614              	.L169:
 482:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 2615              		.loc 1 482 0
 2616 0048 FFF7FEFF 		bl	WiFi_UART_Error_Handler
 2617              	.LVL122:
 485:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 2618              		.loc 1 485 0
 2619 004c FBE7     		b	.L166
 2620              	.L171:
 2621 004e 00BF     		.align	2
 2622              	.L170:
 2623 0050 00000000 		.word	wifi_instances
 2624 0054 00000000 		.word	IO_status_flag
 2625 0058 00000000 		.word	wifi_connected
 2626 005c 00000000 		.word	open_sockets
 2627 0060 00000000 		.word	TimHandle
 2628              		.cfi_endproc
 2629              	.LFE275:
 2631              		.section	.text.WiFi_HAL_UART_ErrorCallback,"ax",%progbits
 2632              		.align	1
 2633              		.global	WiFi_HAL_UART_ErrorCallback
 2634              		.syntax unified
 2635              		.thumb
 2636              		.thumb_func
 2637              		.fpu fpv4-sp-d16
 2639              	WiFi_HAL_UART_ErrorCallback:
 2640              	.LFB292:
2296:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     WiFi_UART_Error_Handler();
 2641              		.loc 1 2296 0
 2642              		.cfi_startproc
 2643              		@ args = 0, pretend = 0, frame = 0
 2644              		@ frame_needed = 0, uses_anonymous_args = 0
 2645              	.LVL123:
 2646 0000 08B5     		push	{r3, lr}
 2647              	.LCFI30:
 2648              		.cfi_def_cfa_offset 8
 2649              		.cfi_offset 3, -8
 2650              		.cfi_offset 14, -4
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 109


2297:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 2651              		.loc 1 2297 0
 2652 0002 FFF7FEFF 		bl	WiFi_UART_Error_Handler
 2653              	.LVL124:
 2654 0006 08BD     		pop	{r3, pc}
 2655              		.cfi_endproc
 2656              	.LFE292:
 2658              		.section	.text.USART_Transmit_AT_Cmd,"ax",%progbits
 2659              		.align	1
 2660              		.global	USART_Transmit_AT_Cmd
 2661              		.syntax unified
 2662              		.thumb
 2663              		.thumb_func
 2664              		.fpu fpv4-sp-d16
 2666              	USART_Transmit_AT_Cmd:
 2667              	.LFB323:
3261:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   #endif
3262:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3263:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3264:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3265:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  USART_Transmit_AT_Cmd
3266:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         send AT cmd on UART port of wifi module.
3267:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  size size of the AT command
3268:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval WiFi_Status_t : status of AT cmd
3269:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3270:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** WiFi_Status_t USART_Transmit_AT_Cmd(uint16_t size)
3271:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 2668              		.loc 1 3271 0
 2669              		.cfi_startproc
 2670              		@ args = 0, pretend = 0, frame = 0
 2671              		@ frame_needed = 0, uses_anonymous_args = 0
 2672              	.LVL125:
 2673 0000 08B5     		push	{r3, lr}
 2674              	.LCFI31:
 2675              		.cfi_def_cfa_offset 8
 2676              		.cfi_offset 3, -8
 2677              		.cfi_offset 14, -4
3272:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   //Check for Hardware Started
3273:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(IO_status_flag.WiFi_Enabled == WIFI_FALSE && IO_status_flag.radio_off == WIFI_FALSE) 
 2678              		.loc 1 3273 0
 2679 0002 1F4B     		ldr	r3, .L187
 2680 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2681 0006 13F0100F 		tst	r3, #16
 2682 000a 06D1     		bne	.L175
 2683              		.loc 1 3273 0 is_stmt 0 discriminator 1
 2684 000c 1C4B     		ldr	r3, .L187
 2685 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2686 0010 13F0400F 		tst	r3, #64
 2687 0014 01D1     		bne	.L175
3274:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     return WiFi_NOT_READY;
 2688              		.loc 1 3274 0 is_stmt 1
 2689 0016 0520     		movs	r0, #5
 2690              	.LVL126:
 2691 0018 08BD     		pop	{r3, pc}
 2692              	.LVL127:
 2693              	.L175:
3275:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   //Check for Deep-Sleep or Standby Mode, return error if true
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 110


3276:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if (WiFi_Control_Variables.Standby_Enabled == WIFI_TRUE || WiFi_Control_Variables.Deep_Sleep_Enab
 2694              		.loc 1 3276 0
 2695 001a 1A4B     		ldr	r3, .L187+4
 2696 001c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2697 001e 13F0010F 		tst	r3, #1
 2698 0022 01D0     		beq	.L184
3277:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     return WiFi_IN_LOW_POWER_ERROR;
 2699              		.loc 1 3277 0
 2700 0024 1020     		movs	r0, #16
 2701              	.LVL128:
 2702 0026 08BD     		pop	{r3, pc}
 2703              	.LVL129:
 2704              	.L184:
3276:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     return WiFi_IN_LOW_POWER_ERROR;
 2705              		.loc 1 3276 0 discriminator 1
 2706 0028 164B     		ldr	r3, .L187+4
 2707 002a 93F90030 		ldrsb	r3, [r3]
 2708 002e 002B     		cmp	r3, #0
 2709 0030 24DB     		blt	.L181
3278:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3279:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Control_Variables.AT_Cmd_Processing = WIFI_TRUE;//Stop Any Rx between the TX call
 2710              		.loc 1 3279 0
 2711 0032 144A     		ldr	r2, .L187+4
 2712 0034 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 2713 0036 43F00803 		orr	r3, r3, #8
 2714 003a 5370     		strb	r3, [r2, #1]
3280:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3281:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if (size == 0)
 2715              		.loc 1 3281 0
 2716 003c 20B9     		cbnz	r0, .L177
3282:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
3283:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         printf("ERROR in USART_Transmit_AT_Cmd!");
 2717              		.loc 1 3283 0
 2718 003e 1248     		ldr	r0, .L187+8
 2719              	.LVL130:
 2720 0040 FFF7FEFF 		bl	printf
 2721              	.LVL131:
3284:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         return WiFi_UNHANDLED_IND_ERROR;
 2722              		.loc 1 3284 0
 2723 0044 1F20     		movs	r0, #31
 2724 0046 08BD     		pop	{r3, pc}
 2725              	.LVL132:
 2726              	.L177:
3285:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
3286:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3287:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #if defined(USART3_INT_MODE)
3288:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(HAL_UART_Transmit_IT(&UartWiFiHandle, (uint8_t *)WiFi_AT_Cmd_Buff, size)!= HAL_OK)
3289:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
3290:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_UART_Error_Handler();
3291:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       return WiFi_HAL_UART_ERROR;
3292:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
3293:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   while (IO_status_flag.UartReady != SET)
3294:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
3295:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       __NOP(); //nothing to do
3296:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
3297:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   IO_status_flag.UartReady = RESET; 
3298:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 111


3299:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #elif defined(USART3_POLLING_MODE)
3300:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   //while(Uartx_Rx_Processing!=WIFI_FALSE);
3301:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(HAL_UART_Transmit(&UartWiFiHandle, (uint8_t *)WiFi_AT_Cmd_Buff, size, 1000)!= HAL_OK)
 2727              		.loc 1 3301 0
 2728 0048 4FF47A73 		mov	r3, #1000
 2729 004c 0246     		mov	r2, r0
 2730 004e 0F49     		ldr	r1, .L187+12
 2731 0050 0F48     		ldr	r0, .L187+16
 2732              	.LVL133:
 2733 0052 FFF7FEFF 		bl	HAL_UART_Transmit
 2734              	.LVL134:
 2735 0056 48B9     		cbnz	r0, .L185
3302:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
3303:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_UART_Error_Handler();
3304:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       #if DEBUG_PRINT
3305:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       printf("HAL_UART_Transmit Error");
3306:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       #endif
3307:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       return WiFi_HAL_UART_ERROR;
3308:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
3309:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3310:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #else
3311:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  #error "Please select USART mode in your application (in wifi_module.h file)"
3312:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
3313:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****  
3314:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Control_Variables.AT_Cmd_Processing = WIFI_FALSE;//Re-enable Rx for UART
 2736              		.loc 1 3314 0
 2737 0058 0A4A     		ldr	r2, .L187+4
 2738 005a 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 2739 005c 6FF3C303 		bfc	r3, #3, #1
 2740 0060 5370     		strb	r3, [r2, #1]
3315:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(WiFi_Control_Variables.Uartx_Rx_Processing == WIFI_FALSE)
 2741              		.loc 1 3315 0
 2742 0062 13F0100F 		tst	r3, #16
 2743 0066 05D0     		beq	.L186
3316:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     Receive_Data();//Start receiving Rx from the UART again, if and only if it was stopped in the p
3317:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   return WiFi_MODULE_SUCCESS;
 2744              		.loc 1 3317 0
 2745 0068 0020     		movs	r0, #0
3318:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 2746              		.loc 1 3318 0
 2747 006a 08BD     		pop	{r3, pc}
 2748              	.L185:
3303:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       #if DEBUG_PRINT
 2749              		.loc 1 3303 0
 2750 006c FFF7FEFF 		bl	WiFi_UART_Error_Handler
 2751              	.LVL135:
3307:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 2752              		.loc 1 3307 0
 2753 0070 0F20     		movs	r0, #15
 2754 0072 08BD     		pop	{r3, pc}
 2755              	.L186:
3316:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   return WiFi_MODULE_SUCCESS;
 2756              		.loc 1 3316 0
 2757 0074 FFF7FEFF 		bl	Receive_Data
 2758              	.LVL136:
3317:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 2759              		.loc 1 3317 0
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 112


 2760 0078 0020     		movs	r0, #0
 2761 007a 08BD     		pop	{r3, pc}
 2762              	.LVL137:
 2763              	.L181:
3277:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 2764              		.loc 1 3277 0
 2765 007c 1020     		movs	r0, #16
 2766              	.LVL138:
 2767 007e 08BD     		pop	{r3, pc}
 2768              	.L188:
 2769              		.align	2
 2770              	.L187:
 2771 0080 00000000 		.word	IO_status_flag
 2772 0084 00000000 		.word	WiFi_Control_Variables
 2773 0088 00000000 		.word	.LC4
 2774 008c 00000000 		.word	WiFi_AT_Cmd_Buff
 2775 0090 00000000 		.word	UartWiFiHandle
 2776              		.cfi_endproc
 2777              	.LFE323:
 2779              		.section	.text.wifi_firmware_middleware_version_compatibility,"ax",%progbits
 2780              		.align	1
 2781              		.global	wifi_firmware_middleware_version_compatibility
 2782              		.syntax unified
 2783              		.thumb
 2784              		.thumb_func
 2785              		.fpu fpv4-sp-d16
 2787              	wifi_firmware_middleware_version_compatibility:
 2788              	.LFB296:
2622:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Status_t status = WiFi_MODULE_SUCCESS;
 2789              		.loc 1 2622 0
 2790              		.cfi_startproc
 2791              		@ args = 0, pretend = 0, frame = 16
 2792              		@ frame_needed = 0, uses_anonymous_args = 0
 2793 0000 70B5     		push	{r4, r5, r6, lr}
 2794              	.LCFI32:
 2795              		.cfi_def_cfa_offset 16
 2796              		.cfi_offset 4, -16
 2797              		.cfi_offset 5, -12
 2798              		.cfi_offset 6, -8
 2799              		.cfi_offset 14, -4
 2800 0002 84B0     		sub	sp, sp, #16
 2801              	.LCFI33:
 2802              		.cfi_def_cfa_offset 32
 2803              	.LVL139:
2625:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   char *fw_version = version;
 2804              		.loc 1 2625 0
 2805 0004 0023     		movs	r3, #0
 2806 0006 0193     		str	r3, [sp, #4]
 2807 0008 0293     		str	r3, [sp, #8]
 2808 000a ADF80C30 		strh	r3, [sp, #12]	@ movhi
 2809              	.LVL140:
2629:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   #if defined(CONSOLE_UART_ENABLED)  
 2810              		.loc 1 2629 0
 2811 000e FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 2812              	.LVL141:
2631:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 2813              		.loc 1 2631 0
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 113


 2814 0012 1E4C     		ldr	r4, .L199
 2815 0014 1E4A     		ldr	r2, .L199+4
 2816 0016 1F49     		ldr	r1, .L199+8
 2817 0018 2046     		mov	r0, r4
 2818 001a FFF7FEFF 		bl	sprintf
 2819              	.LVL142:
2632:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   #else
 2820              		.loc 1 2632 0
 2821 001e 2046     		mov	r0, r4
 2822 0020 FFF7FEFF 		bl	strlen
 2823              	.LVL143:
 2824 0024 80B2     		uxth	r0, r0
 2825 0026 FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 2826              	.LVL144:
2640:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       {
 2827              		.loc 1 2640 0
 2828 002a 0446     		mov	r4, r0
 2829 002c A8B9     		cbnz	r0, .L190
2642:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         if(status == WiFi_MODULE_SUCCESS)
 2830              		.loc 1 2642 0
 2831 002e FFF7FEFF 		bl	USART_Receive_AT_Resp
 2832              	.LVL145:
2643:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         {
 2833              		.loc 1 2643 0
 2834 0032 0446     		mov	r4, r0
 2835 0034 10B1     		cbz	r0, .L197
 2836              	.LVL146:
 2837              	.L191:
2672:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 2838              		.loc 1 2672 0
 2839 0036 2046     		mov	r0, r4
 2840 0038 04B0     		add	sp, sp, #16
 2841              	.LCFI34:
 2842              		.cfi_remember_state
 2843              		.cfi_def_cfa_offset 16
 2844              		@ sp needed
 2845 003a 70BD     		pop	{r4, r5, r6, pc}
 2846              	.LVL147:
 2847              	.L197:
 2848              	.LCFI35:
 2849              		.cfi_restore_state
2645:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           /* copy user pointer to get_cfg_value */
 2850              		.loc 1 2645 0
 2851 003c 164D     		ldr	r5, .L199+12
 2852 003e 2846     		mov	r0, r5
 2853              	.LVL148:
 2854 0040 FFF7FEFF 		bl	strlen
 2855              	.LVL149:
 2856 0044 0646     		mov	r6, r0
 2857              	.LVL150:
2647:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           memset(WiFi_Counter_Variables.get_cfg_value, 0x00,cfg_value_length);
 2858              		.loc 1 2647 0
 2859 0046 0246     		mov	r2, r0
 2860 0048 2946     		mov	r1, r5
 2861 004a 01A8     		add	r0, sp, #4
 2862              	.LVL151:
 2863 004c FFF7FEFF 		bl	memcpy
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 114


 2864              	.LVL152:
2648:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         }
 2865              		.loc 1 2648 0
 2866 0050 3246     		mov	r2, r6
 2867 0052 0021     		movs	r1, #0
 2868 0054 2846     		mov	r0, r5
 2869 0056 FFF7FEFF 		bl	memset
 2870              	.LVL153:
 2871              	.L190:
 2872              	.LBB164:
2655:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
 2873              		.loc 1 2655 0
 2874 005a 0025     		movs	r5, #0
 2875              	.LVL154:
 2876              	.L192:
2655:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
 2877              		.loc 1 2655 0 is_stmt 0 discriminator 1
 2878 005c 002D     		cmp	r5, #0
 2879 005e 01DD     		ble	.L194
 2880              	.LBE164:
2671:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 2881              		.loc 1 2671 0 is_stmt 1
 2882 0060 0024     		movs	r4, #0
 2883              	.LVL155:
 2884              	.LBB165:
 2885 0062 E8E7     		b	.L191
 2886              	.LVL156:
 2887              	.L194:
2659:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       {
 2888              		.loc 1 2659 0
 2889 0064 0D4B     		ldr	r3, .L199+16
 2890 0066 53F83510 		ldr	r1, [r3, r5, lsl #3]
 2891 006a 0D48     		ldr	r0, .L199+20
 2892 006c FFF7FEFF 		bl	strcmp
 2893              	.LVL157:
 2894 0070 08B1     		cbz	r0, .L198
2655:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
 2895              		.loc 1 2655 0 discriminator 2
 2896 0072 0135     		adds	r5, r5, #1
 2897              	.LVL158:
 2898 0074 F2E7     		b	.L192
 2899              	.L198:
2661:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****            {
 2900              		.loc 1 2661 0
 2901 0076 094B     		ldr	r3, .L199+16
 2902 0078 03EBC505 		add	r5, r3, r5, lsl #3
 2903              	.LVL159:
 2904 007c 6968     		ldr	r1, [r5, #4]
 2905 007e 01A8     		add	r0, sp, #4
 2906              	.LVL160:
 2907 0080 FFF7FEFF 		bl	strcmp
 2908              	.LVL161:
 2909 0084 0028     		cmp	r0, #0
 2910 0086 D6DA     		bge	.L191
2666:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****            }
 2911              		.loc 1 2666 0
 2912 0088 0224     		movs	r4, #2
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 115


 2913              	.LVL162:
 2914 008a D4E7     		b	.L191
 2915              	.L200:
 2916              		.align	2
 2917              	.L199:
 2918 008c 00000000 		.word	WiFi_AT_Cmd_Buff
 2919 0090 00000000 		.word	.LC5
 2920 0094 0C000000 		.word	.LC6
 2921 0098 0E000000 		.word	WiFi_Counter_Variables+14
 2922 009c 00000000 		.word	SW_FW_COMPATIBILITY
 2923 00a0 1C000000 		.word	.LC7
 2924              	.LBE165:
 2925              		.cfi_endproc
 2926              	.LFE296:
 2928              		.section	.text.Read_WiFi_Mode,"ax",%progbits
 2929              		.align	1
 2930              		.global	Read_WiFi_Mode
 2931              		.syntax unified
 2932              		.thumb
 2933              		.thumb_func
 2934              		.fpu fpv4-sp-d16
 2936              	Read_WiFi_Mode:
 2937              	.LFB316:
3132:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Status_t status = WiFi_MODULE_SUCCESS;
 2938              		.loc 1 3132 0
 2939              		.cfi_startproc
 2940              		@ args = 0, pretend = 0, frame = 0
 2941              		@ frame_needed = 0, uses_anonymous_args = 0
 2942              	.LVL163:
 2943 0000 38B5     		push	{r3, r4, r5, lr}
 2944              	.LCFI36:
 2945              		.cfi_def_cfa_offset 16
 2946              		.cfi_offset 3, -16
 2947              		.cfi_offset 4, -12
 2948              		.cfi_offset 5, -8
 2949              		.cfi_offset 14, -4
 2950 0002 0546     		mov	r5, r0
 2951              	.LVL164:
3138:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 2952              		.loc 1 3138 0
 2953 0004 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 2954              	.LVL165:
3141:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 2955              		.loc 1 3141 0
 2956 0008 0D4C     		ldr	r4, .L206
 2957 000a 0E4A     		ldr	r2, .L206+4
 2958 000c 0E49     		ldr	r1, .L206+8
 2959 000e 2046     		mov	r0, r4
 2960 0010 FFF7FEFF 		bl	sprintf
 2961              	.LVL166:
3143:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(status == WiFi_MODULE_SUCCESS)
 2962              		.loc 1 3143 0
 2963 0014 2046     		mov	r0, r4
 2964 0016 FFF7FEFF 		bl	strlen
 2965              	.LVL167:
 2966 001a 80B2     		uxth	r0, r0
 2967 001c FFF7FEFF 		bl	USART_Transmit_AT_Cmd
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 116


 2968              	.LVL168:
3144:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
 2969              		.loc 1 3144 0
 2970 0020 0446     		mov	r4, r0
 2971 0022 40B1     		cbz	r0, .L205
 2972              	.LVL169:
 2973              	.L202:
3149:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(pStr != NULL)
 2974              		.loc 1 3149 0
 2975 0024 0949     		ldr	r1, .L206+12
 2976 0026 0A48     		ldr	r0, .L206+16
 2977 0028 FFF7FEFF 		bl	strstr
 2978              	.LVL170:
3150:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
 2979              		.loc 1 3150 0
 2980 002c 08B1     		cbz	r0, .L203
3152:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 2981              		.loc 1 3152 0
 2982 002e 037B     		ldrb	r3, [r0, #12]	@ zero_extendqisi2
 2983 0030 2B70     		strb	r3, [r5]
 2984              	.L203:
3156:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 2985              		.loc 1 3156 0
 2986 0032 2046     		mov	r0, r4
 2987              	.LVL171:
 2988 0034 38BD     		pop	{r3, r4, r5, pc}
 2989              	.LVL172:
 2990              	.L205:
3146:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 2991              		.loc 1 3146 0
 2992 0036 FFF7FEFF 		bl	USART_Receive_AT_Resp
 2993              	.LVL173:
 2994 003a 0446     		mov	r4, r0
 2995              	.LVL174:
 2996 003c F2E7     		b	.L202
 2997              	.L207:
 2998 003e 00BF     		.align	2
 2999              	.L206:
 3000 0040 00000000 		.word	WiFi_AT_Cmd_Buff
 3001 0044 00000000 		.word	.LC8
 3002 0048 0C000000 		.word	.LC9
 3003 004c 1C000000 		.word	.LC10
 3004 0050 0E000000 		.word	WiFi_Counter_Variables+14
 3005              		.cfi_endproc
 3006              	.LFE316:
 3008              		.section	.text.Start_DeepSleep_Timer,"ax",%progbits
 3009              		.align	1
 3010              		.global	Start_DeepSleep_Timer
 3011              		.syntax unified
 3012              		.thumb
 3013              		.thumb_func
 3014              		.fpu fpv4-sp-d16
 3016              	Start_DeepSleep_Timer:
 3017              	.LFB324:
3319:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3320:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3321:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Start_DeepSleep_Timer
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 117


3322:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         start the deep sleep timer.
3323:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
3324:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval void
3325:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3326:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Start_DeepSleep_Timer(void)
3327:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 3018              		.loc 1 3327 0
 3019              		.cfi_startproc
 3020              		@ args = 0, pretend = 0, frame = 0
 3021              		@ frame_needed = 0, uses_anonymous_args = 0
 3022              		@ link register save eliminated.
3328:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Control_Variables.Deep_Sleep_Timer = WIFI_TRUE;
 3023              		.loc 1 3328 0
 3024 0000 044A     		ldr	r2, .L209
 3025 0002 5379     		ldrb	r3, [r2, #5]	@ zero_extendqisi2
 3026 0004 43F01003 		orr	r3, r3, #16
 3027 0008 5371     		strb	r3, [r2, #5]
3329:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.sleep_count = 0;
 3028              		.loc 1 3329 0
 3029 000a 0022     		movs	r2, #0
 3030 000c 024B     		ldr	r3, .L209+4
 3031 000e C3F8C420 		str	r2, [r3, #196]
 3032 0012 7047     		bx	lr
 3033              	.L210:
 3034              		.align	2
 3035              	.L209:
 3036 0014 00000000 		.word	WiFi_Control_Variables
 3037 0018 00000000 		.word	WiFi_Counter_Variables
 3038              		.cfi_endproc
 3039              	.LFE324:
 3041              		.section	.text.Stop_DeepSleep_Timer,"ax",%progbits
 3042              		.align	1
 3043              		.global	Stop_DeepSleep_Timer
 3044              		.syntax unified
 3045              		.thumb
 3046              		.thumb_func
 3047              		.fpu fpv4-sp-d16
 3049              	Stop_DeepSleep_Timer:
 3050              	.LFB325:
3330:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3331:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3332:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3333:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Stop_DeepSleep_Timer
3334:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         stop the deep sleep timer.
3335:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
3336:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval void
3337:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3338:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void Stop_DeepSleep_Timer()
3339:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 3051              		.loc 1 3339 0
 3052              		.cfi_startproc
 3053              		@ args = 0, pretend = 0, frame = 0
 3054              		@ frame_needed = 0, uses_anonymous_args = 0
 3055              		@ link register save eliminated.
3340:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Control_Variables.Deep_Sleep_Timer = WIFI_FALSE;
 3056              		.loc 1 3340 0
 3057 0000 044B     		ldr	r3, .L212
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 118


 3058 0002 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 3059 0004 6FF30412 		bfc	r2, #4, #1
 3060 0008 5A71     		strb	r2, [r3, #5]
3341:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Counter_Variables.sleep_count = 0;
 3061              		.loc 1 3341 0
 3062 000a 0022     		movs	r2, #0
 3063 000c 024B     		ldr	r3, .L212+4
 3064 000e C3F8C420 		str	r2, [r3, #196]
 3065 0012 7047     		bx	lr
 3066              	.L213:
 3067              		.align	2
 3068              	.L212:
 3069 0014 00000000 		.word	WiFi_Control_Variables
 3070 0018 00000000 		.word	WiFi_Counter_Variables
 3071              		.cfi_endproc
 3072              	.LFE325:
 3074              		.section	.text.Wifi_SysTick_Isr,"ax",%progbits
 3075              		.align	1
 3076              		.global	Wifi_SysTick_Isr
 3077              		.syntax unified
 3078              		.thumb
 3079              		.thumb_func
 3080              		.fpu fpv4-sp-d16
 3082              	Wifi_SysTick_Isr:
 3083              	.LFB288:
2110:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     //Check if Data is Paused
 3084              		.loc 1 2110 0
 3085              		.cfi_startproc
 3086              		@ args = 0, pretend = 0, frame = 0
 3087              		@ frame_needed = 0, uses_anonymous_args = 0
 3088 0000 08B5     		push	{r3, lr}
 3089              	.LCFI37:
 3090              		.cfi_def_cfa_offset 8
 3091              		.cfi_offset 3, -8
 3092              		.cfi_offset 14, -4
2112:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       {
 3093              		.loc 1 2112 0
 3094 0002 2B4B     		ldr	r3, .L225
 3095 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3096 0006 13F0040F 		tst	r3, #4
 3097 000a 04D0     		beq	.L215
2112:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       {
 3098              		.loc 1 2112 0 is_stmt 0 discriminator 1
 3099 000c 284B     		ldr	r3, .L225
 3100 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3101 0010 13F0080F 		tst	r3, #8
 3102 0014 35D1     		bne	.L222
 3103              	.L215:
2117:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       {
 3104              		.loc 1 2117 0 is_stmt 1
 3105 0016 274B     		ldr	r3, .L225+4
 3106 0018 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 3107 001a 13F0080F 		tst	r3, #8
 3108 001e 33D1     		bne	.L223
 3109              	.L216:
2126:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       {
 3110              		.loc 1 2126 0
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 119


 3111 0020 244B     		ldr	r3, .L225+4
 3112 0022 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3113 0024 13F0100F 		tst	r3, #16
 3114 0028 12D0     		beq	.L217
2128:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
 3115              		.loc 1 2128 0
 3116 002a 234A     		ldr	r2, .L225+8
 3117 002c D2F8C830 		ldr	r3, [r2, #200]
 3118 0030 591C     		adds	r1, r3, #1
 3119 0032 C2F8C810 		str	r1, [r2, #200]
 3120 0036 40F26B72 		movw	r2, #1899
 3121 003a 9342     		cmp	r3, r2
 3122 003c 08D9     		bls	.L217
2130:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Counter_Variables.standby_time = 0;
 3123              		.loc 1 2130 0
 3124 003e 1D4B     		ldr	r3, .L225+4
 3125 0040 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 3126 0042 6FF30412 		bfc	r2, #4, #1
 3127 0046 1A70     		strb	r2, [r3]
2131:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
 3128              		.loc 1 2131 0
 3129 0048 0022     		movs	r2, #0
 3130 004a 1B4B     		ldr	r3, .L225+8
 3131 004c C3F8C820 		str	r2, [r3, #200]
 3132              	.L217:
2159:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       {
 3133              		.loc 1 2159 0
 3134 0050 184B     		ldr	r3, .L225+4
 3135 0052 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 3136 0054 13F0100F 		tst	r3, #16
 3137 0058 12D0     		beq	.L214
2159:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       {
 3138              		.loc 1 2159 0 is_stmt 0 discriminator 1
 3139 005a 174A     		ldr	r2, .L225+8
 3140 005c D2F8C430 		ldr	r3, [r2, #196]
 3141 0060 591C     		adds	r1, r3, #1
 3142 0062 C2F8C410 		str	r1, [r2, #196]
 3143 0066 B3F5FA6F 		cmp	r3, #2000
 3144 006a 09D3     		bcc	.L214
2161:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
 3145              		.loc 1 2161 0 is_stmt 1
 3146 006c 114B     		ldr	r3, .L225+4
 3147 006e 93F90030 		ldrsb	r3, [r3]
 3148 0072 002B     		cmp	r3, #0
 3149 0074 15DB     		blt	.L224
2169:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
 3150              		.loc 1 2169 0
 3151 0076 1B22     		movs	r2, #27
 3152 0078 0D4B     		ldr	r3, .L225
 3153 007a 9A75     		strb	r2, [r3, #22]
 3154              	.L220:
2171:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       }
 3155              		.loc 1 2171 0
 3156 007c FFF7FEFF 		bl	Stop_DeepSleep_Timer
 3157              	.LVL175:
 3158              	.L214:
 3159 0080 08BD     		pop	{r3, pc}
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 120


 3160              	.L222:
2114:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       }
 3161              		.loc 1 2114 0
 3162 0082 FFF7FEFF 		bl	Process_WiFi
 3163              	.LVL176:
 3164 0086 C6E7     		b	.L215
 3165              	.L223:
2119:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
 3166              		.loc 1 2119 0
 3167 0088 0C48     		ldr	r0, .L225+12
 3168 008a FFF7FEFF 		bl	is_half_empty
 3169              	.LVL177:
 3170 008e 0028     		cmp	r0, #0
 3171 0090 C6D0     		beq	.L216
2121:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 Receive_Data();
 3172              		.loc 1 2121 0
 3173 0092 084B     		ldr	r3, .L225+4
 3174 0094 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 3175 0096 6FF3C302 		bfc	r2, #3, #1
 3176 009a 5A71     		strb	r2, [r3, #5]
2122:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
 3177              		.loc 1 2122 0
 3178 009c FFF7FEFF 		bl	Receive_Data
 3179              	.LVL178:
 3180 00a0 BEE7     		b	.L216
 3181              	.L224:
2164:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
 3182              		.loc 1 2164 0
 3183 00a2 044A     		ldr	r2, .L225+4
 3184 00a4 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3185 00a6 43F08003 		orr	r3, r3, #128
 3186 00aa 1370     		strb	r3, [r2]
 3187 00ac E6E7     		b	.L220
 3188              	.L226:
 3189 00ae 00BF     		.align	2
 3190              	.L225:
 3191 00b0 00000000 		.word	IO_status_flag
 3192 00b4 00000000 		.word	WiFi_Control_Variables
 3193 00b8 00000000 		.word	WiFi_Counter_Variables
 3194 00bc 00000000 		.word	wifi_instances
 3195              		.cfi_endproc
 3196              	.LFE288:
 3198              		.section	.text.WiFi_switch_to_command_mode,"ax",%progbits
 3199              		.align	1
 3200              		.global	WiFi_switch_to_command_mode
 3201              		.syntax unified
 3202              		.thumb
 3203              		.thumb_func
 3204              		.fpu fpv4-sp-d16
 3206              	WiFi_switch_to_command_mode:
 3207              	.LFB326:
3342:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3343:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3344:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3345:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  WiFi_switch_to_command_mode
3346:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         switch to command mode from data mode
3347:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 121


3348:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
3349:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3350:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void WiFi_switch_to_command_mode(void)
3351:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 3208              		.loc 1 3351 0
 3209              		.cfi_startproc
 3210              		@ args = 0, pretend = 0, frame = 0
 3211              		@ frame_needed = 0, uses_anonymous_args = 0
 3212 0000 08B5     		push	{r3, lr}
 3213              	.LCFI38:
 3214              		.cfi_def_cfa_offset 8
 3215              		.cfi_offset 3, -8
 3216              		.cfi_offset 14, -4
 3217              	.LVL179:
3352:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Status_t status = WiFi_MODULE_SUCCESS;
3353:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3354:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* AT+S.*/  
3355:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Reset_AT_CMD_Buffer();  
 3218              		.loc 1 3355 0
 3219 0002 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 3220              	.LVL180:
3356:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3357:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   sprintf((char*)WiFi_AT_Cmd_Buff,AT_DATA_TO_CMD_MODE);   //Notice the lower case
 3221              		.loc 1 3357 0
 3222 0006 064B     		ldr	r3, .L229
 3223 0008 064A     		ldr	r2, .L229+4
 3224 000a 1068     		ldr	r0, [r2]
 3225 000c 1860     		str	r0, [r3]	@ unaligned
 3226 000e 9288     		ldrh	r2, [r2, #4]	@ unaligned
 3227 0010 9A80     		strh	r2, [r3, #4]	@ unaligned
3358:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3359:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 3228              		.loc 1 3359 0
 3229 0012 1846     		mov	r0, r3
 3230 0014 FFF7FEFF 		bl	strlen
 3231              	.LVL181:
 3232 0018 80B2     		uxth	r0, r0
 3233 001a FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 3234              	.LVL182:
 3235 001e 08BD     		pop	{r3, pc}
 3236              	.L230:
 3237              		.align	2
 3238              	.L229:
 3239 0020 00000000 		.word	WiFi_AT_Cmd_Buff
 3240 0024 00000000 		.word	.LC11
 3241              		.cfi_endproc
 3242              	.LFE326:
 3244              		.section	.text.WiFi_switch_to_data_mode,"ax",%progbits
 3245              		.align	1
 3246              		.global	WiFi_switch_to_data_mode
 3247              		.syntax unified
 3248              		.thumb
 3249              		.thumb_func
 3250              		.fpu fpv4-sp-d16
 3252              	WiFi_switch_to_data_mode:
 3253              	.LFB327:
3360:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(status == WiFi_MODULE_SUCCESS)
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 122


3361:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   {
3362:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     //nothing to do
3363:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   }
3364:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3365:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3366:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3367:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  WiFi_switch_to_data_mode
3368:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         switch to data mode from command mode
3369:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
3370:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
3371:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3372:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void WiFi_switch_to_data_mode(void)
3373:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 3254              		.loc 1 3373 0
 3255              		.cfi_startproc
 3256              		@ args = 0, pretend = 0, frame = 0
 3257              		@ frame_needed = 0, uses_anonymous_args = 0
 3258 0000 08B5     		push	{r3, lr}
 3259              	.LCFI39:
 3260              		.cfi_def_cfa_offset 8
 3261              		.cfi_offset 3, -8
 3262              		.cfi_offset 14, -4
 3263              	.LVL183:
3374:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Status_t status = WiFi_MODULE_SUCCESS;
3375:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3376:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* AT+S.*/  
3377:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Reset_AT_CMD_Buffer();    
 3264              		.loc 1 3377 0
 3265 0002 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 3266              	.LVL184:
3378:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3379:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   sprintf((char*)WiFi_AT_Cmd_Buff,AT_CMD_TO_DATA_MODE);   //Notice the upper case
 3267              		.loc 1 3379 0
 3268 0006 074B     		ldr	r3, .L233
 3269 0008 074A     		ldr	r2, .L233+4
 3270 000a 1068     		ldr	r0, [r2]
 3271 000c 1860     		str	r0, [r3]	@ unaligned
 3272 000e 9188     		ldrh	r1, [r2, #4]	@ unaligned
 3273 0010 9279     		ldrb	r2, [r2, #6]	@ zero_extendqisi2
 3274 0012 9980     		strh	r1, [r3, #4]	@ unaligned
 3275 0014 9A71     		strb	r2, [r3, #6]
3380:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3381:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 3276              		.loc 1 3381 0
 3277 0016 1846     		mov	r0, r3
 3278 0018 FFF7FEFF 		bl	strlen
 3279              	.LVL185:
 3280 001c 80B2     		uxth	r0, r0
 3281 001e FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 3282              	.LVL186:
 3283 0022 08BD     		pop	{r3, pc}
 3284              	.L234:
 3285              		.align	2
 3286              	.L233:
 3287 0024 00000000 		.word	WiFi_AT_Cmd_Buff
 3288 0028 00000000 		.word	.LC12
 3289              		.cfi_endproc
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 123


 3290              	.LFE327:
 3292              		.section	.text.Process_DeQed_Wind_Indication,"ax",%progbits
 3293              		.align	1
 3294              		.global	Process_DeQed_Wind_Indication
 3295              		.syntax unified
 3296              		.thumb
 3297              		.thumb_func
 3298              		.fpu fpv4-sp-d16
 3300              	Process_DeQed_Wind_Indication:
 3301              	.LFB295:
2354:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   switch(L_DeQued_wifi_event->wind)
 3302              		.loc 1 2354 0
 3303              		.cfi_startproc
 3304              		@ args = 0, pretend = 0, frame = 0
 3305              		@ frame_needed = 0, uses_anonymous_args = 0
 3306              	.LVL187:
 3307 0000 10B5     		push	{r4, lr}
 3308              	.LCFI40:
 3309              		.cfi_def_cfa_offset 8
 3310              		.cfi_offset 4, -8
 3311              		.cfi_offset 14, -4
2355:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   {
 3312              		.loc 1 2355 0
 3313 0002 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 3314 0004 013B     		subs	r3, r3, #1
 3315 0006 452B     		cmp	r3, #69
 3316 0008 00F29481 		bhi	.L235
 3317 000c DFE813F0 		tbh	[pc, r3, lsl #1]
 3318              	.L238:
 3319 0010 4600     		.2byte	(.L237-.L238)/2
 3320 0012 9201     		.2byte	(.L235-.L238)/2
 3321 0014 9201     		.2byte	(.L235-.L238)/2
 3322 0016 5200     		.2byte	(.L239-.L238)/2
 3323 0018 5600     		.2byte	(.L240-.L238)/2
 3324 001a 9201     		.2byte	(.L235-.L238)/2
 3325 001c 9201     		.2byte	(.L235-.L238)/2
 3326 001e 5A00     		.2byte	(.L241-.L238)/2
 3327 0020 5E00     		.2byte	(.L242-.L238)/2
 3328 0022 6200     		.2byte	(.L243-.L238)/2
 3329 0024 6600     		.2byte	(.L244-.L238)/2
 3330 0026 6A00     		.2byte	(.L245-.L238)/2
 3331 0028 9201     		.2byte	(.L235-.L238)/2
 3332 002a 9201     		.2byte	(.L235-.L238)/2
 3333 002c 6E00     		.2byte	(.L246-.L238)/2
 3334 002e 9201     		.2byte	(.L235-.L238)/2
 3335 0030 9201     		.2byte	(.L235-.L238)/2
 3336 0032 9201     		.2byte	(.L235-.L238)/2
 3337 0034 9201     		.2byte	(.L235-.L238)/2
 3338 0036 7200     		.2byte	(.L247-.L238)/2
 3339 0038 9201     		.2byte	(.L235-.L238)/2
 3340 003a 7600     		.2byte	(.L248-.L238)/2
 3341 003c 7A00     		.2byte	(.L249-.L238)/2
 3342 003e 7E00     		.2byte	(.L250-.L238)/2
 3343 0040 9201     		.2byte	(.L235-.L238)/2
 3344 0042 8200     		.2byte	(.L251-.L238)/2
 3345 0044 8600     		.2byte	(.L252-.L238)/2
 3346 0046 9201     		.2byte	(.L235-.L238)/2
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 124


 3347 0048 9201     		.2byte	(.L235-.L238)/2
 3348 004a 9201     		.2byte	(.L235-.L238)/2
 3349 004c 8A00     		.2byte	(.L253-.L238)/2
 3350 004e 8E00     		.2byte	(.L254-.L238)/2
 3351 0050 9201     		.2byte	(.L235-.L238)/2
 3352 0052 9201     		.2byte	(.L235-.L238)/2
 3353 0054 B800     		.2byte	(.L255-.L238)/2
 3354 0056 BE00     		.2byte	(.L256-.L238)/2
 3355 0058 9201     		.2byte	(.L235-.L238)/2
 3356 005a C200     		.2byte	(.L257-.L238)/2
 3357 005c 9201     		.2byte	(.L235-.L238)/2
 3358 005e CA00     		.2byte	(.L258-.L238)/2
 3359 0060 D600     		.2byte	(.L259-.L238)/2
 3360 0062 E200     		.2byte	(.L260-.L238)/2
 3361 0064 E600     		.2byte	(.L261-.L238)/2
 3362 0066 EA00     		.2byte	(.L262-.L238)/2
 3363 0068 9201     		.2byte	(.L235-.L238)/2
 3364 006a 9201     		.2byte	(.L235-.L238)/2
 3365 006c 9201     		.2byte	(.L235-.L238)/2
 3366 006e 9201     		.2byte	(.L235-.L238)/2
 3367 0070 9201     		.2byte	(.L235-.L238)/2
 3368 0072 9201     		.2byte	(.L235-.L238)/2
 3369 0074 9201     		.2byte	(.L235-.L238)/2
 3370 0076 9201     		.2byte	(.L235-.L238)/2
 3371 0078 9201     		.2byte	(.L235-.L238)/2
 3372 007a 9201     		.2byte	(.L235-.L238)/2
 3373 007c EE00     		.2byte	(.L263-.L238)/2
 3374 007e 9201     		.2byte	(.L235-.L238)/2
 3375 0080 9201     		.2byte	(.L235-.L238)/2
 3376 0082 1101     		.2byte	(.L264-.L238)/2
 3377 0084 9201     		.2byte	(.L235-.L238)/2
 3378 0086 9201     		.2byte	(.L235-.L238)/2
 3379 0088 5001     		.2byte	(.L265-.L238)/2
 3380 008a 6101     		.2byte	(.L266-.L238)/2
 3381 008c 6C01     		.2byte	(.L267-.L238)/2
 3382 008e 1D01     		.2byte	(.L268-.L238)/2
 3383 0090 9201     		.2byte	(.L235-.L238)/2
 3384 0092 8D01     		.2byte	(.L269-.L238)/2
 3385 0094 7001     		.2byte	(.L270-.L238)/2
 3386 0096 7601     		.2byte	(.L271-.L238)/2
 3387 0098 7F01     		.2byte	(.L272-.L238)/2
 3388 009a 8501     		.2byte	(.L273-.L238)/2
 3389              		.p2align 1
 3390              	.L237:
2358:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       wifi_connected = 0;
 3391              		.loc 1 2358 0
 3392 009c FF22     		movs	r2, #255
 3393 009e A64B     		ldr	r3, .L281
 3394 00a0 9A75     		strb	r2, [r3, #22]
2359:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Counter_Variables.wifi_up = 0; 
 3395              		.loc 1 2359 0
 3396 00a2 0021     		movs	r1, #0
 3397 00a4 A54B     		ldr	r3, .L281+4
 3398 00a6 1970     		strb	r1, [r3]
2360:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3399              		.loc 1 2360 0
 3400 00a8 A54B     		ldr	r3, .L281+8
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 125


 3401 00aa 1A7A     		ldrb	r2, [r3, #8]	@ zero_extendqisi2
 3402 00ac 61F3C402 		bfi	r2, r1, #3, #2
 3403 00b0 1A72     		strb	r2, [r3, #8]
2361:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case Heap_Too_Small:
 3404              		.loc 1 2361 0
 3405 00b2 10BD     		pop	{r4, pc}
 3406              	.L239:
2363:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3407              		.loc 1 2363 0
 3408 00b4 0722     		movs	r2, #7
 3409 00b6 A04B     		ldr	r3, .L281
 3410 00b8 9A75     		strb	r2, [r3, #22]
2364:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case WiFi_Hardware_Dead:
 3411              		.loc 1 2364 0
 3412 00ba 10BD     		pop	{r4, pc}
 3413              	.L240:
2366:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3414              		.loc 1 2366 0
 3415 00bc 0022     		movs	r2, #0
 3416 00be 9E4B     		ldr	r3, .L281
 3417 00c0 9A75     		strb	r2, [r3, #22]
2367:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case Hard_Fault:
 3418              		.loc 1 2367 0
 3419 00c2 10BD     		pop	{r4, pc}
 3420              	.L241:
2369:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;   
 3421              		.loc 1 2369 0
 3422 00c4 0122     		movs	r2, #1
 3423 00c6 9C4B     		ldr	r3, .L281
 3424 00c8 9A75     		strb	r2, [r3, #22]
2370:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case StackOverflow:
 3425              		.loc 1 2370 0
 3426 00ca 10BD     		pop	{r4, pc}
 3427              	.L242:
2372:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3428              		.loc 1 2372 0
 3429 00cc 0222     		movs	r2, #2
 3430 00ce 9A4B     		ldr	r3, .L281
 3431 00d0 9A75     		strb	r2, [r3, #22]
2373:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case MallocFailed:
 3432              		.loc 1 2373 0
 3433 00d2 10BD     		pop	{r4, pc}
 3434              	.L243:
2375:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3435              		.loc 1 2375 0
 3436 00d4 0322     		movs	r2, #3
 3437 00d6 984B     		ldr	r3, .L281
 3438 00d8 9A75     		strb	r2, [r3, #22]
2376:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case Error:
 3439              		.loc 1 2376 0
 3440 00da 10BD     		pop	{r4, pc}
 3441              	.L244:
2378:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3442              		.loc 1 2378 0
 3443 00dc 0422     		movs	r2, #4
 3444 00de 964B     		ldr	r3, .L281
 3445 00e0 9A75     		strb	r2, [r3, #22]
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 126


2379:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case WiFi_PS_Mode_Failure:
 3446              		.loc 1 2379 0
 3447 00e2 10BD     		pop	{r4, pc}
 3448              	.L245:
2381:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3449              		.loc 1 2381 0
 3450 00e4 0622     		movs	r2, #6
 3451 00e6 944B     		ldr	r3, .L281
 3452 00e8 9A75     		strb	r2, [r3, #22]
2382:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case WiFi_Signal_LOW:
 3453              		.loc 1 2382 0
 3454 00ea 10BD     		pop	{r4, pc}
 3455              	.L246:
2384:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3456              		.loc 1 2384 0
 3457 00ec 0822     		movs	r2, #8
 3458 00ee 924B     		ldr	r3, .L281
 3459 00f0 9A75     		strb	r2, [r3, #22]
2385:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case JOINFAILED :
 3460              		.loc 1 2385 0
 3461 00f2 10BD     		pop	{r4, pc}
 3462              	.L247:
2387:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3463              		.loc 1 2387 0
 3464 00f4 1122     		movs	r2, #17
 3465 00f6 904B     		ldr	r3, .L281
 3466 00f8 9A75     		strb	r2, [r3, #22]
2388:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case SCANBLEWUP:
 3467              		.loc 1 2388 0
 3468 00fa 10BD     		pop	{r4, pc}
 3469              	.L248:
2390:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3470              		.loc 1 2390 0
 3471 00fc 1222     		movs	r2, #18
 3472 00fe 8E4B     		ldr	r3, .L281
 3473 0100 9A75     		strb	r2, [r3, #22]
2391:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case SCANFAILED:
 3474              		.loc 1 2391 0
 3475 0102 10BD     		pop	{r4, pc}
 3476              	.L249:
2393:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3477              		.loc 1 2393 0
 3478 0104 1322     		movs	r2, #19
 3479 0106 8C4B     		ldr	r3, .L281
 3480 0108 9A75     		strb	r2, [r3, #22]
2394:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case WiFi_Up:
 3481              		.loc 1 2394 0
 3482 010a 10BD     		pop	{r4, pc}
 3483              	.L250:
2403:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
 3484              		.loc 1 2403 0
 3485 010c 0922     		movs	r2, #9
 3486 010e 8A4B     		ldr	r3, .L281
 3487 0110 9A75     		strb	r2, [r3, #22]
2405:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case WiFi_Started_MiniAP_Mode:
 3488              		.loc 1 2405 0
 3489 0112 10BD     		pop	{r4, pc}
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 127


 3490              	.L251:
2407:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3491              		.loc 1 2407 0
 3492 0114 0A22     		movs	r2, #10
 3493 0116 884B     		ldr	r3, .L281
 3494 0118 9A75     		strb	r2, [r3, #22]
2408:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case Start_Failed :
 3495              		.loc 1 2408 0
 3496 011a 10BD     		pop	{r4, pc}
 3497              	.L252:
2410:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3498              		.loc 1 2410 0
 3499 011c 0522     		movs	r2, #5
 3500 011e 864B     		ldr	r3, .L281
 3501 0120 9A75     		strb	r2, [r3, #22]
2411:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case WiFi_EXCEPTION :
 3502              		.loc 1 2411 0
 3503 0122 10BD     		pop	{r4, pc}
 3504              	.L253:
2413:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3505              		.loc 1 2413 0
 3506 0124 0D22     		movs	r2, #13
 3507 0126 844B     		ldr	r3, .L281
 3508 0128 9A75     		strb	r2, [r3, #22]
2414:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case WiFi_Hardware_Started :
 3509              		.loc 1 2414 0
 3510 012a 10BD     		pop	{r4, pc}
 3511              	.L254:
2416:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         IO_status_flag.wifi_ready++;
 3512              		.loc 1 2416 0
 3513 012c 824B     		ldr	r3, .L281
 3514 012e 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3515 0130 C3F34203 		ubfx	r3, r3, #1, #3
 3516 0134 012B     		cmp	r3, #1
 3517 0136 19DD     		ble	.L279
 3518              	.L274:
2418:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = WiFiHWStarted;
 3519              		.loc 1 2418 0
 3520 0138 7F4B     		ldr	r3, .L281
 3521 013a 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 3522 013c 42F01002 		orr	r2, r2, #16
 3523 0140 1A70     		strb	r2, [r3]
2419:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       /*If this is a start-up after standby*/
 3524              		.loc 1 2419 0
 3525 0142 0E22     		movs	r2, #14
 3526 0144 9A75     		strb	r2, [r3, #22]
2421:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         {
 3527              		.loc 1 2421 0
 3528 0146 7F4B     		ldr	r3, .L281+12
 3529 0148 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3530 014a 13F0200F 		tst	r3, #32
 3531 014e 00F0F180 		beq	.L235
2423:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           WiFi_Control_Variables.Standby_Enabled = WIFI_FALSE;
 3532              		.loc 1 2423 0
 3533 0152 7C4B     		ldr	r3, .L281+12
 3534 0154 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 3535 0156 6FF34512 		bfc	r2, #5, #1
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 128


 3536 015a 1A70     		strb	r2, [r3]
2424:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           IO_status_flag.WiFi_WIND_State = standby_resume_callback;
 3537              		.loc 1 2424 0
 3538 015c 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 3539 015e 6FF30002 		bfc	r2, #0, #1
 3540 0162 5A70     		strb	r2, [r3, #1]
2425:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         }      
 3541              		.loc 1 2425 0
 3542 0164 1C22     		movs	r2, #28
 3543 0166 744B     		ldr	r3, .L281
 3544 0168 9A75     		strb	r2, [r3, #22]
 3545 016a 10BD     		pop	{r4, pc}
 3546              	.L279:
2417:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_Enabled = WIFI_TRUE;
 3547              		.loc 1 2417 0
 3548 016c 7249     		ldr	r1, .L281
 3549 016e 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 3550 0170 C3F34203 		ubfx	r3, r3, #1, #3
 3551 0174 0133     		adds	r3, r3, #1
 3552 0176 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
 3553 0178 63F34302 		bfi	r2, r3, #1, #3
 3554 017c 4A70     		strb	r2, [r1, #1]
 3555 017e DBE7     		b	.L274
 3556              	.L255:
2429:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3557              		.loc 1 2429 0
 3558 0180 704B     		ldr	r3, .L281+12
 3559 0182 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 3560 0184 6FF34102 		bfc	r2, #1, #1
 3561 0188 5A70     		strb	r2, [r3, #1]
2430:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case WiFi_UNHANDLED_IND:
 3562              		.loc 1 2430 0
 3563 018a 10BD     		pop	{r4, pc}
 3564              	.L256:
2432:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3565              		.loc 1 2432 0
 3566 018c 1622     		movs	r2, #22
 3567 018e 6A4B     		ldr	r3, .L281
 3568 0190 9A75     		strb	r2, [r3, #22]
2433:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case WiFi_Powered_Down:
 3569              		.loc 1 2433 0
 3570 0192 10BD     		pop	{r4, pc}
 3571              	.L257:
2435:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       //wifi_ready = 0;
 3572              		.loc 1 2435 0
 3573 0194 684A     		ldr	r2, .L281
 3574 0196 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3575 0198 6FF30413 		bfc	r3, #4, #1
 3576 019c 1370     		strb	r3, [r2]
2438:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3577              		.loc 1 2438 0
 3578 019e 0F23     		movs	r3, #15
 3579 01a0 9375     		strb	r3, [r2, #22]
2439:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case WiFi_Deauthentication:
 3580              		.loc 1 2439 0
 3581 01a2 10BD     		pop	{r4, pc}
 3582              	.L258:
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 129


2441:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Counter_Variables.wifi_up = 0;
 3583              		.loc 1 2441 0
 3584 01a4 0021     		movs	r1, #0
 3585 01a6 654B     		ldr	r3, .L281+4
 3586 01a8 1970     		strb	r1, [r3]
2442:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = WiFiDeauthentication;
 3587              		.loc 1 2442 0
 3588 01aa 654B     		ldr	r3, .L281+8
 3589 01ac 1A7A     		ldrb	r2, [r3, #8]	@ zero_extendqisi2
 3590 01ae 61F3C402 		bfi	r2, r1, #3, #2
 3591 01b2 1A72     		strb	r2, [r3, #8]
2443:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3592              		.loc 1 2443 0
 3593 01b4 1022     		movs	r2, #16
 3594 01b6 604B     		ldr	r3, .L281
 3595 01b8 9A75     		strb	r2, [r3, #22]
2444:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case WiFi_Disassociation:
 3596              		.loc 1 2444 0
 3597 01ba 10BD     		pop	{r4, pc}
 3598              	.L259:
2446:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Counter_Variables.wifi_up = 0; 
 3599              		.loc 1 2446 0
 3600 01bc 0021     		movs	r1, #0
 3601 01be 5F4B     		ldr	r3, .L281+4
 3602 01c0 1970     		strb	r1, [r3]
2447:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = WiFiDisAssociation;
 3603              		.loc 1 2447 0
 3604 01c2 5F4B     		ldr	r3, .L281+8
 3605 01c4 1A7A     		ldrb	r2, [r3, #8]	@ zero_extendqisi2
 3606 01c6 61F3C402 		bfi	r2, r1, #3, #2
 3607 01ca 1A72     		strb	r2, [r3, #8]
2448:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;  
 3608              		.loc 1 2448 0
 3609 01cc 1522     		movs	r2, #21
 3610 01ce 5A4B     		ldr	r3, .L281
 3611 01d0 9A75     		strb	r2, [r3, #22]
2449:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case RX_MGMT:
 3612              		.loc 1 2449 0
 3613 01d2 10BD     		pop	{r4, pc}
 3614              	.L260:
2451:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3615              		.loc 1 2451 0
 3616 01d4 1722     		movs	r2, #23
 3617 01d6 584B     		ldr	r3, .L281
 3618 01d8 9A75     		strb	r2, [r3, #22]
2452:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case RX_DATA:
 3619              		.loc 1 2452 0
 3620 01da 10BD     		pop	{r4, pc}
 3621              	.L261:
2454:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3622              		.loc 1 2454 0
 3623 01dc 1822     		movs	r2, #24
 3624 01de 564B     		ldr	r3, .L281
 3625 01e0 9A75     		strb	r2, [r3, #22]
2455:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case RX_UNK:
 3626              		.loc 1 2455 0
 3627 01e2 10BD     		pop	{r4, pc}
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 130


 3628              	.L262:
2457:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3629              		.loc 1 2457 0
 3630 01e4 1922     		movs	r2, #25
 3631 01e6 544B     		ldr	r3, .L281
 3632 01e8 9A75     		strb	r2, [r3, #22]
2458:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case SockON_Data_Pending:
 3633              		.loc 1 2458 0
 3634 01ea 10BD     		pop	{r4, pc}
 3635              	.L263:
2461:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         {
 3636              		.loc 1 2461 0
 3637 01ec 554B     		ldr	r3, .L281+12
 3638 01ee 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 3639 01f0 13F0200F 		tst	r3, #32
 3640 01f4 06D0     		beq	.L275
2470:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.enable_receive_data_chunk = WIFI_FALSE;
 3641              		.loc 1 2470 0
 3642 01f6 534A     		ldr	r2, .L281+12
 3643 01f8 9378     		ldrb	r3, [r2, #2]	@ zero_extendqisi2
2471:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               //break;
 3644              		.loc 1 2471 0
 3645 01fa 03F0DF03 		and	r3, r3, #223
 3646 01fe 6FF38203 		bfc	r3, #2, #1
 3647 0202 9370     		strb	r3, [r2, #2]
 3648              	.L275:
2499:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           if(open_sockets[WiFi_Counter_Variables.sockon_query_id])
 3649              		.loc 1 2499 0
 3650 0204 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 3651 0206 03F00703 		and	r3, r3, #7
 3652 020a 4D4A     		ldr	r2, .L281+8
 3653 020c 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 3654 020e 63F3C501 		bfi	r1, r3, #3, #3
 3655 0212 1170     		strb	r1, [r2]
2500:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
 3656              		.loc 1 2500 0
 3657 0214 4C4A     		ldr	r2, .L281+16
 3658 0216 D35C     		ldrb	r3, [r2, r3]	@ zero_extendqisi2
 3659 0218 002B     		cmp	r3, #0
 3660 021a 00F08B80 		beq	.L235
2502:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.stop_event_dequeue = WIFI_TRUE;
 3661              		.loc 1 2502 0
 3662 021e 494B     		ldr	r3, .L281+12
 3663 0220 9A78     		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 3664 0222 42F04002 		orr	r2, r2, #64
 3665 0226 9A70     		strb	r2, [r3, #2]
2503:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
 3666              		.loc 1 2503 0
 3667 0228 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 3668 022a 42F00802 		orr	r2, r2, #8
 3669 022e 1A70     		strb	r2, [r3]
 3670 0230 10BD     		pop	{r4, pc}
 3671              	.L264:
2508:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Control_Variables.Client_Socket_Close_Cmd = WIFI_TRUE;
 3672              		.loc 1 2508 0
 3673 0232 4178     		ldrb	r1, [r0, #1]	@ zero_extendqisi2
 3674 0234 424B     		ldr	r3, .L281+8
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 131


 3675 0236 9A79     		ldrb	r2, [r3, #6]	@ zero_extendqisi2
 3676 0238 61F30202 		bfi	r2, r1, #0, #3
 3677 023c 9A71     		strb	r2, [r3, #6]
2509:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3678              		.loc 1 2509 0
 3679 023e 414A     		ldr	r2, .L281+12
 3680 0240 1379     		ldrb	r3, [r2, #4]	@ zero_extendqisi2
 3681 0242 43F08003 		orr	r3, r3, #128
 3682 0246 1371     		strb	r3, [r2, #4]
2510:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #ifdef SPWF01 
 3683              		.loc 1 2510 0
 3684 0248 10BD     		pop	{r4, pc}
 3685              	.L268:
2513:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Control_Variables.data_pending_sockD = WIFI_TRUE;
 3686              		.loc 1 2513 0
 3687 024a 8188     		ldrh	r1, [r0, #4]
 3688 024c 3C4B     		ldr	r3, .L281+8
 3689 024e C3F8A810 		str	r1, [r3, #168]
2514:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Control_Variables.stop_event_dequeue = WIFI_TRUE;             //Stop any more event de-q
 3690              		.loc 1 2514 0
 3691 0252 3C4B     		ldr	r3, .L281+12
 3692 0254 9A78     		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 3693 0256 42F00802 		orr	r2, r2, #8
 3694 025a 9A70     		strb	r2, [r3, #2]
2515:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       //WiFi_Control_Variables.enable_receive_data_chunk = WIFI_TRUE;       // read data in chunk n
 3695              		.loc 1 2515 0
 3696 025c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 3697 025e 42F00802 		orr	r2, r2, #8
 3698 0262 1A70     		strb	r2, [r3]
2518:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         {
 3699              		.loc 1 2518 0
 3700 0264 344B     		ldr	r3, .L281
 3701 0266 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3702 0268 13F0200F 		tst	r3, #32
 3703 026c 14D1     		bne	.L276
2520:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {   //If this is the first WIND64 pending event de-Q'ed
 3704              		.loc 1 2520 0
 3705 026e 8378     		ldrb	r3, [r0, #2]	@ zero_extendqisi2
 3706 0270 012B     		cmp	r3, #1
 3707 0272 09D0     		beq	.L280
2527:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Control_Variables.stop_event_dequeue = WIFI_FALSE; 
 3708              		.loc 1 2527 0
 3709 0274 334B     		ldr	r3, .L281+12
 3710 0276 9A78     		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 3711 0278 6FF3C302 		bfc	r2, #3, #1
 3712 027c 9A70     		strb	r2, [r3, #2]
2528:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
 3713              		.loc 1 2528 0
 3714 027e 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 3715 0280 6FF3C302 		bfc	r2, #3, #1
 3716 0284 1A70     		strb	r2, [r3]
 3717 0286 10BD     		pop	{r4, pc}
 3718              	.L280:
2522:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_switch_to_data_mode();     //switch by default
 3719              		.loc 1 2522 0
 3720 0288 2E4B     		ldr	r3, .L281+12
 3721 028a D2B2     		uxtb	r2, r2
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 132


 3722 028c 6FF30002 		bfc	r2, #0, #1
 3723 0290 1A70     		strb	r2, [r3]
2523:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
 3724              		.loc 1 2523 0
 3725 0292 FFF7FEFF 		bl	WiFi_switch_to_data_mode
 3726              	.LVL188:
 3727 0296 10BD     		pop	{r4, pc}
 3728              	.LVL189:
 3729              	.L276:
2533:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.last_process_buffer_index =5;
 3730              		.loc 1 2533 0
 3731 0298 2A48     		ldr	r0, .L281+12
 3732              	.LVL190:
 3733 029a 8378     		ldrb	r3, [r0, #2]	@ zero_extendqisi2
2534:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Control_Variables.enable_sock_read = WIFI_TRUE;//n
 3734              		.loc 1 2534 0
 3735 029c 284A     		ldr	r2, .L281+8
 3736 029e 0524     		movs	r4, #5
 3737 02a0 A2F89A40 		strh	r4, [r2, #154]	@ movhi
2535:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.SockON_Data_Length = WiFi_Counter_Variables.number_of_bytes;
 3738              		.loc 1 2535 0
 3739 02a4 43F02403 		orr	r3, r3, #36
 3740 02a8 8370     		strb	r3, [r0, #2]
2536:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         }
 3741              		.loc 1 2536 0
 3742 02aa C2F8A410 		str	r1, [r2, #164]
 3743 02ae 10BD     		pop	{r4, pc}
 3744              	.LVL191:
 3745              	.L265:
2544:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_Control_Variables.Client_Connected = WIFI_TRUE;
 3746              		.loc 1 2544 0
 3747 02b0 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 3748 02b2 1909     		lsrs	r1, r3, #4
 3749 02b4 03F00F03 		and	r3, r3, #15
 3750 02b8 244A     		ldr	r2, .L281+20
 3751 02ba 02EBC102 		add	r2, r2, r1, lsl #3
 3752 02be 0121     		movs	r1, #1
 3753 02c0 D154     		strb	r1, [r2, r3]
2545:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       wifi_client_connected=1;  //Set this so that the callback can be made to the user
 3754              		.loc 1 2545 0
 3755 02c2 204A     		ldr	r2, .L281+12
 3756 02c4 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 3757 02c6 43F02003 		orr	r3, r3, #32
 3758 02ca 5370     		strb	r3, [r2, #1]
2546:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3759              		.loc 1 2546 0
 3760 02cc 204B     		ldr	r3, .L281+24
 3761 02ce 1970     		strb	r1, [r3]
2547:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case Outgoing_socket_client:
 3762              		.loc 1 2547 0
 3763 02d0 10BD     		pop	{r4, pc}
 3764              	.L266:
2553:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       wifi_client_disconnected=0;//Set this so that the callback can be made to the user
 3765              		.loc 1 2553 0
 3766 02d2 1C4A     		ldr	r2, .L281+12
 3767 02d4 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 3768 02d6 43F04003 		orr	r3, r3, #64
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 133


 3769 02da 5370     		strb	r3, [r2, #1]
2554:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       wifi_client_connected = 0;
 3770              		.loc 1 2554 0
 3771 02dc 0023     		movs	r3, #0
 3772 02de 1D4A     		ldr	r2, .L281+28
 3773 02e0 1370     		strb	r3, [r2]
2555:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3774              		.loc 1 2555 0
 3775 02e2 1B4A     		ldr	r2, .L281+24
 3776 02e4 1370     		strb	r3, [r2]
2556:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case SockD_Dropping_Data:
 3777              		.loc 1 2556 0
 3778 02e6 10BD     		pop	{r4, pc}
 3779              	.L267:
2558:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3780              		.loc 1 2558 0
 3781 02e8 1A22     		movs	r2, #26
 3782 02ea 134B     		ldr	r3, .L281
 3783 02ec 9A75     		strb	r2, [r3, #22]
2559:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case Going_Into_Standby:
 3784              		.loc 1 2559 0
 3785 02ee 10BD     		pop	{r4, pc}
 3786              	.L270:
2561:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3787              		.loc 1 2561 0
 3788 02f0 144A     		ldr	r2, .L281+12
 3789 02f2 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 3790 02f4 43F00103 		orr	r3, r3, #1
 3791 02f8 5370     		strb	r3, [r2, #1]
2562:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case Resuming_From_Standby:
 3792              		.loc 1 2562 0
 3793 02fa 10BD     		pop	{r4, pc}
 3794              	.L271:
2564:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       IO_status_flag.WiFi_WIND_State = standby_resume_callback;
 3795              		.loc 1 2564 0
 3796 02fc 114B     		ldr	r3, .L281+12
 3797 02fe 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 3798 0300 6FF30002 		bfc	r2, #0, #1
 3799 0304 5A70     		strb	r2, [r3, #1]
2565:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;    
 3800              		.loc 1 2565 0
 3801 0306 1C22     		movs	r2, #28
 3802 0308 0B4B     		ldr	r3, .L281
 3803 030a 9A75     		strb	r2, [r3, #22]
2566:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case Going_Into_DeepSleep:
 3804              		.loc 1 2566 0
 3805 030c 10BD     		pop	{r4, pc}
 3806              	.L272:
2568:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3807              		.loc 1 2568 0
 3808 030e 0D4A     		ldr	r2, .L281+12
 3809 0310 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3810 0312 43F08003 		orr	r3, r3, #128
 3811 0316 1370     		strb	r3, [r2]
2569:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case Resuming_From_DeepSleep:
 3812              		.loc 1 2569 0
 3813 0318 10BD     		pop	{r4, pc}
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 134


 3814              	.L273:
2571:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       Start_DeepSleep_Timer();
 3815              		.loc 1 2571 0
 3816 031a 0A4B     		ldr	r3, .L281+12
 3817 031c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 3818 031e 6FF3C712 		bfc	r2, #7, #1
 3819 0322 1A70     		strb	r2, [r3]
2572:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3820              		.loc 1 2572 0
 3821 0324 FFF7FEFF 		bl	Start_DeepSleep_Timer
 3822              	.LVL192:
2573:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     case Low_Power_Mode_Enabled:
 3823              		.loc 1 2573 0
 3824 0328 10BD     		pop	{r4, pc}
 3825              	.LVL193:
 3826              	.L269:
2575:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       break;
 3827              		.loc 1 2575 0
 3828 032a 064A     		ldr	r2, .L281+12
 3829 032c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3830 032e 43F04003 		orr	r3, r3, #64
 3831 0332 1370     		strb	r3, [r2]
 3832              	.L235:
 3833 0334 10BD     		pop	{r4, pc}
 3834              	.L282:
 3835 0336 00BF     		.align	2
 3836              	.L281:
 3837 0338 00000000 		.word	IO_status_flag
 3838 033c 00000000 		.word	wifi_connected
 3839 0340 00000000 		.word	WiFi_Counter_Variables
 3840 0344 00000000 		.word	WiFi_Control_Variables
 3841 0348 00000000 		.word	open_sockets
 3842 034c 00000000 		.word	client_connected_on_server_socket
 3843 0350 00000000 		.word	wifi_client_connected
 3844 0354 00000000 		.word	wifi_client_disconnected
 3845              		.cfi_endproc
 3846              	.LFE295:
 3848              		.section	.text.Attention_Cmd,"ax",%progbits
 3849              		.align	1
 3850              		.global	Attention_Cmd
 3851              		.syntax unified
 3852              		.thumb
 3853              		.thumb_func
 3854              		.fpu fpv4-sp-d16
 3856              	Attention_Cmd:
 3857              	.LFB328:
3382:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3383:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(status == WiFi_MODULE_SUCCESS)
3384:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
3385:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       //nothing to do
3386:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
3387:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3388:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3389:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3390:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Attention_Cmd
3391:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Attention command
3392:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 135


3393:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval WiFi_Status_t : status of AT cmd Request
3394:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3395:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** WiFi_Status_t Attention_Cmd()
3396:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 3858              		.loc 1 3396 0
 3859              		.cfi_startproc
 3860              		@ args = 0, pretend = 0, frame = 0
 3861              		@ frame_needed = 0, uses_anonymous_args = 0
 3862 0000 08B5     		push	{r3, lr}
 3863              	.LCFI41:
 3864              		.cfi_def_cfa_offset 8
 3865              		.cfi_offset 3, -8
 3866              		.cfi_offset 14, -4
 3867              	.LVL194:
3397:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Status_t status = WiFi_MODULE_SUCCESS;
3398:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3399:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Reset_AT_CMD_Buffer(); 
 3868              		.loc 1 3399 0
 3869 0002 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 3870              	.LVL195:
3400:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3401:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* AT : send AT command */
3402:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   sprintf((char*)WiFi_AT_Cmd_Buff,AT_ATTENTION);  
 3871              		.loc 1 3402 0
 3872 0006 094B     		ldr	r3, .L287
 3873 0008 094A     		ldr	r2, .L287+4
 3874 000a 1068     		ldr	r0, [r2]
 3875 000c 1860     		str	r0, [r3]	@ unaligned
3403:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3404:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 3876              		.loc 1 3404 0
 3877 000e 1846     		mov	r0, r3
 3878 0010 FFF7FEFF 		bl	strlen
 3879              	.LVL196:
 3880 0014 80B2     		uxth	r0, r0
 3881 0016 FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 3882              	.LVL197:
3405:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(status == WiFi_MODULE_SUCCESS)
 3883              		.loc 1 3405 0
 3884 001a 0346     		mov	r3, r0
 3885 001c 08B1     		cbz	r0, .L286
 3886              	.LVL198:
 3887              	.L284:
3406:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
3407:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       status = USART_Receive_AT_Resp( );
3408:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
3409:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   return status; 
3410:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 3888              		.loc 1 3410 0
 3889 001e 1846     		mov	r0, r3
 3890 0020 08BD     		pop	{r3, pc}
 3891              	.LVL199:
 3892              	.L286:
3407:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 3893              		.loc 1 3407 0
 3894 0022 FFF7FEFF 		bl	USART_Receive_AT_Resp
 3895              	.LVL200:
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 136


 3896 0026 0346     		mov	r3, r0
 3897              	.LVL201:
 3898 0028 F9E7     		b	.L284
 3899              	.L288:
 3900 002a 00BF     		.align	2
 3901              	.L287:
 3902 002c 00000000 		.word	WiFi_AT_Cmd_Buff
 3903 0030 00000000 		.word	.LC13
 3904              		.cfi_endproc
 3905              	.LFE328:
 3907              		.section	.text.Display_Help_Text,"ax",%progbits
 3908              		.align	1
 3909              		.global	Display_Help_Text
 3910              		.syntax unified
 3911              		.thumb
 3912              		.thumb_func
 3913              		.fpu fpv4-sp-d16
 3915              	Display_Help_Text:
 3916              	.LFB329:
3411:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3412:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3413:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3414:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Display_Help_Text
3415:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         this function will print a list of all commands supported with a brief help text for each
3416:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
3417:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval WiFi_Status_t : status of AT cmd Request
3418:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3419:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** WiFi_Status_t Display_Help_Text()
3420:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 3917              		.loc 1 3420 0
 3918              		.cfi_startproc
 3919              		@ args = 0, pretend = 0, frame = 0
 3920              		@ frame_needed = 0, uses_anonymous_args = 0
 3921 0000 08B5     		push	{r3, lr}
 3922              	.LCFI42:
 3923              		.cfi_def_cfa_offset 8
 3924              		.cfi_offset 3, -8
 3925              		.cfi_offset 14, -4
 3926              	.LVL202:
3421:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Status_t status = WiFi_MODULE_SUCCESS;
3422:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Reset_AT_CMD_Buffer();
 3927              		.loc 1 3422 0
 3928 0002 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 3929              	.LVL203:
3423:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3424:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* AT : send AT command */
3425:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   sprintf((char*)WiFi_AT_Cmd_Buff,AT_HELP_TEXT);  
 3930              		.loc 1 3425 0
 3931 0006 0B4A     		ldr	r2, .L293
 3932 0008 0B4B     		ldr	r3, .L293+4
 3933 000a 03CB     		ldmia	r3!, {r0, r1}
 3934 000c 1060     		str	r0, [r2]	@ unaligned
 3935 000e 5160     		str	r1, [r2, #4]	@ unaligned
 3936 0010 1988     		ldrh	r1, [r3]	@ unaligned
 3937 0012 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 3938 0014 1181     		strh	r1, [r2, #8]	@ unaligned
 3939 0016 9372     		strb	r3, [r2, #10]
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 137


3426:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3427:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 3940              		.loc 1 3427 0
 3941 0018 1046     		mov	r0, r2
 3942 001a FFF7FEFF 		bl	strlen
 3943              	.LVL204:
 3944 001e 80B2     		uxth	r0, r0
 3945 0020 FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 3946              	.LVL205:
3428:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(status == WiFi_MODULE_SUCCESS)
 3947              		.loc 1 3428 0
 3948 0024 0346     		mov	r3, r0
 3949 0026 08B1     		cbz	r0, .L292
 3950              	.LVL206:
 3951              	.L290:
3429:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
3430:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       status = USART_Receive_AT_Resp( );
3431:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
3432:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   return status; 
3433:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 3952              		.loc 1 3433 0
 3953 0028 1846     		mov	r0, r3
 3954 002a 08BD     		pop	{r3, pc}
 3955              	.LVL207:
 3956              	.L292:
3430:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 3957              		.loc 1 3430 0
 3958 002c FFF7FEFF 		bl	USART_Receive_AT_Resp
 3959              	.LVL208:
 3960 0030 0346     		mov	r3, r0
 3961              	.LVL209:
 3962 0032 F9E7     		b	.L290
 3963              	.L294:
 3964              		.align	2
 3965              	.L293:
 3966 0034 00000000 		.word	WiFi_AT_Cmd_Buff
 3967 0038 00000000 		.word	.LC14
 3968              		.cfi_endproc
 3969              	.LFE329:
 3971              		.section	.text.GET_Configuration_Value,"ax",%progbits
 3972              		.align	1
 3973              		.global	GET_Configuration_Value
 3974              		.syntax unified
 3975              		.thumb
 3976              		.thumb_func
 3977              		.fpu fpv4-sp-d16
 3979              	GET_Configuration_Value:
 3980              	.LFB330:
3434:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3435:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3436:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  GET_Configuration_Value
3437:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Get a wifi configuration value from the module
3438:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  sVar_name : Name of the config variable
3439:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         aValue    : value of config variable to be returned to user
3440:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval WiFi_Status_t : status of AT cmd Request
3441:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3442:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** WiFi_Status_t GET_Configuration_Value(char* sVar_name,uint32_t *aValue)
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 138


3443:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 3981              		.loc 1 3443 0
 3982              		.cfi_startproc
 3983              		@ args = 0, pretend = 0, frame = 0
 3984              		@ frame_needed = 0, uses_anonymous_args = 0
 3985              	.LVL210:
 3986 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3987              	.LCFI43:
 3988              		.cfi_def_cfa_offset 24
 3989              		.cfi_offset 3, -24
 3990              		.cfi_offset 4, -20
 3991              		.cfi_offset 5, -16
 3992              		.cfi_offset 6, -12
 3993              		.cfi_offset 7, -8
 3994              		.cfi_offset 14, -4
 3995 0002 0546     		mov	r5, r0
 3996 0004 0E46     		mov	r6, r1
 3997              	.LVL211:
3444:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   int cfg_value_length;
3445:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Status_t status = WiFi_MODULE_SUCCESS;
3446:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3447:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Reset_AT_CMD_Buffer(); 
 3998              		.loc 1 3447 0
 3999 0006 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 4000              	.LVL212:
3448:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #if defined(CONSOLE_UART_ENABLED)
3449:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* AT : send AT command */  
3450:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   sprintf((char*)WiFi_AT_Cmd_Buff,AT_GET_CONFIGURATION_VALUE,sVar_name);   
 4001              		.loc 1 3450 0
 4002 000a 114C     		ldr	r4, .L299
 4003 000c 2A46     		mov	r2, r5
 4004 000e 1149     		ldr	r1, .L299+4
 4005 0010 2046     		mov	r0, r4
 4006 0012 FFF7FEFF 		bl	sprintf
 4007              	.LVL213:
3451:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3452:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 4008              		.loc 1 3452 0
 4009 0016 2046     		mov	r0, r4
 4010 0018 FFF7FEFF 		bl	strlen
 4011              	.LVL214:
 4012 001c 80B2     		uxth	r0, r0
 4013 001e FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 4014              	.LVL215:
3453:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(status == WiFi_MODULE_SUCCESS)
 4015              		.loc 1 3453 0
 4016 0022 0446     		mov	r4, r0
 4017 0024 08B1     		cbz	r0, .L298
 4018              	.LVL216:
 4019              	.L296:
3454:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
3455:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       status = USART_Receive_AT_Resp( );
3456:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       cfg_value_length = strlen((const char*)WiFi_Counter_Variables.get_cfg_value);
3457:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       memcpy(aValue,WiFi_Counter_Variables.get_cfg_value,cfg_value_length);   //copy user pointer t
3458:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       memset(WiFi_Counter_Variables.get_cfg_value, 0x00,cfg_value_length);
3459:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
3460:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #else
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 139


3461:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* AT : send AT command */
3462:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.GCFG=%s",sVar_name);
3463:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_DMA);
3464:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   IO_status_flag.AT_event_processing = WIFI_GCFG_EVENT;
3465:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   status = USART_Receive_AT_Resp( );
3466:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(status == WiFi_MODULE_SUCCESS)
3467:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
3468:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       cfg_value_length = strlen((const char*)WiFi_Counter_Variables.get_cfg_value);
3469:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       memcpy(aValue,WiFi_Counter_Variables.get_cfg_value,cfg_value_length);   //copy user pointer t
3470:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       memset(WiFi_Counter_Variables.get_cfg_value, 0x00,cfg_value_length);
3471:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
3472:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif    
3473:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   return status; 
3474:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 4020              		.loc 1 3474 0
 4021 0026 2046     		mov	r0, r4
 4022 0028 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4023              	.LVL217:
 4024              	.L298:
3455:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       cfg_value_length = strlen((const char*)WiFi_Counter_Variables.get_cfg_value);
 4025              		.loc 1 3455 0
 4026 002a FFF7FEFF 		bl	USART_Receive_AT_Resp
 4027              	.LVL218:
 4028 002e 0446     		mov	r4, r0
 4029              	.LVL219:
3456:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       memcpy(aValue,WiFi_Counter_Variables.get_cfg_value,cfg_value_length);   //copy user pointer t
 4030              		.loc 1 3456 0
 4031 0030 094D     		ldr	r5, .L299+8
 4032              	.LVL220:
 4033 0032 2846     		mov	r0, r5
 4034 0034 FFF7FEFF 		bl	strlen
 4035              	.LVL221:
 4036 0038 0746     		mov	r7, r0
 4037              	.LVL222:
3457:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       memset(WiFi_Counter_Variables.get_cfg_value, 0x00,cfg_value_length);
 4038              		.loc 1 3457 0
 4039 003a 0246     		mov	r2, r0
 4040 003c 2946     		mov	r1, r5
 4041 003e 3046     		mov	r0, r6
 4042              	.LVL223:
 4043 0040 FFF7FEFF 		bl	memcpy
 4044              	.LVL224:
3458:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 4045              		.loc 1 3458 0
 4046 0044 3A46     		mov	r2, r7
 4047 0046 0021     		movs	r1, #0
 4048 0048 2846     		mov	r0, r5
 4049 004a FFF7FEFF 		bl	memset
 4050              	.LVL225:
 4051 004e EAE7     		b	.L296
 4052              	.L300:
 4053              		.align	2
 4054              	.L299:
 4055 0050 00000000 		.word	WiFi_AT_Cmd_Buff
 4056 0054 0C000000 		.word	.LC9
 4057 0058 0E000000 		.word	WiFi_Counter_Variables+14
 4058              		.cfi_endproc
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 140


 4059              	.LFE330:
 4061              		.section	.text.SET_Configuration_Addr,"ax",%progbits
 4062              		.align	1
 4063              		.global	SET_Configuration_Addr
 4064              		.syntax unified
 4065              		.thumb
 4066              		.thumb_func
 4067              		.fpu fpv4-sp-d16
 4069              	SET_Configuration_Addr:
 4070              	.LFB331:
3475:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3476:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3477:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  SET_Configuration_Addr
3478:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Get a wifi configuration address from the module
3479:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  sVar_name : Name of the config variable
3480:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         addr    : value of config address to be returned to user
3481:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval WiFi_Status_t : status of AT cmd Request
3482:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3483:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** WiFi_Status_t SET_Configuration_Addr(char* sVar_name,char* addr)
3484:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 4071              		.loc 1 3484 0
 4072              		.cfi_startproc
 4073              		@ args = 0, pretend = 0, frame = 0
 4074              		@ frame_needed = 0, uses_anonymous_args = 0
 4075              	.LVL226:
 4076 0000 70B5     		push	{r4, r5, r6, lr}
 4077              	.LCFI44:
 4078              		.cfi_def_cfa_offset 16
 4079              		.cfi_offset 4, -16
 4080              		.cfi_offset 5, -12
 4081              		.cfi_offset 6, -8
 4082              		.cfi_offset 14, -4
 4083 0002 0546     		mov	r5, r0
 4084 0004 0E46     		mov	r6, r1
 4085              	.LVL227:
3485:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Status_t status = WiFi_MODULE_SUCCESS;
3486:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3487:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Reset_AT_CMD_Buffer(); 
 4086              		.loc 1 3487 0
 4087 0006 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 4088              	.LVL228:
3488:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #if defined(CONSOLE_UART_ENABLED)
3489:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* AT : send AT command */
3490:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   sprintf((char*)WiFi_AT_Cmd_Buff,AT_SET_CONFIGURATION_ADDRESS,sVar_name,addr);  
 4089              		.loc 1 3490 0
 4090 000a 0A4C     		ldr	r4, .L305
 4091 000c 3346     		mov	r3, r6
 4092 000e 2A46     		mov	r2, r5
 4093 0010 0949     		ldr	r1, .L305+4
 4094 0012 2046     		mov	r0, r4
 4095 0014 FFF7FEFF 		bl	sprintf
 4096              	.LVL229:
3491:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3492:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 4097              		.loc 1 3492 0
 4098 0018 2046     		mov	r0, r4
 4099 001a FFF7FEFF 		bl	strlen
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 141


 4100              	.LVL230:
 4101 001e 80B2     		uxth	r0, r0
 4102 0020 FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 4103              	.LVL231:
3493:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(status == WiFi_MODULE_SUCCESS)
 4104              		.loc 1 3493 0
 4105 0024 0346     		mov	r3, r0
 4106 0026 08B1     		cbz	r0, .L304
 4107              	.LVL232:
 4108              	.L302:
3494:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
3495:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       status = USART_Receive_AT_Resp( );
3496:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
3497:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #else
3498:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* AT : send AT command */
3499:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.SCFG=%s,%s",sVar_name,addr);
3500:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_DMA);
3501:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   IO_status_flag.AT_event_processing = WIFI_GCFG_EVENT;
3502:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   status = USART_Receive_AT_Resp( );
3503:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif  
3504:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   return status;
3505:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 4109              		.loc 1 3505 0
 4110 0028 1846     		mov	r0, r3
 4111 002a 70BD     		pop	{r4, r5, r6, pc}
 4112              	.LVL233:
 4113              	.L304:
3495:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 4114              		.loc 1 3495 0
 4115 002c FFF7FEFF 		bl	USART_Receive_AT_Resp
 4116              	.LVL234:
 4117 0030 0346     		mov	r3, r0
 4118              	.LVL235:
 4119 0032 F9E7     		b	.L302
 4120              	.L306:
 4121              		.align	2
 4122              	.L305:
 4123 0034 00000000 		.word	WiFi_AT_Cmd_Buff
 4124 0038 00000000 		.word	.LC15
 4125              		.cfi_endproc
 4126              	.LFE331:
 4128              		.section	.text.SET_Configuration_Value,"ax",%progbits
 4129              		.align	1
 4130              		.global	SET_Configuration_Value
 4131              		.syntax unified
 4132              		.thumb
 4133              		.thumb_func
 4134              		.fpu fpv4-sp-d16
 4136              	SET_Configuration_Value:
 4137              	.LFB332:
3506:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3507:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3508:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  SET_Configuration_Value
3509:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         SET the value of configuration variable
3510:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  sVar_name : Name of the config variable
3511:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         aValue    : value of config variable
3512:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval WiFi_Status_t : status of AT cmd Request
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 142


3513:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3514:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** WiFi_Status_t SET_Configuration_Value(char* sVar_name,uint32_t aValue)
3515:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 4138              		.loc 1 3515 0
 4139              		.cfi_startproc
 4140              		@ args = 0, pretend = 0, frame = 0
 4141              		@ frame_needed = 0, uses_anonymous_args = 0
 4142              	.LVL236:
 4143 0000 70B5     		push	{r4, r5, r6, lr}
 4144              	.LCFI45:
 4145              		.cfi_def_cfa_offset 16
 4146              		.cfi_offset 4, -16
 4147              		.cfi_offset 5, -12
 4148              		.cfi_offset 6, -8
 4149              		.cfi_offset 14, -4
 4150 0002 0546     		mov	r5, r0
 4151 0004 0E46     		mov	r6, r1
 4152              	.LVL237:
3516:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Status_t status = WiFi_MODULE_SUCCESS;
3517:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3518:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Reset_AT_CMD_Buffer(); 
 4153              		.loc 1 3518 0
 4154 0006 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 4155              	.LVL238:
3519:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3520:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #if defined(CONSOLE_UART_ENABLED)
3521:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* AT : send AT command */
3522:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   sprintf((char*)WiFi_AT_Cmd_Buff,AT_SET_CONFIGURATION_VALUE,sVar_name,(int)aValue);  
 4156              		.loc 1 3522 0
 4157 000a 0A4C     		ldr	r4, .L311
 4158 000c 3346     		mov	r3, r6
 4159 000e 2A46     		mov	r2, r5
 4160 0010 0949     		ldr	r1, .L311+4
 4161 0012 2046     		mov	r0, r4
 4162 0014 FFF7FEFF 		bl	sprintf
 4163              	.LVL239:
3523:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3524:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 4164              		.loc 1 3524 0
 4165 0018 2046     		mov	r0, r4
 4166 001a FFF7FEFF 		bl	strlen
 4167              	.LVL240:
 4168 001e 80B2     		uxth	r0, r0
 4169 0020 FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 4170              	.LVL241:
3525:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(status == WiFi_MODULE_SUCCESS)
 4171              		.loc 1 3525 0
 4172 0024 0346     		mov	r3, r0
 4173 0026 08B1     		cbz	r0, .L310
 4174              	.LVL242:
 4175              	.L308:
3526:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
3527:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       status = USART_Receive_AT_Resp( );
3528:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
3529:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #else
3530:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* AT : send AT command */
3531:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.SCFG=%s,%d",sVar_name,(int)aValue);
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 143


3532:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_DMA);
3533:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   status = USART_Receive_AT_Resp( );
3534:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
3535:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
3536:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   return status; 
3537:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 4176              		.loc 1 3537 0
 4177 0028 1846     		mov	r0, r3
 4178 002a 70BD     		pop	{r4, r5, r6, pc}
 4179              	.LVL243:
 4180              	.L310:
3527:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 4181              		.loc 1 3527 0
 4182 002c FFF7FEFF 		bl	USART_Receive_AT_Resp
 4183              	.LVL244:
 4184 0030 0346     		mov	r3, r0
 4185              	.LVL245:
 4186 0032 F9E7     		b	.L308
 4187              	.L312:
 4188              		.align	2
 4189              	.L311:
 4190 0034 00000000 		.word	WiFi_AT_Cmd_Buff
 4191 0038 00000000 		.word	.LC16
 4192              		.cfi_endproc
 4193              	.LFE332:
 4195              		.section	.text.SET_SSID,"ax",%progbits
 4196              		.align	1
 4197              		.global	SET_SSID
 4198              		.syntax unified
 4199              		.thumb
 4200              		.thumb_func
 4201              		.fpu fpv4-sp-d16
 4203              	SET_SSID:
 4204              	.LFB333:
3538:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3539:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3540:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  SET_SSID
3541:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         SET SSID in flash memory of Wi-Fi module
3542:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  ssid : pointer of SSID
3543:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval WiFi_Status_t : status of AT cmd Request
3544:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3545:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** WiFi_Status_t SET_SSID(char* ssid)
3546:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 4205              		.loc 1 3546 0
 4206              		.cfi_startproc
 4207              		@ args = 0, pretend = 0, frame = 0
 4208              		@ frame_needed = 0, uses_anonymous_args = 0
 4209              	.LVL246:
 4210 0000 38B5     		push	{r3, r4, r5, lr}
 4211              	.LCFI46:
 4212              		.cfi_def_cfa_offset 16
 4213              		.cfi_offset 3, -16
 4214              		.cfi_offset 4, -12
 4215              		.cfi_offset 5, -8
 4216              		.cfi_offset 14, -4
 4217 0002 0546     		mov	r5, r0
 4218              	.LVL247:
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 144


3547:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Status_t status = WiFi_MODULE_SUCCESS;
3548:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
3549:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Reset_AT_CMD_Buffer(); 
 4219              		.loc 1 3549 0
 4220 0004 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 4221              	.LVL248:
3550:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3551:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #if defined(CONSOLE_UART_ENABLED)
3552:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* AT+S.SSIDTXT=abcd <ExampleSSID>  */
3553:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   sprintf((char*)WiFi_AT_Cmd_Buff,AT_SET_SSID,ssid);  
 4222              		.loc 1 3553 0
 4223 0008 094C     		ldr	r4, .L317
 4224 000a 2A46     		mov	r2, r5
 4225 000c 0949     		ldr	r1, .L317+4
 4226 000e 2046     		mov	r0, r4
 4227 0010 FFF7FEFF 		bl	sprintf
 4228              	.LVL249:
3554:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3555:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 4229              		.loc 1 3555 0
 4230 0014 2046     		mov	r0, r4
 4231 0016 FFF7FEFF 		bl	strlen
 4232              	.LVL250:
 4233 001a 80B2     		uxth	r0, r0
 4234 001c FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 4235              	.LVL251:
3556:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(status == WiFi_MODULE_SUCCESS)
 4236              		.loc 1 3556 0
 4237 0020 0346     		mov	r3, r0
 4238 0022 08B1     		cbz	r0, .L316
 4239              	.LVL252:
 4240              	.L314:
3557:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
3558:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       status = USART_Receive_AT_Resp( );
3559:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
3560:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #else
3561:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
3562:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* Set AT+S.SSIDTXT=<SSID>*/
3563:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.SSIDTXT=%s",ssid);  
3564:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_DMA);
3565:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   status = USART_Receive_AT_Resp( );
3566:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif  
3567:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
3568:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   return status; 
3569:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 4241              		.loc 1 3569 0
 4242 0024 1846     		mov	r0, r3
 4243 0026 38BD     		pop	{r3, r4, r5, pc}
 4244              	.LVL253:
 4245              	.L316:
3558:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 4246              		.loc 1 3558 0
 4247 0028 FFF7FEFF 		bl	USART_Receive_AT_Resp
 4248              	.LVL254:
 4249 002c 0346     		mov	r3, r0
 4250              	.LVL255:
 4251 002e F9E7     		b	.L314
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 145


 4252              	.L318:
 4253              		.align	2
 4254              	.L317:
 4255 0030 00000000 		.word	WiFi_AT_Cmd_Buff
 4256 0034 00000000 		.word	.LC17
 4257              		.cfi_endproc
 4258              	.LFE333:
 4260              		.section	.text.SET_WiFi_SecKey,"ax",%progbits
 4261              		.align	1
 4262              		.global	SET_WiFi_SecKey
 4263              		.syntax unified
 4264              		.thumb
 4265              		.thumb_func
 4266              		.fpu fpv4-sp-d16
 4268              	SET_WiFi_SecKey:
 4269              	.LFB334:
3570:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3571:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3572:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3573:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  SET_WiFi_SecKey
3574:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         SET wifi security key
3575:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  seckey : pointer of security key
3576:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval WiFi_Status_t : status of AT cmd Request
3577:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3578:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** WiFi_Status_t SET_WiFi_SecKey(char* seckey)
3579:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 4270              		.loc 1 3579 0
 4271              		.cfi_startproc
 4272              		@ args = 0, pretend = 0, frame = 0
 4273              		@ frame_needed = 0, uses_anonymous_args = 0
 4274              	.LVL256:
 4275 0000 38B5     		push	{r3, r4, r5, lr}
 4276              	.LCFI47:
 4277              		.cfi_def_cfa_offset 16
 4278              		.cfi_offset 3, -16
 4279              		.cfi_offset 4, -12
 4280              		.cfi_offset 5, -8
 4281              		.cfi_offset 14, -4
 4282 0002 0546     		mov	r5, r0
 4283              	.LVL257:
3580:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Status_t status = WiFi_MODULE_SUCCESS;
3581:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
3582:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Reset_AT_CMD_Buffer(); 
 4284              		.loc 1 3582 0
 4285 0004 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 4286              	.LVL258:
3583:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
3584:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #if defined(CONSOLE_UART_ENABLED)
3585:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* AT+S.SCFG=wifi_wpa_psk_text,helloworld : set password */
3586:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   sprintf((char*)WiFi_AT_Cmd_Buff,AT_SET_SEC_KEY,seckey);  
 4287              		.loc 1 3586 0
 4288 0008 094C     		ldr	r4, .L323
 4289 000a 2A46     		mov	r2, r5
 4290 000c 0949     		ldr	r1, .L323+4
 4291 000e 2046     		mov	r0, r4
 4292 0010 FFF7FEFF 		bl	sprintf
 4293              	.LVL259:
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 146


3587:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3588:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 4294              		.loc 1 3588 0
 4295 0014 2046     		mov	r0, r4
 4296 0016 FFF7FEFF 		bl	strlen
 4297              	.LVL260:
 4298 001a 80B2     		uxth	r0, r0
 4299 001c FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 4300              	.LVL261:
3589:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(status == WiFi_MODULE_SUCCESS)
 4301              		.loc 1 3589 0
 4302 0020 0346     		mov	r3, r0
 4303 0022 08B1     		cbz	r0, .L322
 4304              	.LVL262:
 4305              	.L320:
3590:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
3591:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       status = USART_Receive_AT_Resp( );
3592:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
3593:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #else  
3594:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* Set WIFI_WPA_SECURITY*/  
3595:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   status = SET_Configuration_Addr(WIFI_WPA_SECURITY, seckey);
3596:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(status != WiFi_MODULE_SUCCESS) return status;
3597:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
3598:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** return status;    
3599:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 4306              		.loc 1 3599 0
 4307 0024 1846     		mov	r0, r3
 4308 0026 38BD     		pop	{r3, r4, r5, pc}
 4309              	.LVL263:
 4310              	.L322:
3591:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 4311              		.loc 1 3591 0
 4312 0028 FFF7FEFF 		bl	USART_Receive_AT_Resp
 4313              	.LVL264:
 4314 002c 0346     		mov	r3, r0
 4315              	.LVL265:
 4316 002e F9E7     		b	.L320
 4317              	.L324:
 4318              		.align	2
 4319              	.L323:
 4320 0030 00000000 		.word	WiFi_AT_Cmd_Buff
 4321 0034 00000000 		.word	.LC18
 4322              		.cfi_endproc
 4323              	.LFE334:
 4325              		.section	.text.Restore_Default_Setting,"ax",%progbits
 4326              		.align	1
 4327              		.global	Restore_Default_Setting
 4328              		.syntax unified
 4329              		.thumb
 4330              		.thumb_func
 4331              		.fpu fpv4-sp-d16
 4333              	Restore_Default_Setting:
 4334              	.LFB335:
3600:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3601:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3602:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3603:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Restore_Default_Setting
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 147


3604:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Restore the factory default values of the configuration variables 
3605:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         and writes them to non volatile storage
3606:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
3607:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval WiFi_Status_t : status of AT cmd Request
3608:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3609:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** WiFi_Status_t Restore_Default_Setting()
3610:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 4335              		.loc 1 3610 0
 4336              		.cfi_startproc
 4337              		@ args = 0, pretend = 0, frame = 0
 4338              		@ frame_needed = 0, uses_anonymous_args = 0
 4339 0000 08B5     		push	{r3, lr}
 4340              	.LCFI48:
 4341              		.cfi_def_cfa_offset 8
 4342              		.cfi_offset 3, -8
 4343              		.cfi_offset 14, -4
 4344              	.LVL266:
3611:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Status_t status = WiFi_MODULE_SUCCESS;
3612:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3613:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Reset_AT_CMD_Buffer(); 
 4345              		.loc 1 3613 0
 4346 0002 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 4347              	.LVL267:
3614:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3615:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #if defined(CONSOLE_UART_ENABLED)
3616:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* AT&F: restore default setting */
3617:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   sprintf((char*)WiFi_AT_Cmd_Buff,AT_RESTORE_DEFAULT_SETTING);
 4348              		.loc 1 3617 0
 4349 0006 0A4B     		ldr	r3, .L329
 4350 0008 0A4A     		ldr	r2, .L329+4
 4351 000a 1068     		ldr	r0, [r2]
 4352 000c 1860     		str	r0, [r3]	@ unaligned
 4353 000e 9288     		ldrh	r2, [r2, #4]	@ unaligned
 4354 0010 9A80     		strh	r2, [r3, #4]	@ unaligned
3618:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 4355              		.loc 1 3618 0
 4356 0012 1846     		mov	r0, r3
 4357 0014 FFF7FEFF 		bl	strlen
 4358              	.LVL268:
 4359 0018 80B2     		uxth	r0, r0
 4360 001a FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 4361              	.LVL269:
3619:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #else
3620:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   sprintf((char*)WiFi_AT_Cmd_Buff,"AT+S.FCFG");
3621:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_DMA);
3622:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   status = WiFi_MODULE_SUCCESS;
3623:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
3624:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
3625:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(status == WiFi_MODULE_SUCCESS)
 4362              		.loc 1 3625 0
 4363 001e 0346     		mov	r3, r0
 4364 0020 08B1     		cbz	r0, .L328
 4365              	.LVL270:
 4366              	.L326:
3626:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
3627:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       status = USART_Receive_AT_Resp( );
3628:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 148


3629:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   return status;
3630:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 4367              		.loc 1 3630 0
 4368 0022 1846     		mov	r0, r3
 4369 0024 08BD     		pop	{r3, pc}
 4370              	.LVL271:
 4371              	.L328:
3627:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 4372              		.loc 1 3627 0
 4373 0026 FFF7FEFF 		bl	USART_Receive_AT_Resp
 4374              	.LVL272:
 4375 002a 0346     		mov	r3, r0
 4376              	.LVL273:
 4377 002c F9E7     		b	.L326
 4378              	.L330:
 4379 002e 00BF     		.align	2
 4380              	.L329:
 4381 0030 00000000 		.word	WiFi_AT_Cmd_Buff
 4382 0034 00000000 		.word	.LC19
 4383              		.cfi_endproc
 4384              	.LFE335:
 4386              		.section	.text.Save_Current_Setting,"ax",%progbits
 4387              		.align	1
 4388              		.global	Save_Current_Setting
 4389              		.syntax unified
 4390              		.thumb
 4391              		.thumb_func
 4392              		.fpu fpv4-sp-d16
 4394              	Save_Current_Setting:
 4395              	.LFB336:
3631:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3632:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3633:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  Save_Current_Setting
3634:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Store the current RAM-based setting to non-volatile storage
3635:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
3636:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval WiFi_Status_t : status of AT cmd Request
3637:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3638:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** WiFi_Status_t Save_Current_Setting()
3639:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 4396              		.loc 1 3639 0
 4397              		.cfi_startproc
 4398              		@ args = 0, pretend = 0, frame = 0
 4399              		@ frame_needed = 0, uses_anonymous_args = 0
 4400 0000 08B5     		push	{r3, lr}
 4401              	.LCFI49:
 4402              		.cfi_def_cfa_offset 8
 4403              		.cfi_offset 3, -8
 4404              		.cfi_offset 14, -4
 4405              	.LVL274:
3640:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Status_t status = WiFi_MODULE_SUCCESS;
3641:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Reset_AT_CMD_Buffer();
 4406              		.loc 1 3641 0
 4407 0002 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 4408              	.LVL275:
3642:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /* AT&W :Save the settings on the flash memory */
3643:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   sprintf((char*)WiFi_AT_Cmd_Buff,AT_SAVE_CURRENT_SETTING);
 4409              		.loc 1 3643 0
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 149


 4410 0006 0A4B     		ldr	r3, .L335
 4411 0008 0A4A     		ldr	r2, .L335+4
 4412 000a 1068     		ldr	r0, [r2]
 4413 000c 1860     		str	r0, [r3]	@ unaligned
 4414 000e 9288     		ldrh	r2, [r2, #4]	@ unaligned
 4415 0010 9A80     		strh	r2, [r3, #4]	@ unaligned
3644:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
3645:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #if defined(CONSOLE_UART_ENABLED)
3646:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 4416              		.loc 1 3646 0
 4417 0012 1846     		mov	r0, r3
 4418 0014 FFF7FEFF 		bl	strlen
 4419              	.LVL276:
 4420 0018 80B2     		uxth	r0, r0
 4421 001a FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 4422              	.LVL277:
3647:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(status == WiFi_MODULE_SUCCESS)
 4423              		.loc 1 3647 0
 4424 001e 0346     		mov	r3, r0
 4425 0020 08B1     		cbz	r0, .L334
 4426              	.LVL278:
 4427              	.L332:
3648:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
3649:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       status = USART_Receive_AT_Resp( );
3650:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
3651:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #else
3652:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   run_spi_cmd((char*)WiFi_AT_Cmd_Buff, SPI_DMA);
3653:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   status = USART_Receive_AT_Resp( );
3654:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
3655:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
3656:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   return status; 
3657:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 4428              		.loc 1 3657 0
 4429 0022 1846     		mov	r0, r3
 4430 0024 08BD     		pop	{r3, pc}
 4431              	.LVL279:
 4432              	.L334:
3649:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 4433              		.loc 1 3649 0
 4434 0026 FFF7FEFF 		bl	USART_Receive_AT_Resp
 4435              	.LVL280:
 4436 002a 0346     		mov	r3, r0
 4437              	.LVL281:
 4438 002c F9E7     		b	.L332
 4439              	.L336:
 4440 002e 00BF     		.align	2
 4441              	.L335:
 4442 0030 00000000 		.word	WiFi_AT_Cmd_Buff
 4443 0034 00000000 		.word	.LC20
 4444              		.cfi_endproc
 4445              	.LFE336:
 4447              		.section	.text.Write_WiFi_SSID,"ax",%progbits
 4448              		.align	1
 4449              		.global	Write_WiFi_SSID
 4450              		.syntax unified
 4451              		.thumb
 4452              		.thumb_func
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 150


 4453              		.fpu fpv4-sp-d16
 4455              	Write_WiFi_SSID:
 4456              	.LFB317:
3165:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Status_t status = WiFi_MODULE_SUCCESS;  
 4457              		.loc 1 3165 0
 4458              		.cfi_startproc
 4459              		@ args = 0, pretend = 0, frame = 0
 4460              		@ frame_needed = 0, uses_anonymous_args = 0
 4461              	.LVL282:
 4462 0000 38B5     		push	{r3, r4, r5, lr}
 4463              	.LCFI50:
 4464              		.cfi_def_cfa_offset 16
 4465              		.cfi_offset 3, -16
 4466              		.cfi_offset 4, -12
 4467              		.cfi_offset 5, -8
 4468              		.cfi_offset 14, -4
 4469 0002 0546     		mov	r5, r0
 4470              	.LVL283:
3167:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 4471              		.loc 1 3167 0
 4472 0004 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 4473              	.LVL284:
3170:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 4474              		.loc 1 3170 0
 4475 0008 0B4C     		ldr	r4, .L341
 4476 000a 2A46     		mov	r2, r5
 4477 000c 0B49     		ldr	r1, .L341+4
 4478 000e 2046     		mov	r0, r4
 4479 0010 FFF7FEFF 		bl	sprintf
 4480              	.LVL285:
3172:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(status == WiFi_MODULE_SUCCESS)
 4481              		.loc 1 3172 0
 4482 0014 2046     		mov	r0, r4
 4483 0016 FFF7FEFF 		bl	strlen
 4484              	.LVL286:
 4485 001a 80B2     		uxth	r0, r0
 4486 001c FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 4487              	.LVL287:
3173:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
 4488              		.loc 1 3173 0
 4489 0020 0446     		mov	r4, r0
 4490 0022 28B1     		cbz	r0, .L340
 4491              	.LVL288:
 4492              	.L338:
3179:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Save_Current_Setting();
 4493              		.loc 1 3179 0
 4494 0024 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 4495              	.LVL289:
3180:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 4496              		.loc 1 3180 0
 4497 0028 FFF7FEFF 		bl	Save_Current_Setting
 4498              	.LVL290:
3183:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 4499              		.loc 1 3183 0
 4500 002c 2046     		mov	r0, r4
 4501 002e 38BD     		pop	{r3, r4, r5, pc}
 4502              	.LVL291:
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 151


 4503              	.L340:
3175:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 4504              		.loc 1 3175 0
 4505 0030 FFF7FEFF 		bl	USART_Receive_AT_Resp
 4506              	.LVL292:
 4507 0034 0446     		mov	r4, r0
 4508              	.LVL293:
 4509 0036 F5E7     		b	.L338
 4510              	.L342:
 4511              		.align	2
 4512              	.L341:
 4513 0038 00000000 		.word	WiFi_AT_Cmd_Buff
 4514 003c 00000000 		.word	.LC17
 4515              		.cfi_endproc
 4516              	.LFE317:
 4518              		.section	.text.Write_WiFi_SecKey,"ax",%progbits
 4519              		.align	1
 4520              		.global	Write_WiFi_SecKey
 4521              		.syntax unified
 4522              		.thumb
 4523              		.thumb_func
 4524              		.fpu fpv4-sp-d16
 4526              	Write_WiFi_SecKey:
 4527              	.LFB318:
3192:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Status_t status = WiFi_MODULE_SUCCESS;  
 4528              		.loc 1 3192 0
 4529              		.cfi_startproc
 4530              		@ args = 0, pretend = 0, frame = 0
 4531              		@ frame_needed = 0, uses_anonymous_args = 0
 4532              	.LVL294:
 4533 0000 38B5     		push	{r3, r4, r5, lr}
 4534              	.LCFI51:
 4535              		.cfi_def_cfa_offset 16
 4536              		.cfi_offset 3, -16
 4537              		.cfi_offset 4, -12
 4538              		.cfi_offset 5, -8
 4539              		.cfi_offset 14, -4
 4540 0002 0546     		mov	r5, r0
 4541              	.LVL295:
3194:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 4542              		.loc 1 3194 0
 4543 0004 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 4544              	.LVL296:
3197:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 4545              		.loc 1 3197 0
 4546 0008 0B4C     		ldr	r4, .L347
 4547 000a 2A46     		mov	r2, r5
 4548 000c 0B49     		ldr	r1, .L347+4
 4549 000e 2046     		mov	r0, r4
 4550 0010 FFF7FEFF 		bl	sprintf
 4551              	.LVL297:
3199:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(status == WiFi_MODULE_SUCCESS)
 4552              		.loc 1 3199 0
 4553 0014 2046     		mov	r0, r4
 4554 0016 FFF7FEFF 		bl	strlen
 4555              	.LVL298:
 4556 001a 80B2     		uxth	r0, r0
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 152


 4557 001c FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 4558              	.LVL299:
3200:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
 4559              		.loc 1 3200 0
 4560 0020 0446     		mov	r4, r0
 4561 0022 28B1     		cbz	r0, .L346
 4562              	.LVL300:
 4563              	.L344:
3206:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Save_Current_Setting();
 4564              		.loc 1 3206 0
 4565 0024 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 4566              	.LVL301:
3207:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
 4567              		.loc 1 3207 0
 4568 0028 FFF7FEFF 		bl	Save_Current_Setting
 4569              	.LVL302:
3210:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 4570              		.loc 1 3210 0
 4571 002c 2046     		mov	r0, r4
 4572 002e 38BD     		pop	{r3, r4, r5, pc}
 4573              	.LVL303:
 4574              	.L346:
3202:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 4575              		.loc 1 3202 0
 4576 0030 FFF7FEFF 		bl	USART_Receive_AT_Resp
 4577              	.LVL304:
 4578 0034 0446     		mov	r4, r0
 4579              	.LVL305:
 4580 0036 F5E7     		b	.L344
 4581              	.L348:
 4582              		.align	2
 4583              	.L347:
 4584 0038 00000000 		.word	WiFi_AT_Cmd_Buff
 4585 003c 00000000 		.word	.LC18
 4586              		.cfi_endproc
 4587              	.LFE318:
 4589              		.section	.text.ResetBuffer,"ax",%progbits
 4590              		.align	1
 4591              		.global	ResetBuffer
 4592              		.syntax unified
 4593              		.thumb
 4594              		.thumb_func
 4595              		.fpu fpv4-sp-d16
 4597              	ResetBuffer:
 4598              	.LFB337:
3658:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3659:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3660:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  ResetBuffer
3661:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Reset receive data/indication msg buffer
3662:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  None
3663:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
3664:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3665:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** void ResetBuffer()
3666:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {  
 4599              		.loc 1 3666 0
 4600              		.cfi_startproc
 4601              		@ args = 0, pretend = 0, frame = 0
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 153


 4602              		@ frame_needed = 0, uses_anonymous_args = 0
 4603              		@ link register save eliminated.
 4604 0000 7047     		bx	lr
 4605              		.cfi_endproc
 4606              	.LFE337:
 4608              		.section	.text.Attention_Cmd_Check,"ax",%progbits
 4609              		.align	1
 4610              		.global	Attention_Cmd_Check
 4611              		.syntax unified
 4612              		.thumb
 4613              		.thumb_func
 4614              		.fpu fpv4-sp-d16
 4616              	Attention_Cmd_Check:
 4617              	.LFB340:
3667:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
3668:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3669:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3670:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3671:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  config_init_value
3672:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         initalize config values before reset
3673:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  sVar_name : Name of the config variable
3674:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         aValue    : value of config variable
3675:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
3676:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3677:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** WiFi_Status_t config_init_value(char* sVar_name,uint32_t aValue)
3678:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
3679:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Status_t status = WiFi_MODULE_SUCCESS;
3680:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Reset_AT_CMD_Buffer();   
3681:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   sprintf((char*)WiFi_AT_Cmd_Buff,AT_SET_CONFIGURATION_VALUE,sVar_name,(int)aValue);
3682:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(HAL_UART_Transmit(&UartWiFiHandle, (uint8_t *)WiFi_AT_Cmd_Buff, strlen((char*)WiFi_AT_Cmd_Buff
3683:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
3684:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_UART_Error_Handler();    
3685:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       return WiFi_HAL_UART_ERROR;
3686:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
3687:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
3688:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   status = WaitForResponse(AT_RESP_LEN_OK);
3689:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   return status;
3690:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3691:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3692:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3693:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  config_init_addr
3694:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         initalize config strings/addresses before reset
3695:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  sVar_name : Name of the config variable
3696:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         addr    : value of config address to be returned to user
3697:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
3698:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3699:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** WiFi_Status_t config_init_addr(char* sVar_name,char* addr)
3700:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
3701:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Status_t status = WiFi_MODULE_SUCCESS;
3702:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Reset_AT_CMD_Buffer();   
3703:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   sprintf((char*)WiFi_AT_Cmd_Buff,AT_SET_CONFIGURATION_ADDRESS,sVar_name,addr);
3704:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(HAL_UART_Transmit(&UartWiFiHandle, (uint8_t *)WiFi_AT_Cmd_Buff, strlen((char*)WiFi_AT_Cmd_Buff
3705:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
3706:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       WiFi_UART_Error_Handler();    
3707:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       return WiFi_HAL_UART_ERROR;
3708:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
3709:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 154


3710:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   status = WaitForResponse(AT_RESP_LEN_OK);
3711:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   return status;
3712:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3713:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3714:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3715:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** WiFi_Status_t Attention_Cmd_Check()
3716:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 4618              		.loc 1 3716 0
 4619              		.cfi_startproc
 4620              		@ args = 0, pretend = 0, frame = 72
 4621              		@ frame_needed = 0, uses_anonymous_args = 0
 4622              		.loc 1 3716 0
 4623 0000 30B5     		push	{r4, r5, lr}
 4624              	.LCFI52:
 4625              		.cfi_def_cfa_offset 12
 4626              		.cfi_offset 4, -12
 4627              		.cfi_offset 5, -8
 4628              		.cfi_offset 14, -4
 4629 0002 93B0     		sub	sp, sp, #76
 4630              	.LCFI53:
 4631              		.cfi_def_cfa_offset 88
 4632              	.LVL306:
3717:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Status_t status = WiFi_MODULE_SUCCESS;
3718:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   HAL_StatusTypeDef HAL_Stat = HAL_BUSY;
3719:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   uint8_t USART_RxBuffer[64];    //This buffer is only used in the Init phase (to receive "AT-S.OK"
3720:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   memset(USART_RxBuffer, 0x00, 64);
 4633              		.loc 1 3720 0
 4634 0004 4022     		movs	r2, #64
 4635 0006 0021     		movs	r1, #0
 4636 0008 02A8     		add	r0, sp, #8
 4637 000a FFF7FEFF 		bl	memset
 4638              	.LVL307:
3721:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   uint8_t attention_cmd[AT_ATTENTION_LEN + AT_ATTENTION_LEN - 4];
3722:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   uint16_t i = 0;
3723:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3724:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   // AT : send AT command //
3725:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   Reset_AT_CMD_Buffer();   
 4639              		.loc 1 3725 0
 4640 000e FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 4641              	.LVL308:
3726:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   strcpy((char*)attention_cmd, AT_ATTENTION);
 4642              		.loc 1 3726 0
 4643 0012 224B     		ldr	r3, .L360
 4644 0014 0093     		str	r3, [sp]
3727:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   strcat((char*)attention_cmd, AT_ATTENTION);
 4645              		.loc 1 3727 0
 4646 0016 6846     		mov	r0, sp
 4647 0018 FFF7FEFF 		bl	strlen
 4648              	.LVL309:
 4649 001c 0346     		mov	r3, r0
 4650 001e 204A     		ldr	r2, .L360+4
 4651 0020 1068     		ldr	r0, [r2]
 4652 0022 4DF80300 		str	r0, [sp, r3]	@ unaligned
3728:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   sprintf((char*)WiFi_AT_Cmd_Buff,(char*)attention_cmd);  
 4653              		.loc 1 3728 0
 4654 0026 1F4C     		ldr	r4, .L360+8
 4655 0028 6946     		mov	r1, sp
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 155


 4656 002a 2046     		mov	r0, r4
 4657 002c FFF7FEFF 		bl	sprintf
 4658              	.LVL310:
3729:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 4659              		.loc 1 3729 0
 4660 0030 2046     		mov	r0, r4
 4661 0032 FFF7FEFF 		bl	strlen
 4662              	.LVL311:
 4663 0036 80B2     		uxth	r0, r0
 4664 0038 FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 4665              	.LVL312:
3730:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(status == WiFi_MODULE_SUCCESS)
 4666              		.loc 1 3730 0
 4667 003c 0546     		mov	r5, r0
 4668 003e 98B9     		cbnz	r0, .L352
 4669 0040 0024     		movs	r4, #0
 4670              	.LVL313:
 4671              	.L351:
3731:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   {
3732:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #if defined (USE_STM32L4XX_NUCLEO) || defined (USE_STM32F4XX_NUCLEO)
3733:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       while((UartWiFiHandle.RxState != HAL_UART_STATE_READY)&&(i<1000)){  //be sure to check 1000 t
 4672              		.loc 1 3733 0
 4673 0042 194B     		ldr	r3, .L360+12
 4674 0044 93F83A30 		ldrb	r3, [r3, #58]	@ zero_extendqisi2
 4675 0048 DBB2     		uxtb	r3, r3
 4676 004a 202B     		cmp	r3, #32
 4677 004c 08D0     		beq	.L353
 4678              		.loc 1 3733 0 is_stmt 0 discriminator 1
 4679 004e B4F57A7F 		cmp	r4, #1000
 4680 0052 05D2     		bcs	.L353
3734:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #else //F1 or L0
3735:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       while((UartWiFiHandle.State != HAL_UART_STATE_READY)&&(i<1000)){
3736:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** #endif
3737:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         //__NOP();
3738:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         i++;
 4681              		.loc 1 3738 0 is_stmt 1
 4682 0054 0134     		adds	r4, r4, #1
 4683              	.LVL314:
 4684 0056 A4B2     		uxth	r4, r4
 4685              	.LVL315:
3739:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         HAL_Delay(10);
 4686              		.loc 1 3739 0
 4687 0058 0A20     		movs	r0, #10
 4688 005a FFF7FEFF 		bl	HAL_Delay
 4689              	.LVL316:
 4690 005e F0E7     		b	.L351
 4691              	.L353:
3740:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       }
3741:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       if (i<1000)
 4692              		.loc 1 3741 0
 4693 0060 B4F57A7F 		cmp	r4, #1000
 4694 0064 03D3     		bcc	.L359
3742:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       {
3743:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         HAL_Stat = HAL_UART_Receive(&UartWiFiHandle, (uint8_t *)USART_RxBuffer, (AT_RESP_LEN_OK + A
3744:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       
3745:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         if((HAL_Stat!= HAL_OK) && (HAL_Stat!= HAL_TIMEOUT))
3746:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         {
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 156


3747:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           WiFi_UART_Error_Handler();
3748:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           return WiFi_HAL_UART_ERROR;
3749:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         }
3750:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3751:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         if(((strstr((const char *)&USART_RxBuffer,"OK"))) == NULL)
3752:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         {
3753:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           return WiFi_AT_CMD_RESP_ERROR;
3754:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         }
3755:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         else
3756:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         {
3757:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           status = WiFi_MODULE_SUCCESS;
3758:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         }
3759:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       }
3760:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       else
3761:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       {
3762:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         return WiFi_HAL_UART_ERROR;
 4695              		.loc 1 3762 0
 4696 0066 0F25     		movs	r5, #15
 4697              	.LVL317:
 4698              	.L352:
3763:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       }
3764:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   }
3765:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3766:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   return status; 
3767:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 4699              		.loc 1 3767 0
 4700 0068 2846     		mov	r0, r5
 4701 006a 13B0     		add	sp, sp, #76
 4702              	.LCFI54:
 4703              		.cfi_remember_state
 4704              		.cfi_def_cfa_offset 12
 4705              		@ sp needed
 4706 006c 30BD     		pop	{r4, r5, pc}
 4707              	.LVL318:
 4708              	.L359:
 4709              	.LCFI55:
 4710              		.cfi_restore_state
3743:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       
 4711              		.loc 1 3743 0
 4712 006e 4FF49673 		mov	r3, #300
 4713 0072 1422     		movs	r2, #20
 4714 0074 02A9     		add	r1, sp, #8
 4715 0076 0C48     		ldr	r0, .L360+12
 4716 0078 FFF7FEFF 		bl	HAL_UART_Receive
 4717              	.LVL319:
3745:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         {
 4718              		.loc 1 3745 0
 4719 007c 28B1     		cbz	r0, .L355
3745:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         {
 4720              		.loc 1 3745 0 is_stmt 0 discriminator 1
 4721 007e 0328     		cmp	r0, #3
 4722 0080 03D0     		beq	.L355
3747:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           return WiFi_HAL_UART_ERROR;
 4723              		.loc 1 3747 0 is_stmt 1
 4724 0082 FFF7FEFF 		bl	WiFi_UART_Error_Handler
 4725              	.LVL320:
3748:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         }
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 157


 4726              		.loc 1 3748 0
 4727 0086 0F25     		movs	r5, #15
 4728 0088 EEE7     		b	.L352
 4729              	.LVL321:
 4730              	.L355:
3751:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         {
 4731              		.loc 1 3751 0
 4732 008a 0849     		ldr	r1, .L360+16
 4733 008c 02A8     		add	r0, sp, #8
 4734              	.LVL322:
 4735 008e FFF7FEFF 		bl	strstr
 4736              	.LVL323:
 4737 0092 0028     		cmp	r0, #0
 4738 0094 E8D1     		bne	.L352
3753:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         }
 4739              		.loc 1 3753 0
 4740 0096 0D25     		movs	r5, #13
 4741 0098 E6E7     		b	.L352
 4742              	.L361:
 4743 009a 00BF     		.align	2
 4744              	.L360:
 4745 009c 41540D00 		.word	873537
 4746 00a0 00000000 		.word	.LC13
 4747 00a4 00000000 		.word	WiFi_AT_Cmd_Buff
 4748 00a8 00000000 		.word	UartWiFiHandle
 4749 00ac 00000000 		.word	.LC21
 4750              		.cfi_endproc
 4751              	.LFE340:
 4753              		.section	.text.WaitForResponse,"ax",%progbits
 4754              		.align	1
 4755              		.global	WaitForResponse
 4756              		.syntax unified
 4757              		.thumb
 4758              		.thumb_func
 4759              		.fpu fpv4-sp-d16
 4761              	WaitForResponse:
 4762              	.LFB341:
3768:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3769:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**
3770:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @brief  WaitForResponse
3771:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** *         Wait for OK response
3772:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @param  alength length of the data to be received
3773:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** * @retval None
3774:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** */
3775:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** WiFi_Status_t WaitForResponse(uint16_t alength)
3776:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 4763              		.loc 1 3776 0
 4764              		.cfi_startproc
 4765              		@ args = 0, pretend = 0, frame = 64
 4766              		@ frame_needed = 0, uses_anonymous_args = 0
 4767              	.LVL324:
 4768 0000 10B5     		push	{r4, lr}
 4769              	.LCFI56:
 4770              		.cfi_def_cfa_offset 8
 4771              		.cfi_offset 4, -8
 4772              		.cfi_offset 14, -4
 4773 0002 90B0     		sub	sp, sp, #64
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 158


 4774              	.LCFI57:
 4775              		.cfi_def_cfa_offset 72
 4776 0004 0446     		mov	r4, r0
3777:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   uint8_t USART_RxBuffer[64];    //This buffer is only used in the Init phase (to receive "AT-S.OK"
3778:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   memset(USART_RxBuffer, 0x00, 64);
 4777              		.loc 1 3778 0
 4778 0006 4022     		movs	r2, #64
 4779 0008 0021     		movs	r1, #0
 4780 000a 6846     		mov	r0, sp
 4781              	.LVL325:
 4782 000c FFF7FEFF 		bl	memset
 4783              	.LVL326:
3779:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Status_t status = WiFi_MODULE_SUCCESS;
3780:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   
3781:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(alength <= RxBufferSize)
 4784              		.loc 1 3781 0
 4785 0010 402C     		cmp	r4, #64
 4786 0012 02D9     		bls	.L368
3782:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   {
3783:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     if(HAL_UART_Receive(&UartWiFiHandle, (uint8_t *)USART_RxBuffer, alength,1000)!= HAL_OK)
3784:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       {
3785:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         WiFi_UART_Error_Handler();
3786:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         return WiFi_HAL_UART_ERROR;
3787:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       }
3788:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3789:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     if(((strstr((const char *)&USART_RxBuffer,"OK"))) == NULL)
3790:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       {
3791:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         return WiFi_AT_CMD_RESP_ERROR;
3792:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       }
3793:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   }
3794:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   return status;  
 4787              		.loc 1 3794 0
 4788 0014 0020     		movs	r0, #0
 4789              	.L363:
3795:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 4790              		.loc 1 3795 0
 4791 0016 10B0     		add	sp, sp, #64
 4792              	.LCFI58:
 4793              		.cfi_remember_state
 4794              		.cfi_def_cfa_offset 8
 4795              		@ sp needed
 4796 0018 10BD     		pop	{r4, pc}
 4797              	.L368:
 4798              	.LCFI59:
 4799              		.cfi_restore_state
3783:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       {
 4800              		.loc 1 3783 0
 4801 001a 4FF47A73 		mov	r3, #1000
 4802 001e 2246     		mov	r2, r4
 4803 0020 6946     		mov	r1, sp
 4804 0022 0848     		ldr	r0, .L371
 4805 0024 FFF7FEFF 		bl	HAL_UART_Receive
 4806              	.LVL327:
 4807 0028 30B9     		cbnz	r0, .L369
3789:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       {
 4808              		.loc 1 3789 0
 4809 002a 0749     		ldr	r1, .L371+4
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 159


 4810 002c 6846     		mov	r0, sp
 4811 002e FFF7FEFF 		bl	strstr
 4812              	.LVL328:
 4813 0032 28B1     		cbz	r0, .L370
3794:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
 4814              		.loc 1 3794 0
 4815 0034 0020     		movs	r0, #0
 4816 0036 EEE7     		b	.L363
 4817              	.L369:
3785:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****         return WiFi_HAL_UART_ERROR;
 4818              		.loc 1 3785 0
 4819 0038 FFF7FEFF 		bl	WiFi_UART_Error_Handler
 4820              	.LVL329:
3786:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       }
 4821              		.loc 1 3786 0
 4822 003c 0F20     		movs	r0, #15
 4823 003e EAE7     		b	.L363
 4824              	.L370:
3791:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       }
 4825              		.loc 1 3791 0
 4826 0040 0D20     		movs	r0, #13
 4827 0042 E8E7     		b	.L363
 4828              	.L372:
 4829              		.align	2
 4830              	.L371:
 4831 0044 00000000 		.word	UartWiFiHandle
 4832 0048 00000000 		.word	.LC21
 4833              		.cfi_endproc
 4834              	.LFE341:
 4836              		.section	.text.config_init_value,"ax",%progbits
 4837              		.align	1
 4838              		.global	config_init_value
 4839              		.syntax unified
 4840              		.thumb
 4841              		.thumb_func
 4842              		.fpu fpv4-sp-d16
 4844              	config_init_value:
 4845              	.LFB338:
3678:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Status_t status = WiFi_MODULE_SUCCESS;
 4846              		.loc 1 3678 0
 4847              		.cfi_startproc
 4848              		@ args = 0, pretend = 0, frame = 0
 4849              		@ frame_needed = 0, uses_anonymous_args = 0
 4850              	.LVL330:
 4851 0000 70B5     		push	{r4, r5, r6, lr}
 4852              	.LCFI60:
 4853              		.cfi_def_cfa_offset 16
 4854              		.cfi_offset 4, -16
 4855              		.cfi_offset 5, -12
 4856              		.cfi_offset 6, -8
 4857              		.cfi_offset 14, -4
 4858 0002 0546     		mov	r5, r0
 4859 0004 0E46     		mov	r6, r1
 4860              	.LVL331:
3680:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   sprintf((char*)WiFi_AT_Cmd_Buff,AT_SET_CONFIGURATION_VALUE,sVar_name,(int)aValue);
 4861              		.loc 1 3680 0
 4862 0006 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 160


 4863              	.LVL332:
3681:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(HAL_UART_Transmit(&UartWiFiHandle, (uint8_t *)WiFi_AT_Cmd_Buff, strlen((char*)WiFi_AT_Cmd_Buff
 4864              		.loc 1 3681 0
 4865 000a 0D4C     		ldr	r4, .L377
 4866 000c 3346     		mov	r3, r6
 4867 000e 2A46     		mov	r2, r5
 4868 0010 0C49     		ldr	r1, .L377+4
 4869 0012 2046     		mov	r0, r4
 4870 0014 FFF7FEFF 		bl	sprintf
 4871              	.LVL333:
3682:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
 4872              		.loc 1 3682 0
 4873 0018 2046     		mov	r0, r4
 4874 001a FFF7FEFF 		bl	strlen
 4875              	.LVL334:
 4876 001e 4FF47A73 		mov	r3, #1000
 4877 0022 82B2     		uxth	r2, r0
 4878 0024 2146     		mov	r1, r4
 4879 0026 0848     		ldr	r0, .L377+8
 4880 0028 FFF7FEFF 		bl	HAL_UART_Transmit
 4881              	.LVL335:
 4882 002c 18B1     		cbz	r0, .L374
3684:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       return WiFi_HAL_UART_ERROR;
 4883              		.loc 1 3684 0
 4884 002e FFF7FEFF 		bl	WiFi_UART_Error_Handler
 4885              	.LVL336:
3685:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 4886              		.loc 1 3685 0
 4887 0032 0F20     		movs	r0, #15
 4888 0034 70BD     		pop	{r4, r5, r6, pc}
 4889              	.LVL337:
 4890              	.L374:
3688:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   return status;
 4891              		.loc 1 3688 0
 4892 0036 0620     		movs	r0, #6
 4893 0038 FFF7FEFF 		bl	WaitForResponse
 4894              	.LVL338:
3690:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 4895              		.loc 1 3690 0
 4896 003c 70BD     		pop	{r4, r5, r6, pc}
 4897              	.LVL339:
 4898              	.L378:
 4899 003e 00BF     		.align	2
 4900              	.L377:
 4901 0040 00000000 		.word	WiFi_AT_Cmd_Buff
 4902 0044 00000000 		.word	.LC16
 4903 0048 00000000 		.word	UartWiFiHandle
 4904              		.cfi_endproc
 4905              	.LFE338:
 4907              		.section	.text.config_init_addr,"ax",%progbits
 4908              		.align	1
 4909              		.global	config_init_addr
 4910              		.syntax unified
 4911              		.thumb
 4912              		.thumb_func
 4913              		.fpu fpv4-sp-d16
 4915              	config_init_addr:
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 161


 4916              	.LFB339:
3700:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   WiFi_Status_t status = WiFi_MODULE_SUCCESS;
 4917              		.loc 1 3700 0
 4918              		.cfi_startproc
 4919              		@ args = 0, pretend = 0, frame = 0
 4920              		@ frame_needed = 0, uses_anonymous_args = 0
 4921              	.LVL340:
 4922 0000 70B5     		push	{r4, r5, r6, lr}
 4923              	.LCFI61:
 4924              		.cfi_def_cfa_offset 16
 4925              		.cfi_offset 4, -16
 4926              		.cfi_offset 5, -12
 4927              		.cfi_offset 6, -8
 4928              		.cfi_offset 14, -4
 4929 0002 0546     		mov	r5, r0
 4930 0004 0E46     		mov	r6, r1
 4931              	.LVL341:
3702:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   sprintf((char*)WiFi_AT_Cmd_Buff,AT_SET_CONFIGURATION_ADDRESS,sVar_name,addr);
 4932              		.loc 1 3702 0
 4933 0006 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 4934              	.LVL342:
3703:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   if(HAL_UART_Transmit(&UartWiFiHandle, (uint8_t *)WiFi_AT_Cmd_Buff, strlen((char*)WiFi_AT_Cmd_Buff
 4935              		.loc 1 3703 0
 4936 000a 0D4C     		ldr	r4, .L383
 4937 000c 3346     		mov	r3, r6
 4938 000e 2A46     		mov	r2, r5
 4939 0010 0C49     		ldr	r1, .L383+4
 4940 0012 2046     		mov	r0, r4
 4941 0014 FFF7FEFF 		bl	sprintf
 4942              	.LVL343:
3704:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
 4943              		.loc 1 3704 0
 4944 0018 2046     		mov	r0, r4
 4945 001a FFF7FEFF 		bl	strlen
 4946              	.LVL344:
 4947 001e 4FF47A73 		mov	r3, #1000
 4948 0022 82B2     		uxth	r2, r0
 4949 0024 2146     		mov	r1, r4
 4950 0026 0848     		ldr	r0, .L383+8
 4951 0028 FFF7FEFF 		bl	HAL_UART_Transmit
 4952              	.LVL345:
 4953 002c 18B1     		cbz	r0, .L380
3706:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       return WiFi_HAL_UART_ERROR;
 4954              		.loc 1 3706 0
 4955 002e FFF7FEFF 		bl	WiFi_UART_Error_Handler
 4956              	.LVL346:
3707:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     }
 4957              		.loc 1 3707 0
 4958 0032 0F20     		movs	r0, #15
 4959 0034 70BD     		pop	{r4, r5, r6, pc}
 4960              	.LVL347:
 4961              	.L380:
3710:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   return status;
 4962              		.loc 1 3710 0
 4963 0036 0620     		movs	r0, #6
 4964 0038 FFF7FEFF 		bl	WaitForResponse
 4965              	.LVL348:
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 162


3713:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 4966              		.loc 1 3713 0
 4967 003c 70BD     		pop	{r4, r5, r6, pc}
 4968              	.LVL349:
 4969              	.L384:
 4970 003e 00BF     		.align	2
 4971              	.L383:
 4972 0040 00000000 		.word	WiFi_AT_Cmd_Buff
 4973 0044 00000000 		.word	.LC15
 4974 0048 00000000 		.word	UartWiFiHandle
 4975              		.cfi_endproc
 4976              	.LFE339:
 4978              		.section	.text.ind_wifi_warning,"ax",%progbits
 4979              		.align	1
 4980              		.weak	ind_wifi_warning
 4981              		.syntax unified
 4982              		.thumb
 4983              		.thumb_func
 4984              		.fpu fpv4-sp-d16
 4986              	ind_wifi_warning:
 4987              	.LFB342:
3796:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** /**** Wi-Fi indication call back *************/
3797:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** __weak void ind_wifi_warning(WiFi_Status_t warning_code)
3798:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 4988              		.loc 1 3798 0
 4989              		.cfi_startproc
 4990              		@ args = 0, pretend = 0, frame = 0
 4991              		@ frame_needed = 0, uses_anonymous_args = 0
 4992              		@ link register save eliminated.
 4993              	.LVL350:
 4994 0000 7047     		bx	lr
 4995              		.cfi_endproc
 4996              	.LFE342:
 4998              		.section	.text.ind_wifi_error,"ax",%progbits
 4999              		.align	1
 5000              		.weak	ind_wifi_error
 5001              		.syntax unified
 5002              		.thumb
 5003              		.thumb_func
 5004              		.fpu fpv4-sp-d16
 5006              	ind_wifi_error:
 5007              	.LFB343:
3799:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3800:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 	
3801:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** __weak void ind_wifi_error(WiFi_Status_t error_code)
3802:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 5008              		.loc 1 3802 0
 5009              		.cfi_startproc
 5010              		@ args = 0, pretend = 0, frame = 0
 5011              		@ frame_needed = 0, uses_anonymous_args = 0
 5012              		@ link register save eliminated.
 5013              	.LVL351:
 5014 0000 7047     		bx	lr
 5015              		.cfi_endproc
 5016              	.LFE343:
 5018              		.section	.text.ind_wifi_connection_error,"ax",%progbits
 5019              		.align	1
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 163


 5020              		.weak	ind_wifi_connection_error
 5021              		.syntax unified
 5022              		.thumb
 5023              		.thumb_func
 5024              		.fpu fpv4-sp-d16
 5026              	ind_wifi_connection_error:
 5027              	.LFB344:
3803:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3804:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3805:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** __weak void ind_wifi_connection_error(WiFi_Status_t status_code)
3806:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 5028              		.loc 1 3806 0
 5029              		.cfi_startproc
 5030              		@ args = 0, pretend = 0, frame = 0
 5031              		@ frame_needed = 0, uses_anonymous_args = 0
 5032              		@ link register save eliminated.
 5033              	.LVL352:
 5034 0000 7047     		bx	lr
 5035              		.cfi_endproc
 5036              	.LFE344:
 5038              		.section	.text.ind_wifi_connected,"ax",%progbits
 5039              		.align	1
 5040              		.weak	ind_wifi_connected
 5041              		.syntax unified
 5042              		.thumb
 5043              		.thumb_func
 5044              		.fpu fpv4-sp-d16
 5046              	ind_wifi_connected:
 5047              	.LFB345:
3807:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3808:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3809:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** __weak void ind_wifi_connected(void)
3810:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 5048              		.loc 1 3810 0
 5049              		.cfi_startproc
 5050              		@ args = 0, pretend = 0, frame = 0
 5051              		@ frame_needed = 0, uses_anonymous_args = 0
 5052              		@ link register save eliminated.
 5053 0000 7047     		bx	lr
 5054              		.cfi_endproc
 5055              	.LFE345:
 5057              		.section	.text.ind_wifi_ap_ready,"ax",%progbits
 5058              		.align	1
 5059              		.weak	ind_wifi_ap_ready
 5060              		.syntax unified
 5061              		.thumb
 5062              		.thumb_func
 5063              		.fpu fpv4-sp-d16
 5065              	ind_wifi_ap_ready:
 5066              	.LFB346:
3811:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3812:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 	
3813:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** __weak void ind_wifi_ap_ready(void)
3814:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 5067              		.loc 1 3814 0
 5068              		.cfi_startproc
 5069              		@ args = 0, pretend = 0, frame = 0
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 164


 5070              		@ frame_needed = 0, uses_anonymous_args = 0
 5071              		@ link register save eliminated.
 5072 0000 7047     		bx	lr
 5073              		.cfi_endproc
 5074              	.LFE346:
 5076              		.section	.text.ind_wifi_ap_client_joined,"ax",%progbits
 5077              		.align	1
 5078              		.weak	ind_wifi_ap_client_joined
 5079              		.syntax unified
 5080              		.thumb
 5081              		.thumb_func
 5082              		.fpu fpv4-sp-d16
 5084              	ind_wifi_ap_client_joined:
 5085              	.LFB347:
3815:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3816:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3817:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** __weak void ind_wifi_ap_client_joined(uint8_t * client_mac_address)
3818:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 5086              		.loc 1 3818 0
 5087              		.cfi_startproc
 5088              		@ args = 0, pretend = 0, frame = 0
 5089              		@ frame_needed = 0, uses_anonymous_args = 0
 5090              		@ link register save eliminated.
 5091              	.LVL353:
 5092 0000 7047     		bx	lr
 5093              		.cfi_endproc
 5094              	.LFE347:
 5096              		.section	.text.ind_wifi_ap_client_left,"ax",%progbits
 5097              		.align	1
 5098              		.weak	ind_wifi_ap_client_left
 5099              		.syntax unified
 5100              		.thumb
 5101              		.thumb_func
 5102              		.fpu fpv4-sp-d16
 5104              	ind_wifi_ap_client_left:
 5105              	.LFB348:
3819:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3820:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3821:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** __weak void ind_wifi_ap_client_left(uint8_t * client_mac_address)
3822:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 5106              		.loc 1 3822 0
 5107              		.cfi_startproc
 5108              		@ args = 0, pretend = 0, frame = 0
 5109              		@ frame_needed = 0, uses_anonymous_args = 0
 5110              		@ link register save eliminated.
 5111              	.LVL354:
 5112 0000 7047     		bx	lr
 5113              		.cfi_endproc
 5114              	.LFE348:
 5116              		.section	.text.ind_wifi_on,"ax",%progbits
 5117              		.align	1
 5118              		.weak	ind_wifi_on
 5119              		.syntax unified
 5120              		.thumb
 5121              		.thumb_func
 5122              		.fpu fpv4-sp-d16
 5124              	ind_wifi_on:
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 165


 5125              	.LFB349:
3823:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3824:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3825:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** __weak void ind_wifi_on(void)
3826:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 5126              		.loc 1 3826 0
 5127              		.cfi_startproc
 5128              		@ args = 0, pretend = 0, frame = 0
 5129              		@ frame_needed = 0, uses_anonymous_args = 0
 5130              		@ link register save eliminated.
 5131 0000 7047     		bx	lr
 5132              		.cfi_endproc
 5133              	.LFE349:
 5135              		.section	.text.ind_wifi_packet_lost,"ax",%progbits
 5136              		.align	1
 5137              		.weak	ind_wifi_packet_lost
 5138              		.syntax unified
 5139              		.thumb
 5140              		.thumb_func
 5141              		.fpu fpv4-sp-d16
 5143              	ind_wifi_packet_lost:
 5144              	.LFB350:
3827:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3828:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3829:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** __weak void ind_wifi_packet_lost(WiFi_Status_t status_code)
3830:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 5145              		.loc 1 3830 0
 5146              		.cfi_startproc
 5147              		@ args = 0, pretend = 0, frame = 0
 5148              		@ frame_needed = 0, uses_anonymous_args = 0
 5149              		@ link register save eliminated.
 5150              	.LVL355:
 5151 0000 7047     		bx	lr
 5152              		.cfi_endproc
 5153              	.LFE350:
 5155              		.section	.text.ind_wifi_gpio_changed,"ax",%progbits
 5156              		.align	1
 5157              		.weak	ind_wifi_gpio_changed
 5158              		.syntax unified
 5159              		.thumb
 5160              		.thumb_func
 5161              		.fpu fpv4-sp-d16
 5163              	ind_wifi_gpio_changed:
 5164              	.LFB351:
3831:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3832:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3833:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** __weak void ind_wifi_gpio_changed(void)
3834:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 5165              		.loc 1 3834 0
 5166              		.cfi_startproc
 5167              		@ args = 0, pretend = 0, frame = 0
 5168              		@ frame_needed = 0, uses_anonymous_args = 0
 5169              		@ link register save eliminated.
 5170 0000 7047     		bx	lr
 5171              		.cfi_endproc
 5172              	.LFE351:
 5174              		.section	.text.ind_wifi_socket_data_received,"ax",%progbits
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 166


 5175              		.align	1
 5176              		.weak	ind_wifi_socket_data_received
 5177              		.syntax unified
 5178              		.thumb
 5179              		.thumb_func
 5180              		.fpu fpv4-sp-d16
 5182              	ind_wifi_socket_data_received:
 5183              	.LFB352:
3835:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3836:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3837:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** __weak void ind_wifi_socket_data_received(int8_t server_id, int8_t socket_id, uint8_t * data_ptr, u
3838:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 5184              		.loc 1 3838 0
 5185              		.cfi_startproc
 5186              		@ args = 8, pretend = 0, frame = 0
 5187              		@ frame_needed = 0, uses_anonymous_args = 0
 5188              		@ link register save eliminated.
 5189              	.LVL356:
 5190 0000 7047     		bx	lr
 5191              		.cfi_endproc
 5192              	.LFE352:
 5194              		.section	.text.ind_wifi_socket_client_remote_server_closed,"ax",%progbits
 5195              		.align	1
 5196              		.weak	ind_wifi_socket_client_remote_server_closed
 5197              		.syntax unified
 5198              		.thumb
 5199              		.thumb_func
 5200              		.fpu fpv4-sp-d16
 5202              	ind_wifi_socket_client_remote_server_closed:
 5203              	.LFB353:
3839:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3840:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3841:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** __weak void ind_wifi_socket_client_remote_server_closed(uint8_t *socketID, WiFi_Socket_t socket_typ
3842:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 5204              		.loc 1 3842 0
 5205              		.cfi_startproc
 5206              		@ args = 0, pretend = 0, frame = 0
 5207              		@ frame_needed = 0, uses_anonymous_args = 0
 5208              		@ link register save eliminated.
 5209              	.LVL357:
 5210 0000 7047     		bx	lr
 5211              		.cfi_endproc
 5212              	.LFE353:
 5214              		.section	.text.ind_wifi_socket_server_data_lost,"ax",%progbits
 5215              		.align	1
 5216              		.weak	ind_wifi_socket_server_data_lost
 5217              		.syntax unified
 5218              		.thumb
 5219              		.thumb_func
 5220              		.fpu fpv4-sp-d16
 5222              	ind_wifi_socket_server_data_lost:
 5223              	.LFB354:
3843:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3844:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3845:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** __weak void ind_wifi_socket_server_data_lost(void)
3846:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 5224              		.loc 1 3846 0
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 167


 5225              		.cfi_startproc
 5226              		@ args = 0, pretend = 0, frame = 0
 5227              		@ frame_needed = 0, uses_anonymous_args = 0
 5228              		@ link register save eliminated.
 5229 0000 7047     		bx	lr
 5230              		.cfi_endproc
 5231              	.LFE354:
 5233              		.section	.text.ind_socket_server_client_joined,"ax",%progbits
 5234              		.align	1
 5235              		.weak	ind_socket_server_client_joined
 5236              		.syntax unified
 5237              		.thumb
 5238              		.thumb_func
 5239              		.fpu fpv4-sp-d16
 5241              	ind_socket_server_client_joined:
 5242              	.LFB355:
3847:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3848:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3849:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** __weak void ind_socket_server_client_joined(void)
3850:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 5243              		.loc 1 3850 0
 5244              		.cfi_startproc
 5245              		@ args = 0, pretend = 0, frame = 0
 5246              		@ frame_needed = 0, uses_anonymous_args = 0
 5247              		@ link register save eliminated.
 5248 0000 7047     		bx	lr
 5249              		.cfi_endproc
 5250              	.LFE355:
 5252              		.section	.text.ind_socket_server_client_left,"ax",%progbits
 5253              		.align	1
 5254              		.weak	ind_socket_server_client_left
 5255              		.syntax unified
 5256              		.thumb
 5257              		.thumb_func
 5258              		.fpu fpv4-sp-d16
 5260              	ind_socket_server_client_left:
 5261              	.LFB356:
3851:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3852:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3853:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** __weak void ind_socket_server_client_left(void)
3854:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 5262              		.loc 1 3854 0
 5263              		.cfi_startproc
 5264              		@ args = 0, pretend = 0, frame = 0
 5265              		@ frame_needed = 0, uses_anonymous_args = 0
 5266              		@ link register save eliminated.
 5267 0000 7047     		bx	lr
 5268              		.cfi_endproc
 5269              	.LFE356:
 5271              		.section	.text.ind_wifi_http_data_available,"ax",%progbits
 5272              		.align	1
 5273              		.weak	ind_wifi_http_data_available
 5274              		.syntax unified
 5275              		.thumb
 5276              		.thumb_func
 5277              		.fpu fpv4-sp-d16
 5279              	ind_wifi_http_data_available:
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 168


 5280              	.LFB357:
3855:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3856:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3857:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** __weak void ind_wifi_http_data_available(uint8_t * data_ptr,uint32_t message_size)
3858:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 5281              		.loc 1 3858 0
 5282              		.cfi_startproc
 5283              		@ args = 0, pretend = 0, frame = 0
 5284              		@ frame_needed = 0, uses_anonymous_args = 0
 5285              		@ link register save eliminated.
 5286              	.LVL358:
 5287 0000 7047     		bx	lr
 5288              		.cfi_endproc
 5289              	.LFE357:
 5291              		.section	.text.ind_wifi_file_data_available,"ax",%progbits
 5292              		.align	1
 5293              		.weak	ind_wifi_file_data_available
 5294              		.syntax unified
 5295              		.thumb
 5296              		.thumb_func
 5297              		.fpu fpv4-sp-d16
 5299              	ind_wifi_file_data_available:
 5300              	.LFB358:
3859:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3860:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3861:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** __weak void ind_wifi_file_data_available(uint8_t * data_ptr)
3862:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 5301              		.loc 1 3862 0
 5302              		.cfi_startproc
 5303              		@ args = 0, pretend = 0, frame = 0
 5304              		@ frame_needed = 0, uses_anonymous_args = 0
 5305              		@ link register save eliminated.
 5306              	.LVL359:
 5307 0000 7047     		bx	lr
 5308              		.cfi_endproc
 5309              	.LFE358:
 5311              		.section	.text.ind_wifi_resuming,"ax",%progbits
 5312              		.align	1
 5313              		.weak	ind_wifi_resuming
 5314              		.syntax unified
 5315              		.thumb
 5316              		.thumb_func
 5317              		.fpu fpv4-sp-d16
 5319              	ind_wifi_resuming:
 5320              	.LFB359:
3863:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3864:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3865:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** __weak void ind_wifi_resuming(void)
3866:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 5321              		.loc 1 3866 0
 5322              		.cfi_startproc
 5323              		@ args = 0, pretend = 0, frame = 0
 5324              		@ frame_needed = 0, uses_anonymous_args = 0
 5325              		@ link register save eliminated.
 5326 0000 7047     		bx	lr
 5327              		.cfi_endproc
 5328              	.LFE359:
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 169


 5330              		.section	.text.ind_wifi_mqtt_data_received,"ax",%progbits
 5331              		.align	1
 5332              		.weak	ind_wifi_mqtt_data_received
 5333              		.syntax unified
 5334              		.thumb
 5335              		.thumb_func
 5336              		.fpu fpv4-sp-d16
 5338              	ind_wifi_mqtt_data_received:
 5339              	.LFB360:
3867:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3868:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3869:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** __weak void ind_wifi_mqtt_data_received(uint8_t client_id, uint8_t *topic, uint32_t chunk_size, uin
3870:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 5340              		.loc 1 3870 0
 5341              		.cfi_startproc
 5342              		@ args = 8, pretend = 0, frame = 0
 5343              		@ frame_needed = 0, uses_anonymous_args = 0
 5344              		@ link register save eliminated.
 5345              	.LVL360:
 5346 0000 7047     		bx	lr
 5347              		.cfi_endproc
 5348              	.LFE360:
 5350              		.section	.text.ind_wifi_mqtt_closed,"ax",%progbits
 5351              		.align	1
 5352              		.weak	ind_wifi_mqtt_closed
 5353              		.syntax unified
 5354              		.thumb
 5355              		.thumb_func
 5356              		.fpu fpv4-sp-d16
 5358              	ind_wifi_mqtt_closed:
 5359              	.LFB361:
3871:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3872:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3873:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** __weak void ind_wifi_mqtt_closed(uint8_t client_id)
3874:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 5360              		.loc 1 3874 0
 5361              		.cfi_startproc
 5362              		@ args = 0, pretend = 0, frame = 0
 5363              		@ frame_needed = 0, uses_anonymous_args = 0
 5364              		@ link register save eliminated.
 5365              	.LVL361:
 5366 0000 7047     		bx	lr
 5367              		.cfi_endproc
 5368              	.LFE361:
 5370              		.section	.text.ind_wifi_socket_list_data_available,"ax",%progbits
 5371              		.align	1
 5372              		.weak	ind_wifi_socket_list_data_available
 5373              		.syntax unified
 5374              		.thumb
 5375              		.thumb_func
 5376              		.fpu fpv4-sp-d16
 5378              	ind_wifi_socket_list_data_available:
 5379              	.LFB362:
3875:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3876:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3877:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** __weak void ind_wifi_socket_list_data_available(uint8_t * data_ptr)
3878:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 170


 5380              		.loc 1 3878 0
 5381              		.cfi_startproc
 5382              		@ args = 0, pretend = 0, frame = 0
 5383              		@ frame_needed = 0, uses_anonymous_args = 0
 5384              		@ link register save eliminated.
 5385              	.LVL362:
 5386 0000 7047     		bx	lr
 5387              		.cfi_endproc
 5388              	.LFE362:
 5390              		.section	.text.Wifi_TIM_Handler,"ax",%progbits
 5391              		.align	1
 5392              		.global	Wifi_TIM_Handler
 5393              		.syntax unified
 5394              		.thumb
 5395              		.thumb_func
 5396              		.fpu fpv4-sp-d16
 5398              	Wifi_TIM_Handler:
 5399              	.LFB283:
 685:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /**********************************************************************
 5400              		.loc 1 685 0
 5401              		.cfi_startproc
 5402              		@ args = 0, pretend = 0, frame = 0
 5403              		@ frame_needed = 0, uses_anonymous_args = 0
 5404              	.LVL363:
 685:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   /**********************************************************************
 5405              		.loc 1 685 0
 5406 0000 30B5     		push	{r4, r5, lr}
 5407              	.LCFI62:
 5408              		.cfi_def_cfa_offset 12
 5409              		.cfi_offset 4, -12
 5410              		.cfi_offset 5, -8
 5411              		.cfi_offset 14, -4
 5412 0002 83B0     		sub	sp, sp, #12
 5413              	.LCFI63:
 5414              		.cfi_def_cfa_offset 24
 5415              	.LVL364:
 696:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   {
 5416              		.loc 1 696 0
 5417 0004 BB4B     		ldr	r3, .L508
 5418 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5419 0008 13F0080F 		tst	r3, #8
 5420 000c 42D0     		beq	.L491
 5421              	.LVL365:
 5422              	.L407:
1725:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
 5423              		.loc 1 1725 0
 5424 000e B94B     		ldr	r3, .L508
 5425 0010 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 5426 0012 12F0800F 		tst	r2, #128
 5427 0016 40F06A83 		bne	.L492
1731:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
 5428              		.loc 1 1731 0
 5429 001a B64B     		ldr	r3, .L508
 5430 001c 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 5431 001e 13F0400F 		tst	r3, #64
 5432 0022 05D0     		beq	.L448
1731:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 171


 5433              		.loc 1 1731 0 is_stmt 0 discriminator 1
 5434 0024 B44B     		ldr	r3, .L508+4
 5435 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5436 0028 13F0080F 		tst	r3, #8
 5437 002c 40F06983 		bne	.L493
 5438              	.L448:
1778:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
 5439              		.loc 1 1778 0 is_stmt 1
 5440 0030 B04B     		ldr	r3, .L508
 5441 0032 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 5442 0034 13F0100F 		tst	r3, #16
 5443 0038 40F06B83 		bne	.L494
1787:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
 5444              		.loc 1 1787 0
 5445 003c 13F0200F 		tst	r3, #32
 5446 0040 40F0AA83 		bne	.L495
1796:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
 5447              		.loc 1 1796 0
 5448 0044 13F0800F 		tst	r3, #128
 5449 0048 40F0C683 		bne	.L496
1806:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
 5450              		.loc 1 1806 0
 5451 004c 13F0400F 		tst	r3, #64
 5452 0050 40F0D383 		bne	.L497
1821:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
 5453              		.loc 1 1821 0
 5454 0054 A74B     		ldr	r3, .L508
 5455 0056 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 5456 0058 13F0020F 		tst	r3, #2
 5457 005c 00F0E983 		beq	.L454
1823:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               if(WiFi_Control_Variables.enable_receive_file_response)
 5458              		.loc 1 1823 0
 5459 0060 A44B     		ldr	r3, .L508
 5460 0062 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 5461 0064 6FF34102 		bfc	r2, #1, #1
 5462 0068 5A71     		strb	r2, [r3, #5]
1824:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
 5463              		.loc 1 1824 0
 5464 006a DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 5465 006c 13F0200F 		tst	r3, #32
 5466 0070 40F0D483 		bne	.L498
1828:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 ind_wifi_socket_list_data_available((uint8_t *)UserDataBuff);
 5467              		.loc 1 1828 0
 5468 0074 13F0400F 		tst	r3, #64
 5469 0078 00F0D483 		beq	.L457
1829:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               else
 5470              		.loc 1 1829 0
 5471 007c 9F48     		ldr	r0, .L508+8
 5472 007e FFF7FEFF 		bl	ind_wifi_socket_list_data_available
 5473              	.LVL366:
 5474              	.L456:
1832:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               Resume_Dequeue();
 5475              		.loc 1 1832 0
 5476 0082 4FF40072 		mov	r2, #512
 5477 0086 0021     		movs	r1, #0
 5478 0088 9C48     		ldr	r0, .L508+8
 5479 008a FFF7FEFF 		bl	memset
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 172


 5480              	.LVL367:
1833:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
 5481              		.loc 1 1833 0
 5482 008e FFF7FEFF 		bl	Resume_Dequeue
 5483              	.LVL368:
 5484 0092 5CE3     		b	.L447
 5485              	.LVL369:
 5486              	.L491:
 5487              	.LBB166:
 5488              	.LBB167:
 5489              		.loc 2 142 0
 5490              		.syntax unified
 5491              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 5492 0094 72B6     		cpsid i
 5493              	@ 0 "" 2
 5494              		.thumb
 5495              		.syntax unified
 5496              	.LBE167:
 5497              	.LBE166:
 699:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     __enable_irq();
 5498              		.loc 1 699 0
 5499 0096 9A4C     		ldr	r4, .L508+12
 5500 0098 2046     		mov	r0, r4
 5501              	.LVL370:
 5502 009a FFF7FEFF 		bl	pop_eventbuffer_queue
 5503              	.LVL371:
 5504 009e 143C     		subs	r4, r4, #20
 5505 00a0 A062     		str	r0, [r4, #40]
 5506              	.LBB168:
 5507              	.LBB169:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 5508              		.loc 2 131 0
 5509              		.syntax unified
 5510              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 5511 00a2 62B6     		cpsie i
 5512              	@ 0 "" 2
 5513              		.thumb
 5514              		.syntax unified
 5515              	.LBE169:
 5516              	.LBE168:
 702:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     {
 5517              		.loc 1 702 0
 5518 00a4 A06A     		ldr	r0, [r4, #40]
 5519 00a6 0028     		cmp	r0, #0
 5520 00a8 B1D0     		beq	.L407
 704:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       {
 5521              		.loc 1 704 0
 5522 00aa 8379     		ldrb	r3, [r0, #6]	@ zero_extendqisi2
 5523 00ac 013B     		subs	r3, r3, #1
 5524 00ae 272B     		cmp	r3, #39
 5525 00b0 ADD8     		bhi	.L407
 5526 00b2 01A2     		adr	r2, .L409
 5527 00b4 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 5528              		.p2align 2
 5529              	.L409:
 5530 00b8 59010000 		.word	.L408+1
 5531 00bc CD060000 		.word	.L410+1
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 173


 5532 00c0 CD060000 		.word	.L410+1
 5533 00c4 CD060000 		.word	.L410+1
 5534 00c8 0F000000 		.word	.L407+1
 5535 00cc 29020000 		.word	.L411+1
 5536 00d0 0F000000 		.word	.L407+1
 5537 00d4 B5060000 		.word	.L412+1
 5538 00d8 E3060000 		.word	.L413+1
 5539 00dc 0F000000 		.word	.L407+1
 5540 00e0 0F000000 		.word	.L407+1
 5541 00e4 55050000 		.word	.L414+1
 5542 00e8 0D060000 		.word	.L415+1
 5543 00ec 97040000 		.word	.L416+1
 5544 00f0 8B010000 		.word	.L417+1
 5545 00f4 43030000 		.word	.L418+1
 5546 00f8 0F000000 		.word	.L407+1
 5547 00fc 0F000000 		.word	.L407+1
 5548 0100 0F000000 		.word	.L407+1
 5549 0104 AF020000 		.word	.L419+1
 5550 0108 EB030000 		.word	.L420+1
 5551 010c C5010000 		.word	.L421+1
 5552 0110 99030000 		.word	.L422+1
 5553 0114 0F000000 		.word	.L407+1
 5554 0118 0F000000 		.word	.L407+1
 5555 011c 0F000000 		.word	.L407+1
 5556 0120 0F000000 		.word	.L407+1
 5557 0124 5D040000 		.word	.L423+1
 5558 0128 5F010000 		.word	.L424+1
 5559 012c 0F000000 		.word	.L407+1
 5560 0130 0F000000 		.word	.L407+1
 5561 0134 0F000000 		.word	.L407+1
 5562 0138 0F000000 		.word	.L407+1
 5563 013c 0F000000 		.word	.L407+1
 5564 0140 0F000000 		.word	.L407+1
 5565 0144 0F000000 		.word	.L407+1
 5566 0148 0F000000 		.word	.L407+1
 5567 014c 0F000000 		.word	.L407+1
 5568 0150 0F000000 		.word	.L407+1
 5569 0154 65060000 		.word	.L425+1
 5570              		.p2align 1
 5571              	.L408:
 707:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           break;
 5572              		.loc 1 707 0
 5573 0158 FFF7FEFF 		bl	Process_DeQed_Wind_Indication
 5574              	.LVL372:
 708:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 5575              		.loc 1 708 0
 5576 015c 57E7     		b	.L407
 5577              	.L424:
 711:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           open_web_socket[wifi_instances.DeQed_wifi_event->socket_id]  = WIFI_TRUE;
 5578              		.loc 1 711 0
 5579 015e 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 5580 0160 C3F30303 		ubfx	r3, r3, #0, #4
 5581 0164 D8B2     		uxtb	r0, r3
 5582 0166 674A     		ldr	r2, .L508+16
 5583 0168 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 5584 016a 63F30201 		bfi	r1, r3, #0, #3
 5585 016e 1170     		strb	r1, [r2]
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 174


 712:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           IO_status_flag.AT_event_processing = WIFI_NO_EVENT;
 5586              		.loc 1 712 0
 5587 0170 0121     		movs	r1, #1
 5588 0172 654B     		ldr	r3, .L508+20
 5589 0174 1954     		strb	r1, [r3, r0]
 713:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #if defined(CONSOLE_UART_ENABLED)
 5590              		.loc 1 713 0
 5591 0176 604B     		ldr	r3, .L508+4
 5592 0178 0020     		movs	r0, #0
 5593 017a 5875     		strb	r0, [r3, #21]
 715:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.AT_RESPONSE = WiFi_MODULE_SUCCESS;
 5594              		.loc 1 715 0
 5595 017c 5978     		ldrb	r1, [r3, #1]	@ zero_extendqisi2
 5596 017e 41F00101 		orr	r1, r1, #1
 5597 0182 5970     		strb	r1, [r3, #1]
 716:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #endif
 5598              		.loc 1 716 0
 5599 0184 82F8E800 		strb	r0, [r2, #232]
 718:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 
 5600              		.loc 1 718 0
 5601 0188 41E7     		b	.L407
 5602              	.L417:
 722:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
 5603              		.loc 1 722 0
 5604 018a 5E4B     		ldr	r3, .L508+16
 5605 018c DA79     		ldrb	r2, [r3, #7]	@ zero_extendqisi2
 5606 018e C2F3C202 		ubfx	r2, r2, #3, #3
 728:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           open_sockets[wifi_instances.DeQed_wifi_event->socket_id]  = WIFI_TRUE;
 5607              		.loc 1 728 0
 5608 0192 0132     		adds	r2, r2, #1
 5609 0194 D979     		ldrb	r1, [r3, #7]	@ zero_extendqisi2
 5610 0196 62F3C501 		bfi	r1, r2, #3, #3
 5611 019a D971     		strb	r1, [r3, #7]
 729:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           WiFi_Counter_Variables.Socket_Open_ID = wifi_instances.DeQed_wifi_event->socket_id;
 5612              		.loc 1 729 0
 5613 019c 4278     		ldrb	r2, [r0, #1]	@ zero_extendqisi2
 5614 019e 02F00F02 		and	r2, r2, #15
 5615 01a2 0124     		movs	r4, #1
 5616 01a4 5949     		ldr	r1, .L508+24
 5617 01a6 8C54     		strb	r4, [r1, r2]
 730:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           IO_status_flag.AT_event_processing = WIFI_NO_EVENT;
 5618              		.loc 1 730 0
 5619 01a8 4178     		ldrb	r1, [r0, #1]	@ zero_extendqisi2
 5620 01aa 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 5621 01ac 61F30202 		bfi	r2, r1, #0, #3
 5622 01b0 1A70     		strb	r2, [r3]
 731:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #if defined(CONSOLE_UART_ENABLED)
 5623              		.loc 1 731 0
 5624 01b2 514A     		ldr	r2, .L508+4
 5625 01b4 0020     		movs	r0, #0
 5626 01b6 5075     		strb	r0, [r2, #21]
 733:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.AT_RESPONSE = WiFi_MODULE_SUCCESS;
 5627              		.loc 1 733 0
 5628 01b8 5178     		ldrb	r1, [r2, #1]	@ zero_extendqisi2
 5629 01ba 2143     		orrs	r1, r1, r4
 5630 01bc 5170     		strb	r1, [r2, #1]
 734:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #endif
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 175


 5631              		.loc 1 734 0
 5632 01be 83F8E800 		strb	r0, [r3, #232]
 736:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                           
 5633              		.loc 1 736 0
 5634 01c2 24E7     		b	.L407
 5635              	.L421:
 740:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           WiFi_Counter_Variables.timeout_tick = 0;
 5636              		.loc 1 740 0
 5637 01c4 4B4B     		ldr	r3, .L508
 5638 01c6 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 5639 01c8 6FF34512 		bfc	r2, #5, #1
 5640 01cc 5A71     		strb	r2, [r3, #5]
 741:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           if(WiFi_Counter_Variables.no_of_open_server_sockets >= 4)  //Max number of server socket 
 5641              		.loc 1 741 0
 5642 01ce 4D4B     		ldr	r3, .L508+16
 5643 01d0 0022     		movs	r2, #0
 5644 01d2 C3F8CC20 		str	r2, [r3, #204]
 742:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
 5645              		.loc 1 742 0
 5646 01d6 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 5647 01d8 03F00703 		and	r3, r3, #7
 5648 01dc 032B     		cmp	r3, #3
 5649 01de 09DD     		ble	.L427
 744:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.AT_RESPONSE = WiFi_NOT_SUPPORTED;     
 5650              		.loc 1 744 0
 5651 01e0 454A     		ldr	r2, .L508+4
 5652 01e2 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 5653 01e4 43F00103 		orr	r3, r3, #1
 5654 01e8 5370     		strb	r3, [r2, #1]
 745:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;
 5655              		.loc 1 745 0
 5656 01ea 0422     		movs	r2, #4
 5657 01ec 454B     		ldr	r3, .L508+16
 5658 01ee 83F8E820 		strb	r2, [r3, #232]
 746:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
 5659              		.loc 1 746 0
 5660 01f2 0CE7     		b	.L407
 5661              	.L427:
 748:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           open_server_sockets[wifi_instances.DeQed_wifi_event->socket_id]  = WIFI_TRUE;
 5662              		.loc 1 748 0
 5663 01f4 434A     		ldr	r2, .L508+16
 5664 01f6 0133     		adds	r3, r3, #1
 5665 01f8 117A     		ldrb	r1, [r2, #8]	@ zero_extendqisi2
 5666 01fa 63F30201 		bfi	r1, r3, #0, #3
 5667 01fe 1172     		strb	r1, [r2, #8]
 749:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           WiFi_Counter_Variables.Server_Socket_Open_ID = wifi_instances.DeQed_wifi_event->socket_id
 5668              		.loc 1 749 0
 5669 0200 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 5670 0202 03F00F03 		and	r3, r3, #15
 5671 0206 0124     		movs	r4, #1
 5672 0208 4149     		ldr	r1, .L508+28
 5673 020a CC54     		strb	r4, [r1, r3]
 750:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           IO_status_flag.AT_event_processing = WIFI_NO_EVENT;
 5674              		.loc 1 750 0
 5675 020c 4178     		ldrb	r1, [r0, #1]	@ zero_extendqisi2
 5676 020e D379     		ldrb	r3, [r2, #7]	@ zero_extendqisi2
 5677 0210 61F30203 		bfi	r3, r1, #0, #3
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 176


 5678 0214 D371     		strb	r3, [r2, #7]
 751:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #if defined(CONSOLE_UART_ENABLED)
 5679              		.loc 1 751 0
 5680 0216 384B     		ldr	r3, .L508+4
 5681 0218 0020     		movs	r0, #0
 5682 021a 5875     		strb	r0, [r3, #21]
 753:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.AT_RESPONSE = WiFi_MODULE_SUCCESS;
 5683              		.loc 1 753 0
 5684 021c 5978     		ldrb	r1, [r3, #1]	@ zero_extendqisi2
 5685 021e 2143     		orrs	r1, r1, r4
 5686 0220 5970     		strb	r1, [r3, #1]
 754:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #endif
 5687              		.loc 1 754 0
 5688 0222 82F8E800 		strb	r0, [r2, #232]
 756:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 5689              		.loc 1 756 0
 5690 0226 F2E6     		b	.L407
 5691              	.L411:
1204:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #if defined(CONSOLE_UART_ENABLED)
 5692              		.loc 1 1204 0
 5693 0228 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 5694              	.LVL373:
1206:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               sprintf((char*)WiFi_AT_Cmd_Buff,AT_HTTPPOST_REQUEST,WiFi_Counter_Variables.curr_hostn
 5695              		.loc 1 1206 0
 5696 022c 354B     		ldr	r3, .L508+16
 5697 022e DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 5698 0230 012B     		cmp	r3, #1
 5699 0232 1CD0     		beq	.L499
1208:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               sprintf((char*)WiFi_AT_Cmd_Buff,AT_HTTPGET_REQUEST,WiFi_Counter_Variables.curr_hostna
 5700              		.loc 1 1208 0
 5701 0234 33B3     		cbz	r3, .L500
 5702              	.L429:
1211:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #else /*SPI Tx*/
 5703              		.loc 1 1211 0
 5704 0236 3748     		ldr	r0, .L508+32
 5705 0238 FFF7FEFF 		bl	strlen
 5706              	.LVL374:
 5707 023c 80B2     		uxth	r0, r0
 5708 023e FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 5709              	.LVL375:
1231:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
 5710              		.loc 1 1231 0
 5711 0242 50BB     		cbnz	r0, .L430
1233:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Control_Variables.enable_timeout_timer = WIFI_TRUE;
 5712              		.loc 1 1233 0
 5713 0244 0022     		movs	r2, #0
 5714 0246 2F4B     		ldr	r3, .L508+16
 5715 0248 C3F8CC20 		str	r2, [r3, #204]
1234:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Control_Variables.stop_event_dequeue = WIFI_TRUE;
 5716              		.loc 1 1234 0
 5717 024c 294B     		ldr	r3, .L508
 5718 024e 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 5719 0250 42F02002 		orr	r2, r2, #32
 5720 0254 5A71     		strb	r2, [r3, #5]
1235:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Control_Variables.Ok_terminated_data_request_pending = WIFI_TRUE;
 5721              		.loc 1 1235 0
 5722 0256 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 177


 5723 0258 42F00802 		orr	r2, r2, #8
 5724 025c 1A70     		strb	r2, [r3]
1236:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             IO_status_flag.AT_event_processing = WIFI_HTTP_EVENT;
 5725              		.loc 1 1236 0
 5726 025e 9A79     		ldrb	r2, [r3, #6]	@ zero_extendqisi2
 5727 0260 42F00102 		orr	r2, r2, #1
 5728 0264 9A71     		strb	r2, [r3, #6]
1237:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
 5729              		.loc 1 1237 0
 5730 0266 0622     		movs	r2, #6
 5731 0268 234B     		ldr	r3, .L508+4
 5732 026a 5A75     		strb	r2, [r3, #21]
 5733 026c CFE6     		b	.L407
 5734              	.LVL376:
 5735              	.L499:
1207:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             else if(WiFi_Counter_Variables.http_ind==0) 
 5736              		.loc 1 1207 0
 5737 026e 254A     		ldr	r2, .L508+16
 5738 0270 D2F8C010 		ldr	r1, [r2, #192]
 5739 0274 536E     		ldr	r3, [r2, #100]
 5740 0276 126E     		ldr	r2, [r2, #96]
 5741 0278 0091     		str	r1, [sp]
 5742 027a 2749     		ldr	r1, .L508+36
 5743 027c 2548     		ldr	r0, .L508+32
 5744 027e FFF7FEFF 		bl	sprintf
 5745              	.LVL377:
 5746 0282 D8E7     		b	.L429
 5747              	.L500:
1209:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 5748              		.loc 1 1209 0
 5749 0284 1F4A     		ldr	r2, .L508+16
 5750 0286 D2F8C010 		ldr	r1, [r2, #192]
 5751 028a 536E     		ldr	r3, [r2, #100]
 5752 028c 126E     		ldr	r2, [r2, #96]
 5753 028e 0091     		str	r1, [sp]
 5754 0290 2249     		ldr	r1, .L508+40
 5755 0292 2048     		ldr	r0, .L508+32
 5756 0294 FFF7FEFF 		bl	sprintf
 5757              	.LVL378:
 5758 0298 CDE7     		b	.L429
 5759              	.LVL379:
 5760              	.L430:
1244:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             IO_status_flag.AT_Response_Received = WIFI_TRUE;
 5761              		.loc 1 1244 0
 5762 029a 0D22     		movs	r2, #13
 5763 029c 194B     		ldr	r3, .L508+16
 5764 029e 83F8E820 		strb	r2, [r3, #232]
1245:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }       
 5765              		.loc 1 1245 0
 5766 02a2 154A     		ldr	r2, .L508+4
 5767 02a4 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 5768 02a6 43F00103 		orr	r3, r3, #1
 5769 02aa 5370     		strb	r3, [r2, #1]
 5770 02ac AFE6     		b	.L407
 5771              	.LVL380:
 5772              	.L419:
1250:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 178


 5773              		.loc 1 1250 0
 5774 02ae FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 5775              	.LVL381:
1254:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 5776              		.loc 1 1254 0
 5777 02b2 144B     		ldr	r3, .L508+16
 5778 02b4 9A78     		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 5779 02b6 174C     		ldr	r4, .L508+32
 5780 02b8 B3F88C30 		ldrh	r3, [r3, #140]
 5781 02bc 02F00702 		and	r2, r2, #7
 5782 02c0 1749     		ldr	r1, .L508+44
 5783 02c2 2046     		mov	r0, r4
 5784 02c4 FFF7FEFF 		bl	sprintf
 5785              	.LVL382:
1255:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #else
 5786              		.loc 1 1255 0
 5787 02c8 2046     		mov	r0, r4
 5788 02ca FFF7FEFF 		bl	strlen
 5789              	.LVL383:
 5790 02ce 80B2     		uxth	r0, r0
 5791 02d0 FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 5792              	.LVL384:
1261:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
 5793              		.loc 1 1261 0
 5794 02d4 0446     		mov	r4, r0
 5795 02d6 28B3     		cbz	r0, .L501
 5796              	.LVL385:
 5797              	.L431:
1291:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
 5798              		.loc 1 1291 0
 5799 02d8 002C     		cmp	r4, #0
 5800 02da 3FF498AE 		beq	.L407
1296:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
 5801              		.loc 1 1296 0
 5802 02de 064A     		ldr	r2, .L508+4
 5803 02e0 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 5804 02e2 43F00103 		orr	r3, r3, #1
 5805 02e6 5370     		strb	r3, [r2, #1]
1297:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
 5806              		.loc 1 1297 0
 5807 02e8 0D22     		movs	r2, #13
 5808 02ea 064B     		ldr	r3, .L508+16
 5809 02ec 83F8E820 		strb	r2, [r3, #232]
 5810 02f0 8DE6     		b	.L407
 5811              	.L509:
 5812 02f2 00BF     		.align	2
 5813              	.L508:
 5814 02f4 00000000 		.word	WiFi_Control_Variables
 5815 02f8 00000000 		.word	IO_status_flag
 5816 02fc 00000000 		.word	UserDataBuff
 5817 0300 14000000 		.word	wifi_instances+20
 5818 0304 00000000 		.word	WiFi_Counter_Variables
 5819 0308 00000000 		.word	open_web_socket
 5820 030c 00000000 		.word	open_sockets
 5821 0310 00000000 		.word	open_server_sockets
 5822 0314 00000000 		.word	WiFi_AT_Cmd_Buff
 5823 0318 00000000 		.word	.LC22
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 179


 5824 031c 18000000 		.word	.LC23
 5825 0320 30000000 		.word	.LC24
 5826              	.LVL386:
 5827              	.L501:
1263:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #if defined(CONSOLE_UART_ENABLED)
 5828              		.loc 1 1263 0
 5829 0324 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 5830              	.LVL387:
 5831              	.LBB170:
 5832              	.LBB171:
 5833              		.loc 2 142 0
 5834              		.syntax unified
 5835              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 5836 0328 72B6     		cpsid i
 5837              	@ 0 "" 2
 5838              		.thumb
 5839              		.syntax unified
 5840              	.LBE171:
 5841              	.LBE170:
1270:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 {
 5842              		.loc 1 1270 0
 5843 032a A74B     		ldr	r3, .L510
 5844 032c B3F88C20 		ldrh	r2, [r3, #140]
 5845 0330 D3F88810 		ldr	r1, [r3, #136]
 5846 0334 A548     		ldr	r0, .L510+4
 5847 0336 FFF7FEFF 		bl	HAL_UART_Transmit_IT
 5848              	.LVL388:
 5849 033a 00B1     		cbz	r0, .L432
1272:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 }
 5850              		.loc 1 1272 0
 5851 033c 0F24     		movs	r4, #15
 5852              	.L432:
 5853              	.LVL389:
 5854              	.LBB172:
 5855              	.LBB173:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 5856              		.loc 2 131 0
 5857              		.syntax unified
 5858              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 5859 033e 62B6     		cpsie i
 5860              	@ 0 "" 2
 5861              		.thumb
 5862              		.syntax unified
 5863 0340 CAE7     		b	.L431
 5864              	.LVL390:
 5865              	.L418:
 5866              	.LBE173:
 5867              	.LBE172:
1302:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #if defined(CONSOLE_UART_ENABLED)
 5868              		.loc 1 1302 0
 5869 0342 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 5870              	.LVL391:
1305:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 5871              		.loc 1 1305 0
 5872 0346 A049     		ldr	r1, .L510
 5873 0348 D1F8C030 		ldr	r3, [r1, #192]
 5874 034c 0A6E     		ldr	r2, [r1, #96]
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 180


 5875 034e A04C     		ldr	r4, .L510+8
 5876 0350 C96E     		ldr	r1, [r1, #108]
 5877 0352 0091     		str	r1, [sp]
 5878 0354 9F49     		ldr	r1, .L510+12
 5879 0356 2046     		mov	r0, r4
 5880 0358 FFF7FEFF 		bl	sprintf
 5881              	.LVL392:
1306:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #else
 5882              		.loc 1 1306 0
 5883 035c 2046     		mov	r0, r4
 5884 035e FFF7FEFF 		bl	strlen
 5885              	.LVL393:
 5886 0362 80B2     		uxth	r0, r0
 5887 0364 FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 5888              	.LVL394:
1317:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
 5889              		.loc 1 1317 0
 5890 0368 48B1     		cbz	r0, .L433
1322:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
 5891              		.loc 1 1322 0
 5892 036a 9B4A     		ldr	r2, .L510+16
 5893 036c 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 5894 036e 43F00103 		orr	r3, r3, #1
 5895 0372 5370     		strb	r3, [r2, #1]
1323:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
 5896              		.loc 1 1323 0
 5897 0374 0D22     		movs	r2, #13
 5898 0376 944B     		ldr	r3, .L510
 5899 0378 83F8E820 		strb	r2, [r3, #232]
 5900 037c 47E6     		b	.L407
 5901              	.L433:
1327:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.timeout_tick = 0;
 5902              		.loc 1 1327 0
 5903 037e 1022     		movs	r2, #16
 5904 0380 954B     		ldr	r3, .L510+16
 5905 0382 5A75     		strb	r2, [r3, #21]
1328:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Control_Variables.enable_timeout_timer = WIFI_TRUE;                               
 5906              		.loc 1 1328 0
 5907 0384 0022     		movs	r2, #0
 5908 0386 904B     		ldr	r3, .L510
 5909 0388 C3F8CC20 		str	r2, [r3, #204]
1329:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
 5910              		.loc 1 1329 0
 5911 038c 934A     		ldr	r2, .L510+20
 5912 038e 5379     		ldrb	r3, [r2, #5]	@ zero_extendqisi2
 5913 0390 43F02003 		orr	r3, r3, #32
 5914 0394 5371     		strb	r3, [r2, #5]
 5915 0396 3AE6     		b	.L407
 5916              	.LVL395:
 5917              	.L422:
1334:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           /* AT+S.SOCKDON=portNo,t<cr> */
 5918              		.loc 1 1334 0
 5919 0398 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 5920              	.LVL396:
1337:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 5921              		.loc 1 1337 0
 5922 039c 8A4A     		ldr	r2, .L510
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 181


 5923 039e 8C4C     		ldr	r4, .L510+8
 5924 03a0 D36E     		ldr	r3, [r2, #108]
 5925 03a2 D2F8C020 		ldr	r2, [r2, #192]
 5926 03a6 8E49     		ldr	r1, .L510+24
 5927 03a8 2046     		mov	r0, r4
 5928 03aa FFF7FEFF 		bl	sprintf
 5929              	.LVL397:
1338:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #else
 5930              		.loc 1 1338 0
 5931 03ae 2046     		mov	r0, r4
 5932 03b0 FFF7FEFF 		bl	strlen
 5933              	.LVL398:
 5934 03b4 80B2     		uxth	r0, r0
 5935 03b6 FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 5936              	.LVL399:
1345:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
 5937              		.loc 1 1345 0
 5938 03ba 48B1     		cbz	r0, .L434
1350:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
 5939              		.loc 1 1350 0
 5940 03bc 864A     		ldr	r2, .L510+16
 5941 03be 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 5942 03c0 43F00103 		orr	r3, r3, #1
 5943 03c4 5370     		strb	r3, [r2, #1]
1351:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
 5944              		.loc 1 1351 0
 5945 03c6 0D22     		movs	r2, #13
 5946 03c8 7F4B     		ldr	r3, .L510
 5947 03ca 83F8E820 		strb	r2, [r3, #232]
 5948 03ce 1EE6     		b	.L407
 5949              	.L434:
1355:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.timeout_tick = 0;
 5950              		.loc 1 1355 0
 5951 03d0 1722     		movs	r2, #23
 5952 03d2 814B     		ldr	r3, .L510+16
 5953 03d4 5A75     		strb	r2, [r3, #21]
1356:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Control_Variables.enable_timeout_timer = WIFI_TRUE;
 5954              		.loc 1 1356 0
 5955 03d6 0022     		movs	r2, #0
 5956 03d8 7B4B     		ldr	r3, .L510
 5957 03da C3F8CC20 		str	r2, [r3, #204]
1357:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
 5958              		.loc 1 1357 0
 5959 03de 7F4A     		ldr	r2, .L510+20
 5960 03e0 5379     		ldrb	r3, [r2, #5]	@ zero_extendqisi2
 5961 03e2 43F02003 		orr	r3, r3, #32
 5962 03e6 5371     		strb	r3, [r2, #5]
 5963 03e8 11E6     		b	.L407
 5964              	.LVL400:
 5965              	.L420:
1362:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
 5966              		.loc 1 1362 0
 5967 03ea 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 5968 03ec 03F00F03 		and	r3, r3, #15
 5969 03f0 7C4A     		ldr	r2, .L510+28
 5970 03f2 D35C     		ldrb	r3, [r2, r3]	@ zero_extendqisi2
 5971 03f4 73B3     		cbz	r3, .L435
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 182


1364:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             //@TBD: Do a SOCK.R (Read) before closing the socket
 5972              		.loc 1 1364 0
 5973 03f6 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 5974              	.LVL401:
1368:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 5975              		.loc 1 1368 0
 5976 03fa 7B4B     		ldr	r3, .L510+32
 5977 03fc 9B6A     		ldr	r3, [r3, #40]
 5978 03fe 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 5979 0400 734C     		ldr	r4, .L510+8
 5980 0402 02F00F02 		and	r2, r2, #15
 5981 0406 7949     		ldr	r1, .L510+36
 5982 0408 2046     		mov	r0, r4
 5983 040a FFF7FEFF 		bl	sprintf
 5984              	.LVL402:
1369:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #else
 5985              		.loc 1 1369 0
 5986 040e 2046     		mov	r0, r4
 5987 0410 FFF7FEFF 		bl	strlen
 5988              	.LVL403:
 5989 0414 80B2     		uxth	r0, r0
 5990 0416 FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 5991              	.LVL404:
1375:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
 5992              		.loc 1 1375 0
 5993 041a 0028     		cmp	r0, #0
 5994 041c 7FF4F7AD 		bne	.L407
1377:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.stop_event_dequeue          = WIFI_TRUE;
 5995              		.loc 1 1377 0
 5996 0420 694B     		ldr	r3, .L510
 5997 0422 0022     		movs	r2, #0
 5998 0424 83F8E820 		strb	r2, [r3, #232]
1378:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Counter_Variables.remote_socket_closed_id     = wifi_instances.DeQed_wifi_event-
 5999              		.loc 1 1378 0
 6000 0428 6C49     		ldr	r1, .L510+20
 6001 042a 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 6002 042c 42F00802 		orr	r2, r2, #8
 6003 0430 0A70     		strb	r2, [r1]
1379:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               
 6004              		.loc 1 1379 0
 6005 0432 6D4A     		ldr	r2, .L510+32
 6006 0434 926A     		ldr	r2, [r2, #40]
 6007 0436 5178     		ldrb	r1, [r2, #1]	@ zero_extendqisi2
 6008 0438 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 6009 043a 61F30302 		bfi	r2, r1, #0, #4
 6010 043e 5A71     		strb	r2, [r3, #5]
1382:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               
 6011              		.loc 1 1382 0
 6012 0440 654B     		ldr	r3, .L510+16
 6013 0442 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 6014 0444 42F01002 		orr	r2, r2, #16
 6015 0448 5A70     		strb	r2, [r3, #1]
1385:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
 6016              		.loc 1 1385 0
 6017 044a 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 6018 044c 42F00202 		orr	r2, r2, #2
 6019 0450 1A70     		strb	r2, [r3]
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 183


 6020 0452 DCE5     		b	.L407
 6021              	.LVL405:
 6022              	.L435:
1395:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           break; 
 6023              		.loc 1 1395 0
 6024 0454 6648     		ldr	r0, .L510+40
 6025 0456 FFF7FEFF 		bl	printf
 6026              	.LVL406:
 6027 045a D8E5     		b	.L407
 6028              	.L423:
1399:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           #ifdef SPWF04
 6029              		.loc 1 1399 0
 6030 045c FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 6031              	.LVL407:
1454:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 6032              		.loc 1 1454 0
 6033 0460 5B4C     		ldr	r4, .L510+8
 6034 0462 644B     		ldr	r3, .L510+44
 6035 0464 07CB     		ldmia	r3!, {r0, r1, r2}
 6036 0466 2060     		str	r0, [r4]	@ unaligned
 6037 0468 6160     		str	r1, [r4, #4]	@ unaligned
 6038 046a A260     		str	r2, [r4, #8]	@ unaligned
 6039 046c 1B88     		ldrh	r3, [r3]	@ unaligned
 6040 046e A381     		strh	r3, [r4, #12]	@ unaligned
1455:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             if(status == WiFi_MODULE_SUCCESS)
 6041              		.loc 1 1455 0
 6042 0470 2046     		mov	r0, r4
 6043 0472 FFF7FEFF 		bl	strlen
 6044              	.LVL408:
 6045 0476 80B2     		uxth	r0, r0
 6046 0478 FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 6047              	.LVL409:
1456:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
 6048              		.loc 1 1456 0
 6049 047c 0028     		cmp	r0, #0
 6050 047e 7FF4C6AD 		bne	.L407
1458:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.stop_event_dequeue = WIFI_TRUE;
 6051              		.loc 1 1458 0
 6052 0482 0022     		movs	r2, #0
 6053 0484 504B     		ldr	r3, .L510
 6054 0486 83F8E820 		strb	r2, [r3, #232]
1459:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
 6055              		.loc 1 1459 0
 6056 048a 544A     		ldr	r2, .L510+20
 6057 048c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 6058 048e 43F00803 		orr	r3, r3, #8
 6059 0492 1370     		strb	r3, [r2]
 6060 0494 BBE5     		b	.L407
 6061              	.LVL410:
 6062              	.L416:
1465:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           
 6063              		.loc 1 1465 0
 6064 0496 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 6065              	.LVL411:
1469:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 6066              		.loc 1 1469 0
 6067 049a 4B4A     		ldr	r2, .L510
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 184


 6068 049c 4C4C     		ldr	r4, .L510+8
 6069 049e B2F88C30 		ldrh	r3, [r2, #140]
 6070 04a2 126F     		ldr	r2, [r2, #112]
 6071 04a4 5449     		ldr	r1, .L510+48
 6072 04a6 2046     		mov	r0, r4
 6073 04a8 FFF7FEFF 		bl	sprintf
 6074              	.LVL412:
1471:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             if (status != WiFi_MODULE_SUCCESS)
 6075              		.loc 1 1471 0
 6076 04ac 2046     		mov	r0, r4
 6077 04ae FFF7FEFF 		bl	strlen
 6078              	.LVL413:
 6079 04b2 80B2     		uxth	r0, r0
 6080 04b4 FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 6081              	.LVL414:
1472:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
 6082              		.loc 1 1472 0
 6083 04b8 48B1     		cbz	r0, .L436
1474:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
 6084              		.loc 1 1474 0
 6085 04ba 474A     		ldr	r2, .L510+16
 6086 04bc 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 6087 04be 43F00103 		orr	r3, r3, #1
 6088 04c2 5370     		strb	r3, [r2, #1]
1475:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
 6089              		.loc 1 1475 0
 6090 04c4 0D22     		movs	r2, #13
 6091 04c6 404B     		ldr	r3, .L510
 6092 04c8 83F8E820 		strb	r2, [r3, #232]
 6093 04cc 9FE5     		b	.L407
 6094              	.L436:
1480:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 if(status != WiFi_MODULE_SUCCESS)  
 6095              		.loc 1 1480 0
 6096 04ce FFF7FEFF 		bl	USART_Receive_AT_Resp
 6097              	.LVL415:
1481:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 {
 6098              		.loc 1 1481 0
 6099 04d2 40B1     		cbz	r0, .L437
1483:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
 6100              		.loc 1 1483 0
 6101 04d4 404A     		ldr	r2, .L510+16
 6102 04d6 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 6103 04d8 43F00103 		orr	r3, r3, #1
 6104 04dc 5370     		strb	r3, [r2, #1]
1484:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 }
 6105              		.loc 1 1484 0
 6106 04de 0D22     		movs	r2, #13
 6107 04e0 394B     		ldr	r3, .L510
 6108 04e2 83F8E820 		strb	r2, [r3, #232]
 6109              	.L437:
1488:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 6110              		.loc 1 1488 0
 6111 04e6 384A     		ldr	r2, .L510
 6112 04e8 394C     		ldr	r4, .L510+8
 6113 04ea B2F88C30 		ldrh	r3, [r2, #140]
 6114 04ee 126F     		ldr	r2, [r2, #112]
 6115 04f0 4249     		ldr	r1, .L510+52
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 185


 6116 04f2 2046     		mov	r0, r4
 6117              	.LVL416:
 6118 04f4 FFF7FEFF 		bl	sprintf
 6119              	.LVL417:
1489:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 if(status != WiFi_MODULE_SUCCESS)
 6120              		.loc 1 1489 0
 6121 04f8 2046     		mov	r0, r4
 6122 04fa FFF7FEFF 		bl	strlen
 6123              	.LVL418:
 6124 04fe 80B2     		uxth	r0, r0
 6125 0500 FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 6126              	.LVL419:
1490:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 {
 6127              		.loc 1 1490 0
 6128 0504 40B1     		cbz	r0, .L438
1492:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
 6129              		.loc 1 1492 0
 6130 0506 344A     		ldr	r2, .L510+16
 6131 0508 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 6132 050a 43F00103 		orr	r3, r3, #1
 6133 050e 5370     		strb	r3, [r2, #1]
1493:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 }
 6134              		.loc 1 1493 0
 6135 0510 0D22     		movs	r2, #13
 6136 0512 2D4B     		ldr	r3, .L510
 6137 0514 83F8E820 		strb	r2, [r3, #232]
 6138              	.L438:
1496:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               memcpy((char*)WiFi_AT_Cmd_Buff, (char*)WiFi_Counter_Variables.curr_data,WiFi_Counter_
 6139              		.loc 1 1496 0
 6140 0518 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 6141              	.LVL420:
1497:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 6142              		.loc 1 1497 0
 6143 051c 2A4B     		ldr	r3, .L510
 6144 051e 2C4C     		ldr	r4, .L510+8
 6145 0520 B3F88C20 		ldrh	r2, [r3, #140]
 6146 0524 D3F88810 		ldr	r1, [r3, #136]
 6147 0528 2046     		mov	r0, r4
 6148 052a FFF7FEFF 		bl	memcpy
 6149              	.LVL421:
1498:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               if(status != WiFi_MODULE_SUCCESS) 
 6150              		.loc 1 1498 0
 6151 052e 2046     		mov	r0, r4
 6152 0530 FFF7FEFF 		bl	strlen
 6153              	.LVL422:
 6154 0534 80B2     		uxth	r0, r0
 6155 0536 FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 6156              	.LVL423:
1499:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
 6157              		.loc 1 1499 0
 6158 053a 0028     		cmp	r0, #0
 6159 053c 3FF467AD 		beq	.L407
1501:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
 6160              		.loc 1 1501 0
 6161 0540 254A     		ldr	r2, .L510+16
 6162 0542 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 6163 0544 43F00103 		orr	r3, r3, #1
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 186


 6164 0548 5370     		strb	r3, [r2, #1]
1502:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               }
 6165              		.loc 1 1502 0
 6166 054a 0D22     		movs	r2, #13
 6167 054c 1E4B     		ldr	r3, .L510
 6168 054e 83F8E820 		strb	r2, [r3, #232]
 6169 0552 5CE5     		b	.L407
 6170              	.LVL424:
 6171              	.L414:
1530:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 6172              		.loc 1 1530 0
 6173 0554 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 6174              	.LVL425:
1532:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
 6175              		.loc 1 1532 0
 6176 0558 1B4B     		ldr	r3, .L510
 6177 055a 1B6F     		ldr	r3, [r3, #112]
 6178 055c DBB1     		cbz	r3, .L502
1543:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
 6179              		.loc 1 1543 0
 6180 055e 1A4A     		ldr	r2, .L510
 6181 0560 126E     		ldr	r2, [r2, #96]
 6182 0562 02B3     		cbz	r2, .L503
1558:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #else
 6183              		.loc 1 1558 0
 6184 0564 1849     		ldr	r1, .L510
 6185 0566 D1F8C010 		ldr	r1, [r1, #192]
 6186 056a 0091     		str	r1, [sp]
 6187 056c 2449     		ldr	r1, .L510+56
 6188 056e 1848     		ldr	r0, .L510+8
 6189 0570 FFF7FEFF 		bl	sprintf
 6190              	.LVL426:
 6191              	.L440:
1567:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #endif
 6192              		.loc 1 1567 0
 6193 0574 1648     		ldr	r0, .L510+8
 6194 0576 FFF7FEFF 		bl	strlen
 6195              	.LVL427:
 6196 057a 80B2     		uxth	r0, r0
 6197 057c FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 6198              	.LVL428:
1569:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
 6199              		.loc 1 1569 0
 6200 0580 B8B9     		cbnz	r0, .L442
1571:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #ifdef CONSOLE_UART_ENABLED
 6201              		.loc 1 1571 0
 6202 0582 164B     		ldr	r3, .L510+20
 6203 0584 DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
1574:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 #endif
 6204              		.loc 1 1574 0
 6205 0586 9978     		ldrb	r1, [r3, #2]	@ zero_extendqisi2
 6206 0588 41F00401 		orr	r1, r1, #4
 6207 058c 9970     		strb	r1, [r3, #2]
1576:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #else
 6208              		.loc 1 1576 0
 6209 058e 42F03002 		orr	r2, r2, #48
 6210 0592 DA70     		strb	r2, [r3, #3]
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 187


 6211 0594 3BE5     		b	.L407
 6212              	.LVL429:
 6213              	.L502:
1536:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #else
 6214              		.loc 1 1536 0
 6215 0596 0E4A     		ldr	r2, .L510+8
 6216 0598 1A4B     		ldr	r3, .L510+60
 6217 059a 03CB     		ldmia	r3!, {r0, r1}
 6218 059c 1060     		str	r0, [r2]	@ unaligned
 6219 059e 5160     		str	r1, [r2, #4]	@ unaligned
 6220 05a0 1B88     		ldrh	r3, [r3]	@ unaligned
 6221 05a2 1381     		strh	r3, [r2, #8]	@ unaligned
 6222 05a4 E6E7     		b	.L440
 6223              	.L503:
1547:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #else
 6224              		.loc 1 1547 0
 6225 05a6 1A46     		mov	r2, r3
 6226 05a8 1749     		ldr	r1, .L510+64
 6227 05aa 0948     		ldr	r0, .L510+8
 6228 05ac FFF7FEFF 		bl	sprintf
 6229              	.LVL430:
 6230 05b0 E0E7     		b	.L440
 6231              	.LVL431:
 6232              	.L442:
1588:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
 6233              		.loc 1 1588 0
 6234 05b2 094A     		ldr	r2, .L510+16
 6235 05b4 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 6236 05b6 43F00103 		orr	r3, r3, #1
 6237 05ba 5370     		strb	r3, [r2, #1]
1589:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
 6238              		.loc 1 1589 0
 6239 05bc 0D22     		movs	r2, #13
 6240 05be 024B     		ldr	r3, .L510
 6241 05c0 83F8E820 		strb	r2, [r3, #232]
 6242 05c4 23E5     		b	.L407
 6243              	.L511:
 6244 05c6 00BF     		.align	2
 6245              	.L510:
 6246 05c8 00000000 		.word	WiFi_Counter_Variables
 6247 05cc 00000000 		.word	UartWiFiHandle
 6248 05d0 00000000 		.word	WiFi_AT_Cmd_Buff
 6249 05d4 44000000 		.word	.LC25
 6250 05d8 00000000 		.word	IO_status_flag
 6251 05dc 00000000 		.word	WiFi_Control_Variables
 6252 05e0 60000000 		.word	.LC26
 6253 05e4 00000000 		.word	open_sockets
 6254 05e8 00000000 		.word	wifi_instances
 6255 05ec 78000000 		.word	.LC27
 6256 05f0 88000000 		.word	.LC28
 6257 05f4 A0000000 		.word	.LC29
 6258 05f8 B0000000 		.word	.LC30
 6259 05fc C4000000 		.word	.LC31
 6260 0600 F4000000 		.word	.LC34
 6261 0604 D8000000 		.word	.LC32
 6262 0608 E4000000 		.word	.LC33
 6263              	.LVL432:
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 188


 6264              	.L415:
1594:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 6265              		.loc 1 1594 0
 6266 060c FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 6267              	.LVL433:
1596:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
 6268              		.loc 1 1596 0
 6269 0610 AB4B     		ldr	r3, .L512
 6270 0612 B3F98430 		ldrsh	r3, [r3, #132]
 6271 0616 B3F1FF3F 		cmp	r3, #-1
 6272 061a 12D0     		beq	.L504
 6273              	.L443:
1633:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #endif
 6274              		.loc 1 1633 0
 6275 061c A948     		ldr	r0, .L512+4
 6276 061e FFF7FEFF 		bl	strlen
 6277              	.LVL434:
 6278 0622 80B2     		uxth	r0, r0
 6279 0624 FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 6280              	.LVL435:
1636:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****              {
 6281              		.loc 1 1636 0
 6282 0628 0028     		cmp	r0, #0
 6283 062a 3FF4F0AC 		beq	.L407
1641:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                  WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
 6284              		.loc 1 1641 0
 6285 062e A64A     		ldr	r2, .L512+8
 6286 0630 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 6287 0632 43F00103 		orr	r3, r3, #1
 6288 0636 5370     		strb	r3, [r2, #1]
1642:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****              }
 6289              		.loc 1 1642 0
 6290 0638 0D22     		movs	r2, #13
 6291 063a A14B     		ldr	r3, .L512
 6292 063c 83F8E820 		strb	r2, [r3, #232]
 6293 0640 E5E4     		b	.L407
 6294              	.LVL436:
 6295              	.L504:
1598:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
 6296              		.loc 1 1598 0
 6297 0642 9F4B     		ldr	r3, .L512
 6298 0644 1A6F     		ldr	r2, [r3, #112]
 6299 0646 12B1     		cbz	r2, .L444
1598:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
 6300              		.loc 1 1598 0 is_stmt 0 discriminator 1
 6301 0648 5B6F     		ldr	r3, [r3, #116]
 6302 064a 002B     		cmp	r3, #0
 6303 064c E6D1     		bne	.L443
 6304              	.L444:
1609:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
 6305              		.loc 1 1609 0 is_stmt 1
 6306 064e 002A     		cmp	r2, #0
 6307 0650 E4D0     		beq	.L443
1609:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               {
 6308              		.loc 1 1609 0 is_stmt 0 discriminator 1
 6309 0652 9B4B     		ldr	r3, .L512
 6310 0654 5B6F     		ldr	r3, [r3, #116]
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 189


 6311 0656 002B     		cmp	r3, #0
 6312 0658 E0D1     		bne	.L443
1613:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                   #else
 6313              		.loc 1 1613 0 is_stmt 1
 6314 065a 9C49     		ldr	r1, .L512+12
 6315 065c 9948     		ldr	r0, .L512+4
 6316 065e FFF7FEFF 		bl	sprintf
 6317              	.LVL437:
 6318 0662 DBE7     		b	.L443
 6319              	.L425:
1647:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #if defined(CONSOLE_UART_ENABLED)
 6320              		.loc 1 1647 0
 6321 0664 FFF7FEFF 		bl	Reset_AT_CMD_Buffer
 6322              	.LVL438:
1650:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               status = USART_Transmit_AT_Cmd(strlen((char*)WiFi_AT_Cmd_Buff));
 6323              		.loc 1 1650 0
 6324 0668 954A     		ldr	r2, .L512
 6325 066a D2F8C010 		ldr	r1, [r2, #192]
 6326 066e 136F     		ldr	r3, [r2, #112]
 6327 0670 126E     		ldr	r2, [r2, #96]
 6328 0672 944C     		ldr	r4, .L512+4
 6329 0674 0091     		str	r1, [sp]
 6330 0676 9649     		ldr	r1, .L512+16
 6331 0678 2046     		mov	r0, r4
 6332 067a FFF7FEFF 		bl	sprintf
 6333              	.LVL439:
1651:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             #else
 6334              		.loc 1 1651 0
 6335 067e 2046     		mov	r0, r4
 6336 0680 FFF7FEFF 		bl	strlen
 6337              	.LVL440:
 6338 0684 80B2     		uxth	r0, r0
 6339 0686 FFF7FEFF 		bl	USART_Transmit_AT_Cmd
 6340              	.LVL441:
1658:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             {
 6341              		.loc 1 1658 0
 6342 068a 48B9     		cbnz	r0, .L445
1660:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #if defined(SPWF01)
 6343              		.loc 1 1660 0
 6344 068c 914B     		ldr	r3, .L512+20
 6345 068e DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 6346 0690 42F00402 		orr	r2, r2, #4
 6347 0694 DA70     		strb	r2, [r3, #3]
1662:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               #else
 6348              		.loc 1 1662 0
 6349 0696 9A78     		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 6350 0698 42F00402 		orr	r2, r2, #4
 6351 069c 9A70     		strb	r2, [r3, #2]
 6352 069e B6E4     		b	.L407
 6353              	.L445:
1676:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
 6354              		.loc 1 1676 0
 6355 06a0 894A     		ldr	r2, .L512+8
 6356 06a2 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 6357 06a4 43F00103 		orr	r3, r3, #1
 6358 06a8 5370     		strb	r3, [r2, #1]
1677:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             }
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 190


 6359              		.loc 1 1677 0
 6360 06aa 0D22     		movs	r2, #13
 6361 06ac 844B     		ldr	r3, .L512
 6362 06ae 83F8E820 		strb	r2, [r3, #232]
 6363 06b2 ACE4     		b	.L407
 6364              	.LVL442:
 6365              	.L412:
1685:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.AT_RESPONSE = WiFi_AT_CMD_RESP_ERROR;
 6366              		.loc 1 1685 0
 6367 06b4 844B     		ldr	r3, .L512+8
 6368 06b6 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 6369 06b8 42F00102 		orr	r2, r2, #1
 6370 06bc 5A70     		strb	r2, [r3, #1]
1686:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             IO_status_flag.AT_event_processing = WIFI_NO_EVENT;
 6371              		.loc 1 1686 0
 6372 06be 0D21     		movs	r1, #13
 6373 06c0 7F4A     		ldr	r2, .L512
 6374 06c2 82F8E810 		strb	r1, [r2, #232]
1687:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;
 6375              		.loc 1 1687 0
 6376 06c6 0022     		movs	r2, #0
 6377 06c8 5A75     		strb	r2, [r3, #21]
1688:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 6378              		.loc 1 1688 0
 6379 06ca A0E4     		b	.L407
 6380              	.L410:
1701:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             WiFi_Counter_Variables.AT_RESPONSE = WiFi_MODULE_SUCCESS;
 6381              		.loc 1 1701 0
 6382 06cc 7E4B     		ldr	r3, .L512+8
 6383 06ce 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 6384 06d0 42F00102 		orr	r2, r2, #1
 6385 06d4 5A70     		strb	r2, [r3, #1]
1702:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             IO_status_flag.AT_event_processing = WIFI_NO_EVENT;
 6386              		.loc 1 1702 0
 6387 06d6 0022     		movs	r2, #0
 6388 06d8 7949     		ldr	r1, .L512
 6389 06da 81F8E820 		strb	r2, [r1, #232]
1703:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;
 6390              		.loc 1 1703 0
 6391 06de 5A75     		strb	r2, [r3, #21]
1704:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 6392              		.loc 1 1704 0
 6393 06e0 95E4     		b	.L407
 6394              	.L413:
1716:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             break;
 6395              		.loc 1 1716 0
 6396 06e2 7C4A     		ldr	r2, .L512+20
 6397 06e4 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 6398 06e6 43F02003 		orr	r3, r3, #32
 6399 06ea 1370     		strb	r3, [r2]
1717:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 6400              		.loc 1 1717 0
 6401 06ec 8FE4     		b	.L407
 6402              	.LVL443:
 6403              	.L492:
1727:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               Socket_Read(WiFi_Counter_Variables.Socket_Data_Length);                  
 6404              		.loc 1 1727 0
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 191


 6405 06ee 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 6406 06f0 6FF3C712 		bfc	r2, #7, #1
 6407 06f4 5A70     		strb	r2, [r3, #1]
1728:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }  
 6408              		.loc 1 1728 0
 6409 06f6 724B     		ldr	r3, .L512
 6410 06f8 B3F8A000 		ldrh	r0, [r3, #160]
 6411 06fc FFF7FEFF 		bl	Socket_Read
 6412              	.LVL444:
 6413 0700 25E0     		b	.L447
 6414              	.L493:
1733:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               //@TBD: Flushing the buffer may be detrimental if we have genuine follow on WIND55?
 6415              		.loc 1 1733 0
 6416 0702 744B     		ldr	r3, .L512+20
 6417 0704 9A78     		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 6418 0706 6FF38612 		bfc	r2, #6, #1
 6419 070a 9A70     		strb	r2, [r3, #2]
1735:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }      
 6420              		.loc 1 1735 0
 6421 070c FFF7FEFF 		bl	Socket_Pending_Data
 6422              	.LVL445:
 6423 0710 1DE0     		b	.L447
 6424              	.L494:
1780:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               //Now callback to user with user_data pointer <UserDataBuff>              
 6425              		.loc 1 1780 0
 6426 0712 704B     		ldr	r3, .L512+20
 6427 0714 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 6428 0716 6FF30412 		bfc	r2, #4, #1
 6429 071a 1A71     		strb	r2, [r3, #4]
1782:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               memset(UserDataBuff, 0x00, MAX_BUFFER_GLOBAL);//Flush the buffer
 6430              		.loc 1 1782 0
 6431 071c 684B     		ldr	r3, .L512
 6432 071e 5978     		ldrb	r1, [r3, #1]	@ zero_extendqisi2
 6433 0720 B3F89620 		ldrh	r2, [r3, #150]
 6434 0724 D3F8B430 		ldr	r3, [r3, #180]
 6435 0728 6B4C     		ldr	r4, .L512+24
 6436 072a 0220     		movs	r0, #2
 6437 072c 0190     		str	r0, [sp, #4]
 6438 072e 0092     		str	r2, [sp]
 6439 0730 2246     		mov	r2, r4
 6440 0732 C1F3C201 		ubfx	r1, r1, #3, #3
 6441 0736 4FF0FF30 		mov	r0, #-1
 6442 073a FFF7FEFF 		bl	ind_wifi_socket_data_received
 6443              	.LVL446:
1783:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               Resume_Dequeue();
 6444              		.loc 1 1783 0
 6445 073e 4FF40072 		mov	r2, #512
 6446 0742 0021     		movs	r1, #0
 6447 0744 2046     		mov	r0, r4
 6448 0746 FFF7FEFF 		bl	memset
 6449              	.LVL447:
1784:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
 6450              		.loc 1 1784 0
 6451 074a FFF7FEFF 		bl	Resume_Dequeue
 6452              	.LVL448:
 6453              	.L447:
1856:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****   {
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 192


 6454              		.loc 1 1856 0
 6455 074e 5E4B     		ldr	r3, .L512+8
 6456 0750 9B7D     		ldrb	r3, [r3, #22]	@ zero_extendqisi2
 6457 0752 DBB2     		uxtb	r3, r3
 6458 0754 1C2B     		cmp	r3, #28
 6459 0756 00F2CC80 		bhi	.L406
 6460 075a DFE813F0 		tbh	[pc, r3, lsl #1]
 6461              	.L462:
 6462 075e E600     		.2byte	(.L461-.L462)/2
 6463 0760 ED00     		.2byte	(.L463-.L462)/2
 6464 0762 F400     		.2byte	(.L464-.L462)/2
 6465 0764 FB00     		.2byte	(.L465-.L462)/2
 6466 0766 0201     		.2byte	(.L466-.L462)/2
 6467 0768 0901     		.2byte	(.L467-.L462)/2
 6468 076a 1701     		.2byte	(.L468-.L462)/2
 6469 076c 1E01     		.2byte	(.L469-.L462)/2
 6470 076e 2501     		.2byte	(.L470-.L462)/2
 6471 0770 A700     		.2byte	(.L471-.L462)/2
 6472 0772 C500     		.2byte	(.L472-.L462)/2
 6473 0774 CC00     		.2byte	(.L473-.L462)/2
 6474 0776 D300     		.2byte	(.L474-.L462)/2
 6475 0778 1001     		.2byte	(.L475-.L462)/2
 6476 077a 9500     		.2byte	(.L476-.L462)/2
 6477 077c CA00     		.2byte	(.L406-.L462)/2
 6478 077e 2C01     		.2byte	(.L477-.L462)/2
 6479 0780 3A01     		.2byte	(.L478-.L462)/2
 6480 0782 4101     		.2byte	(.L479-.L462)/2
 6481 0784 4801     		.2byte	(.L480-.L462)/2
 6482 0786 CA00     		.2byte	(.L406-.L462)/2
 6483 0788 3301     		.2byte	(.L481-.L462)/2
 6484 078a 4F01     		.2byte	(.L482-.L462)/2
 6485 078c 5601     		.2byte	(.L483-.L462)/2
 6486 078e 5D01     		.2byte	(.L484-.L462)/2
 6487 0790 6401     		.2byte	(.L485-.L462)/2
 6488 0792 6B01     		.2byte	(.L486-.L462)/2
 6489 0794 DA00     		.2byte	(.L487-.L462)/2
 6490 0796 E000     		.2byte	(.L488-.L462)/2
 6491              		.p2align 1
 6492              	.L495:
1789:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               //Now callback to user with user_data pointer <UserDataBuff>
 6493              		.loc 1 1789 0
 6494 0798 4E4B     		ldr	r3, .L512+20
 6495 079a 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 6496 079c 6FF34512 		bfc	r2, #5, #1
 6497 07a0 1A71     		strb	r2, [r3, #4]
1791:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               memset(UserDataBuff, 0x00, MAX_BUFFER_GLOBAL); //Flush the buffer
 6498              		.loc 1 1791 0
 6499 07a2 474B     		ldr	r3, .L512
 6500 07a4 D878     		ldrb	r0, [r3, #3]	@ zero_extendqisi2
 6501 07a6 5978     		ldrb	r1, [r3, #1]	@ zero_extendqisi2
 6502 07a8 B3F89620 		ldrh	r2, [r3, #150]
 6503 07ac D3F8B430 		ldr	r3, [r3, #180]
 6504 07b0 494C     		ldr	r4, .L512+24
 6505 07b2 0225     		movs	r5, #2
 6506 07b4 0195     		str	r5, [sp, #4]
 6507 07b6 0092     		str	r2, [sp]
 6508 07b8 2246     		mov	r2, r4
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 193


 6509 07ba C1F3C201 		ubfx	r1, r1, #3, #3
 6510 07be 40F30200 		sbfx	r0, r0, #0, #3
 6511 07c2 FFF7FEFF 		bl	ind_wifi_socket_data_received
 6512              	.LVL449:
1792:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               Resume_Dequeue();
 6513              		.loc 1 1792 0
 6514 07c6 4FF40072 		mov	r2, #512
 6515 07ca 0021     		movs	r1, #0
 6516 07cc 2046     		mov	r0, r4
 6517 07ce FFF7FEFF 		bl	memset
 6518              	.LVL450:
1793:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
 6519              		.loc 1 1793 0
 6520 07d2 FFF7FEFF 		bl	Resume_Dequeue
 6521              	.LVL451:
 6522 07d6 BAE7     		b	.L447
 6523              	.L496:
1799:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 {
 6524              		.loc 1 1799 0
 6525 07d8 394B     		ldr	r3, .L512
 6526 07da 9879     		ldrb	r0, [r3, #6]	@ zero_extendqisi2
 6527 07dc 00F00700 		and	r0, r0, #7
 6528 07e0 3E4B     		ldr	r3, .L512+28
 6529 07e2 1B5C     		ldrb	r3, [r3, r0]	@ zero_extendqisi2
 6530 07e4 2BB9     		cbnz	r3, .L505
 6531              	.L452:
1803:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
 6532              		.loc 1 1803 0
 6533 07e6 3B4B     		ldr	r3, .L512+20
 6534 07e8 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 6535 07ea 6FF3C712 		bfc	r2, #7, #1
 6536 07ee 1A71     		strb	r2, [r3, #4]
 6537 07f0 ADE7     		b	.L447
 6538              	.L505:
1801:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****                 }
 6539              		.loc 1 1801 0
 6540 07f2 0221     		movs	r1, #2
 6541 07f4 FFF7FEFF 		bl	Queue_Client_Close_Event
 6542              	.LVL452:
 6543 07f8 F5E7     		b	.L452
 6544              	.L497:
1814:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               
 6545              		.loc 1 1814 0
 6546 07fa 0221     		movs	r1, #2
 6547 07fc 3848     		ldr	r0, .L512+32
 6548 07fe FFF7FEFF 		bl	ind_wifi_socket_client_remote_server_closed
 6549              	.LVL453:
1816:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.SockON_Server_Closed_Callback = WIFI_FALSE;
 6550              		.loc 1 1816 0
 6551 0802 0222     		movs	r2, #2
 6552 0804 304B     		ldr	r3, .L512+8
 6553 0806 DA74     		strb	r2, [r3, #19]
1817:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.stop_event_dequeue = WIFI_FALSE;
 6554              		.loc 1 1817 0
 6555 0808 324B     		ldr	r3, .L512+20
 6556 080a 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 6557 080c 6FF38612 		bfc	r2, #6, #1
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 194


 6558 0810 1A71     		strb	r2, [r3, #4]
1818:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
 6559              		.loc 1 1818 0
 6560 0812 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 6561 0814 6FF3C302 		bfc	r2, #3, #1
 6562 0818 1A70     		strb	r2, [r3]
 6563 081a 98E7     		b	.L447
 6564              	.L498:
1826:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               }
 6565              		.loc 1 1826 0
 6566 081c 2E48     		ldr	r0, .L512+24
 6567 081e FFF7FEFF 		bl	ind_wifi_file_data_available
 6568              	.LVL454:
 6569 0822 2EE4     		b	.L456
 6570              	.L457:
1831:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               memset(UserDataBuff, 0x00, MAX_BUFFER_GLOBAL);//Flush the buffer
 6571              		.loc 1 1831 0
 6572 0824 264B     		ldr	r3, .L512
 6573 0826 B3F89210 		ldrh	r1, [r3, #146]
 6574 082a 2B48     		ldr	r0, .L512+24
 6575 082c FFF7FEFF 		bl	ind_wifi_http_data_available
 6576              	.LVL455:
 6577 0830 27E4     		b	.L456
 6578              	.L454:
1836:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
 6579              		.loc 1 1836 0
 6580 0832 13F0040F 		tst	r3, #4
 6581 0836 0DD1     		bne	.L506
1843:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
 6582              		.loc 1 1843 0
 6583 0838 12F0200F 		tst	r2, #32
 6584 083c 1CD1     		bne	.L507
1849:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           {
 6585              		.loc 1 1849 0
 6586 083e 12F0400F 		tst	r2, #64
 6587 0842 84D0     		beq	.L447
1851:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.Client_Disconnected = WIFI_FALSE;
 6588              		.loc 1 1851 0
 6589 0844 FFF7FEFF 		bl	ind_socket_server_client_left
 6590              	.LVL456:
1852:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
 6591              		.loc 1 1852 0
 6592 0848 224B     		ldr	r3, .L512+20
 6593 084a 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 6594 084c 6FF38612 		bfc	r2, #6, #1
 6595 0850 5A70     		strb	r2, [r3, #1]
 6596 0852 7CE7     		b	.L447
 6597              	.L506:
1838:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               memset(UserDataBuff, 0x00, MAX_BUFFER_GLOBAL);//Flush the buffer
 6598              		.loc 1 1838 0
 6599 0854 204C     		ldr	r4, .L512+24
 6600 0856 2046     		mov	r0, r4
 6601 0858 FFF7FEFF 		bl	ind_wifi_file_data_available
 6602              	.LVL457:
1839:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               Resume_Dequeue();
 6603              		.loc 1 1839 0
 6604 085c 4FF40072 		mov	r2, #512
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 195


 6605 0860 0021     		movs	r1, #0
 6606 0862 2046     		mov	r0, r4
 6607 0864 FFF7FEFF 		bl	memset
 6608              	.LVL458:
1840:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.FILE_Data_available = WIFI_FALSE;
 6609              		.loc 1 1840 0
 6610 0868 FFF7FEFF 		bl	Resume_Dequeue
 6611              	.LVL459:
1841:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
 6612              		.loc 1 1841 0
 6613 086c 194B     		ldr	r3, .L512+20
 6614 086e 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 6615 0870 6FF38202 		bfc	r2, #2, #1
 6616 0874 5A71     		strb	r2, [r3, #5]
 6617 0876 6AE7     		b	.L447
 6618              	.L507:
1845:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****               WiFi_Control_Variables.Client_Connected = WIFI_FALSE;
 6619              		.loc 1 1845 0
 6620 0878 FFF7FEFF 		bl	ind_socket_server_client_joined
 6621              	.LVL460:
1846:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****           }
 6622              		.loc 1 1846 0
 6623 087c 154B     		ldr	r3, .L512+20
 6624 087e 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 6625 0880 6FF34512 		bfc	r2, #5, #1
 6626 0884 5A70     		strb	r2, [r3, #1]
 6627 0886 62E7     		b	.L447
 6628              	.L476:
1860:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          {
 6629              		.loc 1 1860 0
 6630 0888 0F4B     		ldr	r3, .L512+8
 6631 088a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 6632 088c C3F34203 		ubfx	r3, r3, #1, #3
 6633 0890 022B     		cmp	r3, #2
 6634 0892 2ED1     		bne	.L406
1862:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             ind_wifi_on();//Call this once only...This if for wifi_on (instead of console active
 6635              		.loc 1 1862 0
 6636 0894 0C49     		ldr	r1, .L512+8
 6637 0896 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 6638 0898 C3F34203 		ubfx	r3, r3, #1, #3
 6639 089c 0133     		adds	r3, r3, #1
 6640 089e 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
 6641 08a0 63F34302 		bfi	r2, r3, #1, #3
 6642 08a4 4A70     		strb	r2, [r1, #1]
1863:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          }
 6643              		.loc 1 1863 0
 6644 08a6 FFF7FEFF 		bl	ind_wifi_on
 6645              	.LVL461:
 6646 08aa 22E0     		b	.L406
 6647              	.L471:
1868:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          {
 6648              		.loc 1 1868 0
 6649 08ac 0D4B     		ldr	r3, .L512+36
 6650 08ae 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 6651 08b0 FBB9     		cbnz	r3, .L406
1870:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****             ind_wifi_connected();  //wifi connected
 6652              		.loc 1 1870 0
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 196


 6653 08b2 0122     		movs	r2, #1
 6654 08b4 0B4B     		ldr	r3, .L512+36
 6655 08b6 1A70     		strb	r2, [r3]
1871:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          }
 6656              		.loc 1 1871 0
 6657 08b8 FFF7FEFF 		bl	ind_wifi_connected
 6658              	.LVL462:
 6659 08bc 19E0     		b	.L406
 6660              	.L513:
 6661 08be 00BF     		.align	2
 6662              	.L512:
 6663 08c0 00000000 		.word	WiFi_Counter_Variables
 6664 08c4 00000000 		.word	WiFi_AT_Cmd_Buff
 6665 08c8 00000000 		.word	IO_status_flag
 6666 08cc 14010000 		.word	.LC35
 6667 08d0 24010000 		.word	.LC36
 6668 08d4 00000000 		.word	WiFi_Control_Variables
 6669 08d8 00000000 		.word	UserDataBuff
 6670 08dc 00000000 		.word	open_sockets
 6671 08e0 04000000 		.word	WiFi_Counter_Variables+4
 6672 08e4 00000000 		.word	wifi_connected
 6673              	.L472:
1877:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
 6674              		.loc 1 1877 0
 6675 08e8 FFF7FEFF 		bl	ind_wifi_ap_ready
 6676              	.LVL463:
1878:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
 6677              		.loc 1 1878 0
 6678 08ec FF22     		movs	r2, #255
 6679 08ee 544B     		ldr	r3, .L514
 6680 08f0 9A75     		strb	r2, [r3, #22]
 6681              	.L406:
2006:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 6682              		.loc 1 2006 0
 6683 08f2 03B0     		add	sp, sp, #12
 6684              	.LCFI64:
 6685              		.cfi_remember_state
 6686              		.cfi_def_cfa_offset 12
 6687              		@ sp needed
 6688 08f4 30BD     		pop	{r4, r5, pc}
 6689              	.L473:
 6690              	.LCFI65:
 6691              		.cfi_restore_state
1882:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
 6692              		.loc 1 1882 0
 6693 08f6 5348     		ldr	r0, .L514+4
 6694 08f8 FFF7FEFF 		bl	ind_wifi_ap_client_joined
 6695              	.LVL464:
1883:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
 6696              		.loc 1 1883 0
 6697 08fc FF22     		movs	r2, #255
 6698 08fe 504B     		ldr	r3, .L514
 6699 0900 9A75     		strb	r2, [r3, #22]
1884:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 6700              		.loc 1 1884 0
 6701 0902 F6E7     		b	.L406
 6702              	.L474:
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 197


1887:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
 6703              		.loc 1 1887 0
 6704 0904 4F48     		ldr	r0, .L514+4
 6705 0906 FFF7FEFF 		bl	ind_wifi_ap_client_left
 6706              	.LVL465:
1888:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
 6707              		.loc 1 1888 0
 6708 090a FF22     		movs	r2, #255
 6709 090c 4C4B     		ldr	r3, .L514
 6710 090e 9A75     		strb	r2, [r3, #22]
1889:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 6711              		.loc 1 1889 0
 6712 0910 EFE7     		b	.L406
 6713              	.L487:
1892:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
 6714              		.loc 1 1892 0
 6715 0912 FFF7FEFF 		bl	ind_wifi_resuming
 6716              	.LVL466:
1893:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
 6717              		.loc 1 1893 0
 6718 0916 FF22     		movs	r2, #255
 6719 0918 494B     		ldr	r3, .L514
 6720 091a 9A75     		strb	r2, [r3, #22]
1894:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 6721              		.loc 1 1894 0
 6722 091c E9E7     		b	.L406
 6723              	.L488:
1897:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          IO_status_flag.WiFi_WIND_State = Undefine_state;
 6724              		.loc 1 1897 0
 6725 091e FFF7FEFF 		bl	ind_wifi_resuming
 6726              	.LVL467:
1898:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
 6727              		.loc 1 1898 0
 6728 0922 FF22     		movs	r2, #255
 6729 0924 464B     		ldr	r3, .L514
 6730 0926 9A75     		strb	r2, [r3, #22]
1899:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 6731              		.loc 1 1899 0
 6732 0928 E3E7     		b	.L406
 6733              	.L461:
1902:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_error(WiFi_HW_FAILURE_ERROR);     //call with error number      
 6734              		.loc 1 1902 0
 6735 092a FF22     		movs	r2, #255
 6736 092c 444B     		ldr	r3, .L514
 6737 092e 9A75     		strb	r2, [r3, #22]
1903:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
 6738              		.loc 1 1903 0
 6739 0930 1120     		movs	r0, #17
 6740 0932 FFF7FEFF 		bl	ind_wifi_error
 6741              	.LVL468:
1904:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 6742              		.loc 1 1904 0
 6743 0936 DCE7     		b	.L406
 6744              	.L463:
1907:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_error(WiFi_HARD_FAULT_ERROR);     //call with error number      
 6745              		.loc 1 1907 0
 6746 0938 FF22     		movs	r2, #255
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 198


 6747 093a 414B     		ldr	r3, .L514
 6748 093c 9A75     		strb	r2, [r3, #22]
1908:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
 6749              		.loc 1 1908 0
 6750 093e 1420     		movs	r0, #20
 6751 0940 FFF7FEFF 		bl	ind_wifi_error
 6752              	.LVL469:
1909:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 6753              		.loc 1 1909 0
 6754 0944 D5E7     		b	.L406
 6755              	.L464:
1912:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_error(WiFi_STACK_OVERFLOW_ERROR); //call with error number      
 6756              		.loc 1 1912 0
 6757 0946 FF22     		movs	r2, #255
 6758 0948 3D4B     		ldr	r3, .L514
 6759 094a 9A75     		strb	r2, [r3, #22]
1913:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
 6760              		.loc 1 1913 0
 6761 094c 1320     		movs	r0, #19
 6762 094e FFF7FEFF 		bl	ind_wifi_error
 6763              	.LVL470:
1914:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 6764              		.loc 1 1914 0
 6765 0952 CEE7     		b	.L406
 6766              	.L465:
1917:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_error(WiFi_MALLOC_FAILED_ERROR);  //call with error number      
 6767              		.loc 1 1917 0
 6768 0954 FF22     		movs	r2, #255
 6769 0956 3A4B     		ldr	r3, .L514
 6770 0958 9A75     		strb	r2, [r3, #22]
1918:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
 6771              		.loc 1 1918 0
 6772 095a 1520     		movs	r0, #21
 6773 095c FFF7FEFF 		bl	ind_wifi_error
 6774              	.LVL471:
1919:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 6775              		.loc 1 1919 0
 6776 0960 C7E7     		b	.L406
 6777              	.L466:
1922:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_error(WiFi_INIT_ERROR);   //call with error number      
 6778              		.loc 1 1922 0
 6779 0962 FF22     		movs	r2, #255
 6780 0964 364B     		ldr	r3, .L514
 6781 0966 9A75     		strb	r2, [r3, #22]
1923:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
 6782              		.loc 1 1923 0
 6783 0968 1620     		movs	r0, #22
 6784 096a FFF7FEFF 		bl	ind_wifi_error
 6785              	.LVL472:
1924:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 6786              		.loc 1 1924 0
 6787 096e C0E7     		b	.L406
 6788              	.L467:
1927:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_error(WiFi_START_FAILED_ERROR);   //call with error number      
 6789              		.loc 1 1927 0
 6790 0970 FF22     		movs	r2, #255
 6791 0972 334B     		ldr	r3, .L514
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 199


 6792 0974 9A75     		strb	r2, [r3, #22]
1928:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
 6793              		.loc 1 1928 0
 6794 0976 1B20     		movs	r0, #27
 6795 0978 FFF7FEFF 		bl	ind_wifi_error
 6796              	.LVL473:
1929:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       
 6797              		.loc 1 1929 0
 6798 097c B9E7     		b	.L406
 6799              	.L475:
1932:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_error(WiFi_EXCEPTION_ERROR);      //call with error number      
 6800              		.loc 1 1932 0
 6801 097e FF22     		movs	r2, #255
 6802 0980 2F4B     		ldr	r3, .L514
 6803 0982 9A75     		strb	r2, [r3, #22]
1933:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
 6804              		.loc 1 1933 0
 6805 0984 1C20     		movs	r0, #28
 6806 0986 FFF7FEFF 		bl	ind_wifi_error
 6807              	.LVL474:
1934:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 6808              		.loc 1 1934 0
 6809 098a B2E7     		b	.L406
 6810              	.L468:
1937:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_warning(WiFi_POWER_SAVE_WARNING); //call with error number      
 6811              		.loc 1 1937 0
 6812 098c FF22     		movs	r2, #255
 6813 098e 2C4B     		ldr	r3, .L514
 6814 0990 9A75     		strb	r2, [r3, #22]
1938:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
 6815              		.loc 1 1938 0
 6816 0992 1720     		movs	r0, #23
 6817 0994 FFF7FEFF 		bl	ind_wifi_warning
 6818              	.LVL475:
1939:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 6819              		.loc 1 1939 0
 6820 0998 ABE7     		b	.L406
 6821              	.L469:
1942:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_warning(WiFi_HEAP_TOO_SMALL_WARNING);     //call with error number      
 6822              		.loc 1 1942 0
 6823 099a FF22     		movs	r2, #255
 6824 099c 284B     		ldr	r3, .L514
 6825 099e 9A75     		strb	r2, [r3, #22]
1943:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
 6826              		.loc 1 1943 0
 6827 09a0 1220     		movs	r0, #18
 6828 09a2 FFF7FEFF 		bl	ind_wifi_warning
 6829              	.LVL476:
1944:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       
 6830              		.loc 1 1944 0
 6831 09a6 A4E7     		b	.L406
 6832              	.L470:
1947:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_warning(WiFi_SIGNAL_LOW_WARNING); //call with error number      
 6833              		.loc 1 1947 0
 6834 09a8 FF22     		movs	r2, #255
 6835 09aa 254B     		ldr	r3, .L514
 6836 09ac 9A75     		strb	r2, [r3, #22]
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 200


1948:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;  
 6837              		.loc 1 1948 0
 6838 09ae 1820     		movs	r0, #24
 6839 09b0 FFF7FEFF 		bl	ind_wifi_warning
 6840              	.LVL477:
1949:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 6841              		.loc 1 1949 0
 6842 09b4 9DE7     		b	.L406
 6843              	.L477:
1952:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_connection_error(WiFi_DE_AUTH);
 6844              		.loc 1 1952 0
 6845 09b6 FF22     		movs	r2, #255
 6846 09b8 214B     		ldr	r3, .L514
 6847 09ba 9A75     		strb	r2, [r3, #22]
1953:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
 6848              		.loc 1 1953 0
 6849 09bc 1D20     		movs	r0, #29
 6850 09be FFF7FEFF 		bl	ind_wifi_connection_error
 6851              	.LVL478:
1954:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 6852              		.loc 1 1954 0
 6853 09c2 96E7     		b	.L406
 6854              	.L481:
1957:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_connection_error(WiFi_DISASSOCIATION);
 6855              		.loc 1 1957 0
 6856 09c4 FF22     		movs	r2, #255
 6857 09c6 1E4B     		ldr	r3, .L514
 6858 09c8 9A75     		strb	r2, [r3, #22]
1958:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
 6859              		.loc 1 1958 0
 6860 09ca 1E20     		movs	r0, #30
 6861 09cc FFF7FEFF 		bl	ind_wifi_connection_error
 6862              	.LVL479:
1959:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 6863              		.loc 1 1959 0
 6864 09d0 8FE7     		b	.L406
 6865              	.L478:
1962:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_connection_error(WiFi_JOIN_FAILED);
 6866              		.loc 1 1962 0
 6867 09d2 FF22     		movs	r2, #255
 6868 09d4 1A4B     		ldr	r3, .L514
 6869 09d6 9A75     		strb	r2, [r3, #22]
1963:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
 6870              		.loc 1 1963 0
 6871 09d8 1920     		movs	r0, #25
 6872 09da FFF7FEFF 		bl	ind_wifi_connection_error
 6873              	.LVL480:
1964:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       
 6874              		.loc 1 1964 0
 6875 09de 88E7     		b	.L406
 6876              	.L479:
1967:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_connection_error(WiFi_SCAN_BLEWUP);    //@TBD to check if user made call, so not 
 6877              		.loc 1 1967 0
 6878 09e0 FF22     		movs	r2, #255
 6879 09e2 174B     		ldr	r3, .L514
 6880 09e4 9A75     		strb	r2, [r3, #22]
1968:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 201


 6881              		.loc 1 1968 0
 6882 09e6 1A20     		movs	r0, #26
 6883 09e8 FFF7FEFF 		bl	ind_wifi_connection_error
 6884              	.LVL481:
1969:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       
 6885              		.loc 1 1969 0
 6886 09ec 81E7     		b	.L406
 6887              	.L480:
1972:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_connection_error(WiFi_SCAN_FAILED);    //@TBD to check if user made call, so not 
 6888              		.loc 1 1972 0
 6889 09ee FF22     		movs	r2, #255
 6890 09f0 134B     		ldr	r3, .L514
 6891 09f2 9A75     		strb	r2, [r3, #22]
1973:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
 6892              		.loc 1 1973 0
 6893 09f4 0620     		movs	r0, #6
 6894 09f6 FFF7FEFF 		bl	ind_wifi_connection_error
 6895              	.LVL482:
1974:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       
 6896              		.loc 1 1974 0
 6897 09fa 7AE7     		b	.L406
 6898              	.L482:
1977:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_packet_lost(WiFi_UNHANDLED_IND_ERROR); //@TBD to check if user made call, so not 
 6899              		.loc 1 1977 0
 6900 09fc FF22     		movs	r2, #255
 6901 09fe 104B     		ldr	r3, .L514
 6902 0a00 9A75     		strb	r2, [r3, #22]
1978:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
 6903              		.loc 1 1978 0
 6904 0a02 1F20     		movs	r0, #31
 6905 0a04 FFF7FEFF 		bl	ind_wifi_packet_lost
 6906              	.LVL483:
1979:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****     
 6907              		.loc 1 1979 0
 6908 0a08 73E7     		b	.L406
 6909              	.L483:
1982:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_packet_lost(WiFi_RX_MGMT);  //@TBD to check if user made call, so not call callba
 6910              		.loc 1 1982 0
 6911 0a0a FF22     		movs	r2, #255
 6912 0a0c 0C4B     		ldr	r3, .L514
 6913 0a0e 9A75     		strb	r2, [r3, #22]
1983:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
 6914              		.loc 1 1983 0
 6915 0a10 2020     		movs	r0, #32
 6916 0a12 FFF7FEFF 		bl	ind_wifi_packet_lost
 6917              	.LVL484:
1984:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       
 6918              		.loc 1 1984 0
 6919 0a16 6CE7     		b	.L406
 6920              	.L484:
1987:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_packet_lost(WiFi_RX_DATA);  //@TBD to check if user made call, so not call callba
 6921              		.loc 1 1987 0
 6922 0a18 FF22     		movs	r2, #255
 6923 0a1a 094B     		ldr	r3, .L514
 6924 0a1c 9A75     		strb	r2, [r3, #22]
1988:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;  
 6925              		.loc 1 1988 0
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 202


 6926 0a1e 2120     		movs	r0, #33
 6927 0a20 FFF7FEFF 		bl	ind_wifi_packet_lost
 6928              	.LVL485:
1989:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       
 6929              		.loc 1 1989 0
 6930 0a24 65E7     		b	.L406
 6931              	.L485:
1992:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_packet_lost(WiFi_RX_UNK);  //@TBD to check if user made call, so not call callbac
 6932              		.loc 1 1992 0
 6933 0a26 FF22     		movs	r2, #255
 6934 0a28 054B     		ldr	r3, .L514
 6935 0a2a 9A75     		strb	r2, [r3, #22]
1993:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;  
 6936              		.loc 1 1993 0
 6937 0a2c 2220     		movs	r0, #34
 6938 0a2e FFF7FEFF 		bl	ind_wifi_packet_lost
 6939              	.LVL486:
1994:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****       
 6940              		.loc 1 1994 0
 6941 0a32 5EE7     		b	.L406
 6942              	.L486:
1997:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          ind_wifi_socket_server_data_lost();  //@TBD to check if user made call, so not call callba
 6943              		.loc 1 1997 0
 6944 0a34 FF22     		movs	r2, #255
 6945 0a36 024B     		ldr	r3, .L514
 6946 0a38 9A75     		strb	r2, [r3, #22]
1998:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c ****          break;
 6947              		.loc 1 1998 0
 6948 0a3a FFF7FEFF 		bl	ind_wifi_socket_server_data_lost
 6949              	.LVL487:
2006:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
 6950              		.loc 1 2006 0
 6951 0a3e 58E7     		b	.L406
 6952              	.L515:
 6953              		.align	2
 6954              	.L514:
 6955 0a40 00000000 		.word	IO_status_flag
 6956 0a44 4F000000 		.word	WiFi_Counter_Variables+79
 6957              		.cfi_endproc
 6958              	.LFE283:
 6960              		.section	.text.ind_wifi_inputssi_callback,"ax",%progbits
 6961              		.align	1
 6962              		.weak	ind_wifi_inputssi_callback
 6963              		.syntax unified
 6964              		.thumb
 6965              		.thumb_func
 6966              		.fpu fpv4-sp-d16
 6968              	ind_wifi_inputssi_callback:
 6969              	.LFB363:
3879:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3880:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3881:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** __weak void ind_wifi_inputssi_callback(void)
3882:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 6970              		.loc 1 3882 0
 6971              		.cfi_startproc
 6972              		@ args = 0, pretend = 0, frame = 0
 6973              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 203


 6974              		@ link register save eliminated.
 6975 0000 7047     		bx	lr
 6976              		.cfi_endproc
 6977              	.LFE363:
 6979              		.section	.text.ind_wifi_output_from_remote_callback,"ax",%progbits
 6980              		.align	1
 6981              		.weak	ind_wifi_output_from_remote_callback
 6982              		.syntax unified
 6983              		.thumb
 6984              		.thumb_func
 6985              		.fpu fpv4-sp-d16
 6987              	ind_wifi_output_from_remote_callback:
 6988              	.LFB364:
3883:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** }
3884:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** 
3885:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** __weak void ind_wifi_output_from_remote_callback(uint8_t *data_ptr)
3886:Middlewares/ST/STM32_SPWF0xSy/wifi_module.c **** {
 6989              		.loc 1 3886 0
 6990              		.cfi_startproc
 6991              		@ args = 0, pretend = 0, frame = 0
 6992              		@ frame_needed = 0, uses_anonymous_args = 0
 6993              		@ link register save eliminated.
 6994              	.LVL488:
 6995 0000 7047     		bx	lr
 6996              		.cfi_endproc
 6997              	.LFE364:
 6999              		.comm	wifi_instances,68,4
 7000              		.section	.rodata.Attention_Cmd.str1.4,"aMS",%progbits,1
 7001              		.align	2
 7002              	.LC13:
 7003 0000 41540D00 		.ascii	"AT\015\000"
 7004              		.section	.rodata.Attention_Cmd_Check.str1.4,"aMS",%progbits,1
 7005              		.align	2
 7006              	.LC21:
 7007 0000 4F4B00   		.ascii	"OK\000"
 7008              		.section	.rodata.Display_Help_Text.str1.4,"aMS",%progbits,1
 7009              		.align	2
 7010              	.LC14:
 7011 0000 41542B53 		.ascii	"AT+S.HELP\015\000"
 7011      2E48454C 
 7011      500D00
 7012              		.section	.rodata.Read_WiFi_Mode.str1.4,"aMS",%progbits,1
 7013              		.align	2
 7014              	.LC8:
 7015 0000 77696669 		.ascii	"wifi_mode\000"
 7015      5F6D6F64 
 7015      6500
 7016 000a 0000     		.space	2
 7017              	.LC9:
 7018 000c 41542B53 		.ascii	"AT+S.GCFG=%s\015\000"
 7018      2E474346 
 7018      473D2573 
 7018      0D00
 7019 001a 0000     		.space	2
 7020              	.LC10:
 7021 001c 77696669 		.ascii	"wifi_mode = \000"
 7021      5F6D6F64 
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 204


 7021      65203D20 
 7021      00
 7022              		.section	.rodata.Restore_Default_Setting.str1.4,"aMS",%progbits,1
 7023              		.align	2
 7024              	.LC19:
 7025 0000 41542646 		.ascii	"AT&F\015\000"
 7025      0D00
 7026              		.section	.rodata.SET_Configuration_Addr.str1.4,"aMS",%progbits,1
 7027              		.align	2
 7028              	.LC15:
 7029 0000 41542B53 		.ascii	"AT+S.SCFG=%s,%s\015\000"
 7029      2E534346 
 7029      473D2573 
 7029      2C25730D 
 7029      00
 7030              		.section	.rodata.SET_Configuration_Value.str1.4,"aMS",%progbits,1
 7031              		.align	2
 7032              	.LC16:
 7033 0000 41542B53 		.ascii	"AT+S.SCFG=%s,%d\015\000"
 7033      2E534346 
 7033      473D2573 
 7033      2C25640D 
 7033      00
 7034              		.section	.rodata.SET_SSID.str1.4,"aMS",%progbits,1
 7035              		.align	2
 7036              	.LC17:
 7037 0000 41542B53 		.ascii	"AT+S.SSIDTXT=%s\015\000"
 7037      2E535349 
 7037      44545854 
 7037      3D25730D 
 7037      00
 7038              		.section	.rodata.SET_WiFi_SecKey.str1.4,"aMS",%progbits,1
 7039              		.align	2
 7040              	.LC18:
 7041 0000 41542B53 		.ascii	"AT+S.SCFG=wifi_wpa_psk_text,%s\015\000"
 7041      2E534346 
 7041      473D7769 
 7041      66695F77 
 7041      70615F70 
 7042              		.section	.rodata.Save_Current_Setting.str1.4,"aMS",%progbits,1
 7043              		.align	2
 7044              	.LC20:
 7045 0000 41542657 		.ascii	"AT&W\015\000"
 7045      0D00
 7046              		.section	.rodata.USART_Transmit_AT_Cmd.str1.4,"aMS",%progbits,1
 7047              		.align	2
 7048              	.LC4:
 7049 0000 4552524F 		.ascii	"ERROR in USART_Transmit_AT_Cmd!\000"
 7049      5220696E 
 7049      20555341 
 7049      52545F54 
 7049      72616E73 
 7050              		.section	.rodata.WiFi_Configuration.str1.4,"aMS",%progbits,1
 7051              		.align	2
 7052              	.LC0:
 7053 0000 53505746 		.ascii	"SPWF0x\000"
 7053      307800
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 205


 7054 0007 00       		.space	1
 7055              	.LC1:
 7056 0008 31323334 		.ascii	"12341234\000"
 7056      31323334 
 7056      00
 7057              		.section	.rodata.WiFi_switch_to_command_mode.str1.4,"aMS",%progbits,1
 7058              		.align	2
 7059              	.LC11:
 7060 0000 61742B73 		.ascii	"at+s.\000"
 7060      2E00
 7061              		.section	.rodata.WiFi_switch_to_data_mode.str1.4,"aMS",%progbits,1
 7062              		.align	2
 7063              	.LC12:
 7064 0000 41542B53 		.ascii	"AT+S.\015\000"
 7064      2E0D00
 7065              		.section	.rodata.Wifi_TIM_Handler.str1.4,"aMS",%progbits,1
 7066              		.align	2
 7067              	.LC22:
 7068 0000 41542B53 		.ascii	"AT+S.HTTPPOST=%s,%s,%d\015\000"
 7068      2E485454 
 7068      50504F53 
 7068      543D2573 
 7068      2C25732C 
 7069              	.LC23:
 7070 0018 41542B53 		.ascii	"AT+S.HTTPGET=%s,%s,%d\015\000"
 7070      2E485454 
 7070      50474554 
 7070      3D25732C 
 7070      25732C25 
 7071 002f 00       		.space	1
 7072              	.LC24:
 7073 0030 41542B53 		.ascii	"AT+S.SOCKW=%d,%d\015\000"
 7073      2E534F43 
 7073      4B573D25 
 7073      642C2564 
 7073      0D00
 7074 0042 0000     		.space	2
 7075              	.LC25:
 7076 0044 41542B53 		.ascii	"AT+S.SOCKON=%s,%d,%s,ind\015\000"
 7076      2E534F43 
 7076      4B4F4E3D 
 7076      25732C25 
 7076      642C2573 
 7077 005e 0000     		.space	2
 7078              	.LC26:
 7079 0060 41542B53 		.ascii	"AT+S.SOCKD=%d,%s,ind\015\000"
 7079      2E534F43 
 7079      4B443D25 
 7079      642C2573 
 7079      2C696E64 
 7080 0076 0000     		.space	2
 7081              	.LC27:
 7082 0078 41542B53 		.ascii	"AT+S.SOCKC=%d\015\000"
 7082      2E534F43 
 7082      4B433D25 
 7082      640D00
 7083 0087 00       		.space	1
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 206


 7084              	.LC28:
 7085 0088 0D0A2053 		.ascii	"\015\012 Socket already close\000"
 7085      6F636B65 
 7085      7420616C 
 7085      72656164 
 7085      7920636C 
 7086              	.LC29:
 7087 00a0 41542B53 		.ascii	"AT+S.SOCKD=0\015\000"
 7087      2E534F43 
 7087      4B443D30 
 7087      0D00
 7088 00ae 0000     		.space	2
 7089              	.LC30:
 7090 00b0 41542B53 		.ascii	"AT+S.FSC=/%s,%d\015\000"
 7090      2E465343 
 7090      3D2F2573 
 7090      2C25640D 
 7090      00
 7091 00c1 000000   		.space	3
 7092              	.LC31:
 7093 00c4 41542B53 		.ascii	"AT+S.FSA=/%s,%d\015\000"
 7093      2E465341 
 7093      3D2F2573 
 7093      2C25640D 
 7093      00
 7094 00d5 000000   		.space	3
 7095              	.LC32:
 7096 00d8 41542B53 		.ascii	"AT+S.FSL\015\000"
 7096      2E46534C 
 7096      0D00
 7097 00e2 0000     		.space	2
 7098              	.LC33:
 7099 00e4 41542B53 		.ascii	"AT+S.FSP=/%s\015\000"
 7099      2E465350 
 7099      3D2F2573 
 7099      0D00
 7100 00f2 0000     		.space	2
 7101              	.LC34:
 7102 00f4 41542B53 		.ascii	"AT+S.HTTPDFSUPDATE=%s,/%s,%d\015\000"
 7102      2E485454 
 7102      50444653 
 7102      55504441 
 7102      54453D25 
 7103 0112 0000     		.space	2
 7104              	.LC35:
 7105 0114 41542B53 		.ascii	"AT+S.FSD=/%s\015\000"
 7105      2E465344 
 7105      3D2F2573 
 7105      0D00
 7106 0122 0000     		.space	2
 7107              	.LC36:
 7108 0124 41542B53 		.ascii	"AT+S.FWUPDATE=%s,/%s,%d\015\000"
 7108      2E465755 
 7108      50444154 
 7108      453D2573 
 7108      2C2F2573 
 7109              		.section	.rodata.wifi_firmware_middleware_version_compatibility.str1.4,"aMS",%progbits,1
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 207


 7110              		.align	2
 7111              	.LC5:
 7112 0000 66775F76 		.ascii	"fw_version\000"
 7112      65727369 
 7112      6F6E00
 7113 000b 00       		.space	1
 7114              	.LC6:
 7115 000c 41542B53 		.ascii	"AT+S.STS=%s\015\000"
 7115      2E535453 
 7115      3D25730D 
 7115      00
 7116 0019 000000   		.space	3
 7117              	.LC7:
 7118 001c 332E312E 		.ascii	"3.1.1\000"
 7118      3100
 7119              		.section	.rodata.wifi_reset.str1.4,"aMS",%progbits,1
 7120              		.align	2
 7121              	.LC2:
 7122 0000 57414954 		.ascii	"WAITING FOR HARDWARE...\015\000"
 7122      494E4720 
 7122      464F5220 
 7122      48415244 
 7122      57415245 
 7123 0019 000000   		.space	3
 7124              	.LC3:
 7125 001c 59415921 		.ascii	"YAY!\015\000"
 7125      0D00
 7126              		.text
 7127              	.Letext0:
 7128              		.file 3 "c:\\program files (x86)\\gnu tools arm embedded\\6 2017-q2-update\\arm-none-eabi\\include
 7129              		.file 4 "c:\\program files (x86)\\gnu tools arm embedded\\6 2017-q2-update\\arm-none-eabi\\include
 7130              		.file 5 "Drivers/CMSIS/Include/core_cm4.h"
 7131              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 7132              		.file 7 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f401xe.h"
 7133              		.file 8 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 7134              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 7135              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 7136              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 7137              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 7138              		.file 13 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 7139              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 7140              		.file 15 "Drivers/BSP/STM32F4xx-Nucleo/stm32f4xx_nucleo.h"
 7141              		.file 16 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 7142              		.file 17 "Middlewares/ST/STM32_SPWF0xSy/Inc/wifi_interface.h"
 7143              		.file 18 "c:\\program files (x86)\\gnu tools arm embedded\\6 2017-q2-update\\arm-none-eabi\\includ
 7144              		.file 19 "c:\\program files (x86)\\gnu tools arm embedded\\6 2017-q2-update\\arm-none-eabi\\includ
 7145              		.file 20 "c:\\program files (x86)\\gnu tools arm embedded\\6 2017-q2-update\\lib\\gcc\\arm-none-ea
 7146              		.file 21 "c:\\program files (x86)\\gnu tools arm embedded\\6 2017-q2-update\\arm-none-eabi\\includ
 7147              		.file 22 "c:\\program files (x86)\\gnu tools arm embedded\\6 2017-q2-update\\arm-none-eabi\\includ
 7148              		.file 23 "Middlewares/ST/STM32_SPWF0xSy/Utils/event_buffer.h"
 7149              		.file 24 "Middlewares/ST/STM32_SPWF0xSy/Utils/ring_buffer.h"
 7150              		.file 25 "c:\\program files (x86)\\gnu tools arm embedded\\6 2017-q2-update\\arm-none-eabi\\includ
 7151              		.file 26 "Middlewares/ST/STM32_SPWF0xSy/Inc/wifi_module.h"
 7152              		.file 27 "Middlewares/ST/STM32_SPWF0xSy/Utils/wifi_globals.h"
 7153              		.file 28 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_ll_dma.h"
 7154              		.file 29 "c:\\program files (x86)\\gnu tools arm embedded\\6 2017-q2-update\\arm-none-eabi\\includ
 7155              		.file 30 "c:\\program files (x86)\\gnu tools arm embedded\\6 2017-q2-update\\arm-none-eabi\\includ
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 208


 7156              		.file 31 "<built-in>"
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 209


DEFINED SYMBOLS
                            *ABS*:00000000 wifi_module.c
D:\cygwin64\tmp\ccmGw4Pr.s:18     .text.Set_WiFi_Control_Variables:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:25     .text.Set_WiFi_Control_Variables:00000000 Set_WiFi_Control_Variables
D:\cygwin64\tmp\ccmGw4Pr.s:101    .text.Set_WiFi_Control_Variables:00000070 $d
D:\cygwin64\tmp\ccmGw4Pr.s:107    .text.Set_WiFi_Counter_Variables:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:114    .text.Set_WiFi_Counter_Variables:00000000 Set_WiFi_Counter_Variables
D:\cygwin64\tmp\ccmGw4Pr.s:175    .text.Set_WiFi_Counter_Variables:00000060 $d
D:\cygwin64\tmp\ccmGw4Pr.s:182    .text.WiFi_Configuration:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:189    .text.WiFi_Configuration:00000000 WiFi_Configuration
D:\cygwin64\tmp\ccmGw4Pr.s:234    .text.WiFi_Configuration:00000044 $d
D:\cygwin64\tmp\ccmGw4Pr.s:241    .text.wifi_reset:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:248    .text.wifi_reset:00000000 wifi_reset
D:\cygwin64\tmp\ccmGw4Pr.s:373    .text.wifi_reset:0000009c $d
                            *COM*:00000044 wifi_instances
D:\cygwin64\tmp\ccmGw4Pr.s:384    .text.PowerUp_WiFi_Module:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:391    .text.PowerUp_WiFi_Module:00000000 PowerUp_WiFi_Module
D:\cygwin64\tmp\ccmGw4Pr.s:412    .text.PowerUp_WiFi_Module:00000010 $d
D:\cygwin64\tmp\ccmGw4Pr.s:417    .text.Receive_Data:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:424    .text.Receive_Data:00000000 Receive_Data
D:\cygwin64\tmp\ccmGw4Pr.s:458    .text.Receive_Data:00000028 $d
D:\cygwin64\tmp\ccmGw4Pr.s:466    .text.Receive_DMA_Uart_Data:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:473    .text.Receive_DMA_Uart_Data:00000000 Receive_DMA_Uart_Data
D:\cygwin64\tmp\ccmGw4Pr.s:501    .text.Receive_DMA_Uart_Data:0000001c $d
D:\cygwin64\tmp\ccmGw4Pr.s:508    .text.Start_Timer:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:515    .text.Start_Timer:00000000 Start_Timer
D:\cygwin64\tmp\ccmGw4Pr.s:534    .text.Start_Timer:00000010 $d
D:\cygwin64\tmp\ccmGw4Pr.s:539    .text.Stop_Timer:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:546    .text.Stop_Timer:00000000 Stop_Timer
D:\cygwin64\tmp\ccmGw4Pr.s:568    .text.Stop_Timer:00000014 $d
D:\cygwin64\tmp\ccmGw4Pr.s:573    .text.Stop_Dequeue:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:580    .text.Stop_Dequeue:00000000 Stop_Dequeue
D:\cygwin64\tmp\ccmGw4Pr.s:596    .text.Stop_Dequeue:0000000c $d
D:\cygwin64\tmp\ccmGw4Pr.s:601    .text.Resume_Dequeue:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:608    .text.Resume_Dequeue:00000000 Resume_Dequeue
D:\cygwin64\tmp\ccmGw4Pr.s:624    .text.Resume_Dequeue:0000000c $d
D:\cygwin64\tmp\ccmGw4Pr.s:629    .text.WiFi_HAL_UART_TxCpltCallback:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:636    .text.WiFi_HAL_UART_TxCpltCallback:00000000 WiFi_HAL_UART_TxCpltCallback
D:\cygwin64\tmp\ccmGw4Pr.s:653    .text.WiFi_HAL_UART_TxCpltCallback:0000000c $d
D:\cygwin64\tmp\ccmGw4Pr.s:658    .text.WiFi_HAL_UART_RxCpltCallback:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:665    .text.WiFi_HAL_UART_RxCpltCallback:00000000 WiFi_HAL_UART_RxCpltCallback
D:\cygwin64\tmp\ccmGw4Pr.s:761    .text.WiFi_HAL_UART_RxCpltCallback:00000068 $d
D:\cygwin64\tmp\ccmGw4Pr.s:770    .text.USART_Receive_AT_Resp:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:777    .text.USART_Receive_AT_Resp:00000000 USART_Receive_AT_Resp
D:\cygwin64\tmp\ccmGw4Pr.s:812    .text.USART_Receive_AT_Resp:00000020 $d
D:\cygwin64\tmp\ccmGw4Pr.s:818    .text.WiFi_HAL_UART_IdleCallback:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:825    .text.WiFi_HAL_UART_IdleCallback:00000000 WiFi_HAL_UART_IdleCallback
D:\cygwin64\tmp\ccmGw4Pr.s:838    .text.Process_WiFi:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:845    .text.Process_WiFi:00000000 Process_WiFi
D:\cygwin64\tmp\ccmGw4Pr.s:923    .text.Process_WiFi:00000054 $d
D:\cygwin64\tmp\ccmGw4Pr.s:930    .text.Wait_For_Sock_Read_To_Complete:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:937    .text.Wait_For_Sock_Read_To_Complete:00000000 Wait_For_Sock_Read_To_Complete
D:\cygwin64\tmp\ccmGw4Pr.s:976    .text.Wait_For_Sock_Read_To_Complete:00000024 $d
D:\cygwin64\tmp\ccmGw4Pr.s:981    .text.Queue_Tftp_Event:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:988    .text.Queue_Tftp_Event:00000000 Queue_Tftp_Event
D:\cygwin64\tmp\ccmGw4Pr.s:1061   .text.Queue_Tftp_Event:0000003c $d
D:\cygwin64\tmp\ccmGw4Pr.s:1067   .text.Queue_Mqtt_Connect_Event:00000000 $t
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 210


D:\cygwin64\tmp\ccmGw4Pr.s:1074   .text.Queue_Mqtt_Connect_Event:00000000 Queue_Mqtt_Connect_Event
D:\cygwin64\tmp\ccmGw4Pr.s:1140   .text.Queue_Mqtt_Connect_Event:00000034 $d
D:\cygwin64\tmp\ccmGw4Pr.s:1146   .text.Queue_Mqtt_Event:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:1153   .text.Queue_Mqtt_Event:00000000 Queue_Mqtt_Event
D:\cygwin64\tmp\ccmGw4Pr.s:1213   .text.Queue_Mqtt_Event:00000030 $d
D:\cygwin64\tmp\ccmGw4Pr.s:1219   .text.Queue_Mqtt_Publish_Event:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:1226   .text.Queue_Mqtt_Publish_Event:00000000 Queue_Mqtt_Publish_Event
D:\cygwin64\tmp\ccmGw4Pr.s:1295   .text.Queue_Mqtt_Publish_Event:0000003c $d
D:\cygwin64\tmp\ccmGw4Pr.s:1301   .text.Queue_Wifi_Send_Mail_Event:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:1308   .text.Queue_Wifi_Send_Mail_Event:00000000 Queue_Wifi_Send_Mail_Event
D:\cygwin64\tmp\ccmGw4Pr.s:1391   .text.Queue_Wifi_Send_Mail_Event:00000050 $d
D:\cygwin64\tmp\ccmGw4Pr.s:1397   .text.Queue_Http_Event:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:1404   .text.Queue_Http_Event:00000000 Queue_Http_Event
D:\cygwin64\tmp\ccmGw4Pr.s:1477   .text.Queue_Http_Event:0000003c $d
D:\cygwin64\tmp\ccmGw4Pr.s:1483   .text.Queue_Client_Write_Event:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:1490   .text.Queue_Client_Write_Event:00000000 Queue_Client_Write_Event
D:\cygwin64\tmp\ccmGw4Pr.s:1579   .text.Queue_Client_Write_Event:00000058 $d
D:\cygwin64\tmp\ccmGw4Pr.s:1585   .text.Queue_Wifi_File_Create_Event:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:1592   .text.Queue_Wifi_File_Create_Event:00000000 Queue_Wifi_File_Create_Event
D:\cygwin64\tmp\ccmGw4Pr.s:1661   .text.Queue_Wifi_File_Create_Event:0000003c $d
D:\cygwin64\tmp\ccmGw4Pr.s:1667   .text.Queue_Wifi_File_Event:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:1674   .text.Queue_Wifi_File_Event:00000000 Queue_Wifi_File_Event
D:\cygwin64\tmp\ccmGw4Pr.s:1750   .text.Queue_Wifi_File_Event:00000048 $d
D:\cygwin64\tmp\ccmGw4Pr.s:1756   .text.Queue_File_Event:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:1763   .text.Queue_File_Event:00000000 Queue_File_Event
D:\cygwin64\tmp\ccmGw4Pr.s:1836   .text.Queue_File_Event:00000040 $d
D:\cygwin64\tmp\ccmGw4Pr.s:1842   .text.Queue_Wifi_FW_Update_Event:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:1849   .text.Queue_Wifi_FW_Update_Event:00000000 Queue_Wifi_FW_Update_Event
D:\cygwin64\tmp\ccmGw4Pr.s:1918   .text.Queue_Wifi_FW_Update_Event:00000038 $d
D:\cygwin64\tmp\ccmGw4Pr.s:1924   .text.Queue_Client_Open_Event:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:1931   .text.Queue_Client_Open_Event:00000000 Queue_Client_Open_Event
D:\cygwin64\tmp\ccmGw4Pr.s:2018   .text.Queue_Client_Open_Event:00000050 $d
D:\cygwin64\tmp\ccmGw4Pr.s:2024   .text.Queue_Server_Open_Event:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:2031   .text.Queue_Server_Open_Event:00000000 Queue_Server_Open_Event
D:\cygwin64\tmp\ccmGw4Pr.s:2097   .text.Queue_Server_Open_Event:00000034 $d
D:\cygwin64\tmp\ccmGw4Pr.s:2103   .text.Queue_Client_Close_Event:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:2110   .text.Queue_Client_Close_Event:00000000 Queue_Client_Close_Event
D:\cygwin64\tmp\ccmGw4Pr.s:2189   .text.Queue_Client_Close_Event:00000050 $d
D:\cygwin64\tmp\ccmGw4Pr.s:2194   .text.Queue_Server_Close_Event:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:2201   .text.Queue_Server_Close_Event:00000000 Queue_Server_Close_Event
D:\cygwin64\tmp\ccmGw4Pr.s:2266   .text.Queue_Server_Close_Event:0000003c $d
D:\cygwin64\tmp\ccmGw4Pr.s:2271   .text.Queue_Client_List_Event:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:2278   .text.Queue_Client_List_Event:00000000 Queue_Client_List_Event
D:\cygwin64\tmp\ccmGw4Pr.s:2350   .text.Queue_Client_List_Event:00000040 $d
D:\cygwin64\tmp\ccmGw4Pr.s:2355   .text.Queue_Server_List_Event:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:2362   .text.Queue_Server_List_Event:00000000 Queue_Server_List_Event
D:\cygwin64\tmp\ccmGw4Pr.s:2416   .text.Queue_Server_List_Event:00000028 $d
D:\cygwin64\tmp\ccmGw4Pr.s:2421   .text.Reset_AT_CMD_Buffer:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:2428   .text.Reset_AT_CMD_Buffer:00000000 Reset_AT_CMD_Buffer
D:\cygwin64\tmp\ccmGw4Pr.s:2449   .text.Reset_AT_CMD_Buffer:00000010 $d
D:\cygwin64\tmp\ccmGw4Pr.s:2454   .text.PrintErrorMsg:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:2461   .text.PrintErrorMsg:00000000 PrintErrorMsg
D:\cygwin64\tmp\ccmGw4Pr.s:2473   .text.Print_Msg:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:2480   .text.Print_Msg:00000000 Print_Msg
D:\cygwin64\tmp\ccmGw4Pr.s:2493   .text.Error_Handler:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:2500   .text.Error_Handler:00000000 Error_Handler
D:\cygwin64\tmp\ccmGw4Pr.s:2521   .text.WiFi_UART_Error_Handler:00000000 $t
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 211


D:\cygwin64\tmp\ccmGw4Pr.s:2528   .text.WiFi_UART_Error_Handler:00000000 WiFi_UART_Error_Handler
D:\cygwin64\tmp\ccmGw4Pr.s:2551   .text.WiFi_Module_Init:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:2558   .text.WiFi_Module_Init:00000000 WiFi_Module_Init
D:\cygwin64\tmp\ccmGw4Pr.s:2623   .text.WiFi_Module_Init:00000050 $d
D:\cygwin64\tmp\ccmGw4Pr.s:2632   .text.WiFi_HAL_UART_ErrorCallback:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:2639   .text.WiFi_HAL_UART_ErrorCallback:00000000 WiFi_HAL_UART_ErrorCallback
D:\cygwin64\tmp\ccmGw4Pr.s:2659   .text.USART_Transmit_AT_Cmd:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:2666   .text.USART_Transmit_AT_Cmd:00000000 USART_Transmit_AT_Cmd
D:\cygwin64\tmp\ccmGw4Pr.s:2771   .text.USART_Transmit_AT_Cmd:00000080 $d
D:\cygwin64\tmp\ccmGw4Pr.s:2780   .text.wifi_firmware_middleware_version_compatibility:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:2787   .text.wifi_firmware_middleware_version_compatibility:00000000 wifi_firmware_middleware_version_compatibility
D:\cygwin64\tmp\ccmGw4Pr.s:2918   .text.wifi_firmware_middleware_version_compatibility:0000008c $d
D:\cygwin64\tmp\ccmGw4Pr.s:2929   .text.Read_WiFi_Mode:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:2936   .text.Read_WiFi_Mode:00000000 Read_WiFi_Mode
D:\cygwin64\tmp\ccmGw4Pr.s:3000   .text.Read_WiFi_Mode:00000040 $d
D:\cygwin64\tmp\ccmGw4Pr.s:3009   .text.Start_DeepSleep_Timer:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:3016   .text.Start_DeepSleep_Timer:00000000 Start_DeepSleep_Timer
D:\cygwin64\tmp\ccmGw4Pr.s:3036   .text.Start_DeepSleep_Timer:00000014 $d
D:\cygwin64\tmp\ccmGw4Pr.s:3042   .text.Stop_DeepSleep_Timer:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:3049   .text.Stop_DeepSleep_Timer:00000000 Stop_DeepSleep_Timer
D:\cygwin64\tmp\ccmGw4Pr.s:3069   .text.Stop_DeepSleep_Timer:00000014 $d
D:\cygwin64\tmp\ccmGw4Pr.s:3075   .text.Wifi_SysTick_Isr:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:3082   .text.Wifi_SysTick_Isr:00000000 Wifi_SysTick_Isr
D:\cygwin64\tmp\ccmGw4Pr.s:3191   .text.Wifi_SysTick_Isr:000000b0 $d
D:\cygwin64\tmp\ccmGw4Pr.s:3199   .text.WiFi_switch_to_command_mode:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:3206   .text.WiFi_switch_to_command_mode:00000000 WiFi_switch_to_command_mode
D:\cygwin64\tmp\ccmGw4Pr.s:3239   .text.WiFi_switch_to_command_mode:00000020 $d
D:\cygwin64\tmp\ccmGw4Pr.s:3245   .text.WiFi_switch_to_data_mode:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:3252   .text.WiFi_switch_to_data_mode:00000000 WiFi_switch_to_data_mode
D:\cygwin64\tmp\ccmGw4Pr.s:3287   .text.WiFi_switch_to_data_mode:00000024 $d
D:\cygwin64\tmp\ccmGw4Pr.s:3293   .text.Process_DeQed_Wind_Indication:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:3300   .text.Process_DeQed_Wind_Indication:00000000 Process_DeQed_Wind_Indication
D:\cygwin64\tmp\ccmGw4Pr.s:3319   .text.Process_DeQed_Wind_Indication:00000010 $d
D:\cygwin64\tmp\ccmGw4Pr.s:3389   .text.Process_DeQed_Wind_Indication:0000009c $t
D:\cygwin64\tmp\ccmGw4Pr.s:3837   .text.Process_DeQed_Wind_Indication:00000338 $d
D:\cygwin64\tmp\ccmGw4Pr.s:3849   .text.Attention_Cmd:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:3856   .text.Attention_Cmd:00000000 Attention_Cmd
D:\cygwin64\tmp\ccmGw4Pr.s:3902   .text.Attention_Cmd:0000002c $d
D:\cygwin64\tmp\ccmGw4Pr.s:3908   .text.Display_Help_Text:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:3915   .text.Display_Help_Text:00000000 Display_Help_Text
D:\cygwin64\tmp\ccmGw4Pr.s:3966   .text.Display_Help_Text:00000034 $d
D:\cygwin64\tmp\ccmGw4Pr.s:3972   .text.GET_Configuration_Value:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:3979   .text.GET_Configuration_Value:00000000 GET_Configuration_Value
D:\cygwin64\tmp\ccmGw4Pr.s:4055   .text.GET_Configuration_Value:00000050 $d
D:\cygwin64\tmp\ccmGw4Pr.s:4062   .text.SET_Configuration_Addr:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:4069   .text.SET_Configuration_Addr:00000000 SET_Configuration_Addr
D:\cygwin64\tmp\ccmGw4Pr.s:4123   .text.SET_Configuration_Addr:00000034 $d
D:\cygwin64\tmp\ccmGw4Pr.s:4129   .text.SET_Configuration_Value:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:4136   .text.SET_Configuration_Value:00000000 SET_Configuration_Value
D:\cygwin64\tmp\ccmGw4Pr.s:4190   .text.SET_Configuration_Value:00000034 $d
D:\cygwin64\tmp\ccmGw4Pr.s:4196   .text.SET_SSID:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:4203   .text.SET_SSID:00000000 SET_SSID
D:\cygwin64\tmp\ccmGw4Pr.s:4255   .text.SET_SSID:00000030 $d
D:\cygwin64\tmp\ccmGw4Pr.s:4261   .text.SET_WiFi_SecKey:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:4268   .text.SET_WiFi_SecKey:00000000 SET_WiFi_SecKey
D:\cygwin64\tmp\ccmGw4Pr.s:4320   .text.SET_WiFi_SecKey:00000030 $d
D:\cygwin64\tmp\ccmGw4Pr.s:4326   .text.Restore_Default_Setting:00000000 $t
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 212


D:\cygwin64\tmp\ccmGw4Pr.s:4333   .text.Restore_Default_Setting:00000000 Restore_Default_Setting
D:\cygwin64\tmp\ccmGw4Pr.s:4381   .text.Restore_Default_Setting:00000030 $d
D:\cygwin64\tmp\ccmGw4Pr.s:4387   .text.Save_Current_Setting:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:4394   .text.Save_Current_Setting:00000000 Save_Current_Setting
D:\cygwin64\tmp\ccmGw4Pr.s:4442   .text.Save_Current_Setting:00000030 $d
D:\cygwin64\tmp\ccmGw4Pr.s:4448   .text.Write_WiFi_SSID:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:4455   .text.Write_WiFi_SSID:00000000 Write_WiFi_SSID
D:\cygwin64\tmp\ccmGw4Pr.s:4513   .text.Write_WiFi_SSID:00000038 $d
D:\cygwin64\tmp\ccmGw4Pr.s:4519   .text.Write_WiFi_SecKey:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:4526   .text.Write_WiFi_SecKey:00000000 Write_WiFi_SecKey
D:\cygwin64\tmp\ccmGw4Pr.s:4584   .text.Write_WiFi_SecKey:00000038 $d
D:\cygwin64\tmp\ccmGw4Pr.s:4590   .text.ResetBuffer:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:4597   .text.ResetBuffer:00000000 ResetBuffer
D:\cygwin64\tmp\ccmGw4Pr.s:4609   .text.Attention_Cmd_Check:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:4616   .text.Attention_Cmd_Check:00000000 Attention_Cmd_Check
D:\cygwin64\tmp\ccmGw4Pr.s:4745   .text.Attention_Cmd_Check:0000009c $d
D:\cygwin64\tmp\ccmGw4Pr.s:4754   .text.WaitForResponse:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:4761   .text.WaitForResponse:00000000 WaitForResponse
D:\cygwin64\tmp\ccmGw4Pr.s:4831   .text.WaitForResponse:00000044 $d
D:\cygwin64\tmp\ccmGw4Pr.s:4837   .text.config_init_value:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:4844   .text.config_init_value:00000000 config_init_value
D:\cygwin64\tmp\ccmGw4Pr.s:4901   .text.config_init_value:00000040 $d
D:\cygwin64\tmp\ccmGw4Pr.s:4908   .text.config_init_addr:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:4915   .text.config_init_addr:00000000 config_init_addr
D:\cygwin64\tmp\ccmGw4Pr.s:4972   .text.config_init_addr:00000040 $d
D:\cygwin64\tmp\ccmGw4Pr.s:4979   .text.ind_wifi_warning:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:4986   .text.ind_wifi_warning:00000000 ind_wifi_warning
D:\cygwin64\tmp\ccmGw4Pr.s:4999   .text.ind_wifi_error:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:5006   .text.ind_wifi_error:00000000 ind_wifi_error
D:\cygwin64\tmp\ccmGw4Pr.s:5019   .text.ind_wifi_connection_error:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:5026   .text.ind_wifi_connection_error:00000000 ind_wifi_connection_error
D:\cygwin64\tmp\ccmGw4Pr.s:5039   .text.ind_wifi_connected:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:5046   .text.ind_wifi_connected:00000000 ind_wifi_connected
D:\cygwin64\tmp\ccmGw4Pr.s:5058   .text.ind_wifi_ap_ready:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:5065   .text.ind_wifi_ap_ready:00000000 ind_wifi_ap_ready
D:\cygwin64\tmp\ccmGw4Pr.s:5077   .text.ind_wifi_ap_client_joined:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:5084   .text.ind_wifi_ap_client_joined:00000000 ind_wifi_ap_client_joined
D:\cygwin64\tmp\ccmGw4Pr.s:5097   .text.ind_wifi_ap_client_left:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:5104   .text.ind_wifi_ap_client_left:00000000 ind_wifi_ap_client_left
D:\cygwin64\tmp\ccmGw4Pr.s:5117   .text.ind_wifi_on:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:5124   .text.ind_wifi_on:00000000 ind_wifi_on
D:\cygwin64\tmp\ccmGw4Pr.s:5136   .text.ind_wifi_packet_lost:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:5143   .text.ind_wifi_packet_lost:00000000 ind_wifi_packet_lost
D:\cygwin64\tmp\ccmGw4Pr.s:5156   .text.ind_wifi_gpio_changed:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:5163   .text.ind_wifi_gpio_changed:00000000 ind_wifi_gpio_changed
D:\cygwin64\tmp\ccmGw4Pr.s:5175   .text.ind_wifi_socket_data_received:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:5182   .text.ind_wifi_socket_data_received:00000000 ind_wifi_socket_data_received
D:\cygwin64\tmp\ccmGw4Pr.s:5195   .text.ind_wifi_socket_client_remote_server_closed:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:5202   .text.ind_wifi_socket_client_remote_server_closed:00000000 ind_wifi_socket_client_remote_server_closed
D:\cygwin64\tmp\ccmGw4Pr.s:5215   .text.ind_wifi_socket_server_data_lost:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:5222   .text.ind_wifi_socket_server_data_lost:00000000 ind_wifi_socket_server_data_lost
D:\cygwin64\tmp\ccmGw4Pr.s:5234   .text.ind_socket_server_client_joined:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:5241   .text.ind_socket_server_client_joined:00000000 ind_socket_server_client_joined
D:\cygwin64\tmp\ccmGw4Pr.s:5253   .text.ind_socket_server_client_left:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:5260   .text.ind_socket_server_client_left:00000000 ind_socket_server_client_left
D:\cygwin64\tmp\ccmGw4Pr.s:5272   .text.ind_wifi_http_data_available:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:5279   .text.ind_wifi_http_data_available:00000000 ind_wifi_http_data_available
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 213


D:\cygwin64\tmp\ccmGw4Pr.s:5292   .text.ind_wifi_file_data_available:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:5299   .text.ind_wifi_file_data_available:00000000 ind_wifi_file_data_available
D:\cygwin64\tmp\ccmGw4Pr.s:5312   .text.ind_wifi_resuming:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:5319   .text.ind_wifi_resuming:00000000 ind_wifi_resuming
D:\cygwin64\tmp\ccmGw4Pr.s:5331   .text.ind_wifi_mqtt_data_received:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:5338   .text.ind_wifi_mqtt_data_received:00000000 ind_wifi_mqtt_data_received
D:\cygwin64\tmp\ccmGw4Pr.s:5351   .text.ind_wifi_mqtt_closed:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:5358   .text.ind_wifi_mqtt_closed:00000000 ind_wifi_mqtt_closed
D:\cygwin64\tmp\ccmGw4Pr.s:5371   .text.ind_wifi_socket_list_data_available:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:5378   .text.ind_wifi_socket_list_data_available:00000000 ind_wifi_socket_list_data_available
D:\cygwin64\tmp\ccmGw4Pr.s:5391   .text.Wifi_TIM_Handler:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:5398   .text.Wifi_TIM_Handler:00000000 Wifi_TIM_Handler
D:\cygwin64\tmp\ccmGw4Pr.s:5530   .text.Wifi_TIM_Handler:000000b8 $d
D:\cygwin64\tmp\ccmGw4Pr.s:5570   .text.Wifi_TIM_Handler:00000158 $t
D:\cygwin64\tmp\ccmGw4Pr.s:5814   .text.Wifi_TIM_Handler:000002f4 $d
D:\cygwin64\tmp\ccmGw4Pr.s:5829   .text.Wifi_TIM_Handler:00000324 $t
D:\cygwin64\tmp\ccmGw4Pr.s:6246   .text.Wifi_TIM_Handler:000005c8 $d
D:\cygwin64\tmp\ccmGw4Pr.s:6266   .text.Wifi_TIM_Handler:0000060c $t
D:\cygwin64\tmp\ccmGw4Pr.s:6462   .text.Wifi_TIM_Handler:0000075e $d
D:\cygwin64\tmp\ccmGw4Pr.s:6491   .text.Wifi_TIM_Handler:00000798 $t
D:\cygwin64\tmp\ccmGw4Pr.s:6663   .text.Wifi_TIM_Handler:000008c0 $d
D:\cygwin64\tmp\ccmGw4Pr.s:6675   .text.Wifi_TIM_Handler:000008e8 $t
D:\cygwin64\tmp\ccmGw4Pr.s:6955   .text.Wifi_TIM_Handler:00000a40 $d
D:\cygwin64\tmp\ccmGw4Pr.s:6961   .text.ind_wifi_inputssi_callback:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:6968   .text.ind_wifi_inputssi_callback:00000000 ind_wifi_inputssi_callback
D:\cygwin64\tmp\ccmGw4Pr.s:6980   .text.ind_wifi_output_from_remote_callback:00000000 $t
D:\cygwin64\tmp\ccmGw4Pr.s:6987   .text.ind_wifi_output_from_remote_callback:00000000 ind_wifi_output_from_remote_callback
D:\cygwin64\tmp\ccmGw4Pr.s:7001   .rodata.Attention_Cmd.str1.4:00000000 $d
D:\cygwin64\tmp\ccmGw4Pr.s:7005   .rodata.Attention_Cmd_Check.str1.4:00000000 $d
D:\cygwin64\tmp\ccmGw4Pr.s:7009   .rodata.Display_Help_Text.str1.4:00000000 $d
D:\cygwin64\tmp\ccmGw4Pr.s:7013   .rodata.Read_WiFi_Mode.str1.4:00000000 $d
D:\cygwin64\tmp\ccmGw4Pr.s:7023   .rodata.Restore_Default_Setting.str1.4:00000000 $d
D:\cygwin64\tmp\ccmGw4Pr.s:7027   .rodata.SET_Configuration_Addr.str1.4:00000000 $d
D:\cygwin64\tmp\ccmGw4Pr.s:7031   .rodata.SET_Configuration_Value.str1.4:00000000 $d
D:\cygwin64\tmp\ccmGw4Pr.s:7035   .rodata.SET_SSID.str1.4:00000000 $d
D:\cygwin64\tmp\ccmGw4Pr.s:7039   .rodata.SET_WiFi_SecKey.str1.4:00000000 $d
D:\cygwin64\tmp\ccmGw4Pr.s:7043   .rodata.Save_Current_Setting.str1.4:00000000 $d
D:\cygwin64\tmp\ccmGw4Pr.s:7047   .rodata.USART_Transmit_AT_Cmd.str1.4:00000000 $d
D:\cygwin64\tmp\ccmGw4Pr.s:7051   .rodata.WiFi_Configuration.str1.4:00000000 $d
D:\cygwin64\tmp\ccmGw4Pr.s:7058   .rodata.WiFi_switch_to_command_mode.str1.4:00000000 $d
D:\cygwin64\tmp\ccmGw4Pr.s:7062   .rodata.WiFi_switch_to_data_mode.str1.4:00000000 $d
D:\cygwin64\tmp\ccmGw4Pr.s:7066   .rodata.Wifi_TIM_Handler.str1.4:00000000 $d
D:\cygwin64\tmp\ccmGw4Pr.s:7110   .rodata.wifi_firmware_middleware_version_compatibility.str1.4:00000000 $d
D:\cygwin64\tmp\ccmGw4Pr.s:7120   .rodata.wifi_reset.str1.4:00000000 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
IO_status_flag
WiFi_Control_Variables
memset
WiFi_Counter_Variables
Client_Socket_Close_Callback
dma_buffer
WiFi_Config_Variables
HAL_GPIO_Init
HAL_GPIO_WritePin
HAL_Delay
ARM GAS  D:\cygwin64\tmp\ccmGw4Pr.s 			page 214


HAL_GPIO_DeInit
puts
wifi_connected
HAL_UART_Receive_IT
UartWiFiHandle
HAL_UART_Receive_DMA
push_buffer_queue
is_half_full
pop_buffer_queue
Process_Buffer
push_eventbuffer_queue
reset_event
WiFi_AT_Cmd_Buff
BSP_LED_On
init
event_init
HAL_TIM_Base_Start_IT
open_sockets
TimHandle
printf
HAL_UART_Transmit
sprintf
strlen
memcpy
strcmp
SW_FW_COMPATIBILITY
strstr
is_half_empty
client_connected_on_server_socket
wifi_client_connected
wifi_client_disconnected
HAL_UART_Receive
pop_eventbuffer_queue
UserDataBuff
open_web_socket
open_server_sockets
HAL_UART_Transmit_IT
Socket_Read
Socket_Pending_Data
